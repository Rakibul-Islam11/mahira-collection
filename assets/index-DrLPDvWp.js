var Kb=n=>{throw TypeError(n)};var Wp=(n,e,t)=>e.has(n)||Kb("Cannot "+t);var Y=(n,e,t)=>(Wp(n,e,"read from private field"),t?t.call(n):e.get(n)),Fe=(n,e,t)=>e.has(n)?Kb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ce=(n,e,t,r)=>(Wp(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),ot=(n,e,t)=>(Wp(n,e,"access private method"),t);var Sf=(n,e,t,r)=>({set _(a){Ce(n,e,a,t)},get _(){return Y(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function LT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zp={exports:{}},lc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function zR(){if(Yb)return lc;Yb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:o}}return lc.Fragment=e,lc.jsx=t,lc.jsxs=t,lc}var Xb;function BR(){return Xb||(Xb=1,Zp.exports=zR()),Zp.exports}var w=BR(),Jp={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function FR(){if(Wb)return Qe;Wb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,D={};function L(F,se,ge){this.props=F,this.context=se,this.refs=D,this.updater=ge||T}L.prototype.isReactComponent={},L.prototype.setState=function(F,se){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,se,"setState")},L.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function O(){}O.prototype=L.prototype;function C(F,se,ge){this.props=F,this.context=se,this.refs=D,this.updater=ge||T}var R=C.prototype=new O;R.constructor=C,x(R,L.prototype),R.isPureReactComponent=!0;var B=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function j(F,se,ge,me,Ae,qe){return ge=qe.ref,{$$typeof:n,type:F,key:se,ref:ge!==void 0?ge:null,props:qe}}function I(F,se){return j(F.type,se,void 0,void 0,void 0,F.props)}function A(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function M(F){var se={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ge){return se[ge]})}var V=/\/+/g;function z(F,se){return typeof F=="object"&&F!==null&&F.key!=null?M(""+F.key):se.toString(36)}function k(){}function _e(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(k,k):(F.status="pending",F.then(function(se){F.status==="pending"&&(F.status="fulfilled",F.value=se)},function(se){F.status==="pending"&&(F.status="rejected",F.reason=se)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function we(F,se,ge,me,Ae){var qe=typeof F;(qe==="undefined"||qe==="boolean")&&(F=null);var Ee=!1;if(F===null)Ee=!0;else switch(qe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(F.$$typeof){case n:case e:Ee=!0;break;case g:return Ee=F._init,we(Ee(F._payload),se,ge,me,Ae)}}if(Ee)return Ae=Ae(F),Ee=me===""?"."+z(F,0):me,B(Ae)?(ge="",Ee!=null&&(ge=Ee.replace(V,"$&/")+"/"),we(Ae,se,ge,"",function(Ht){return Ht})):Ae!=null&&(A(Ae)&&(Ae=I(Ae,ge+(Ae.key==null||F&&F.key===Ae.key?"":(""+Ae.key).replace(V,"$&/")+"/")+Ee)),se.push(Ae)),1;Ee=0;var Ot=me===""?".":me+":";if(B(F))for(var rt=0;rt<F.length;rt++)me=F[rt],qe=Ot+z(me,rt),Ee+=we(me,se,ge,qe,Ae);else if(rt=b(F),typeof rt=="function")for(F=rt.call(F),rt=0;!(me=F.next()).done;)me=me.value,qe=Ot+z(me,rt++),Ee+=we(me,se,ge,qe,Ae);else if(qe==="object"){if(typeof F.then=="function")return we(_e(F),se,ge,me,Ae);throw se=String(F),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function $(F,se,ge){if(F==null)return F;var me=[],Ae=0;return we(F,me,"","",function(qe){return se.call(ge,qe,Ae++)}),me}function oe(F){if(F._status===-1){var se=F._result;se=se(),se.then(function(ge){(F._status===0||F._status===-1)&&(F._status=1,F._result=ge)},function(ge){(F._status===0||F._status===-1)&&(F._status=2,F._result=ge)}),F._status===-1&&(F._status=0,F._result=se)}if(F._status===1)return F._result.default;throw F._result}var le=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function ye(){}return Qe.Children={map:$,forEach:function(F,se,ge){$(F,function(){se.apply(this,arguments)},ge)},count:function(F){var se=0;return $(F,function(){se++}),se},toArray:function(F){return $(F,function(se){return se})||[]},only:function(F){if(!A(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Qe.Component=L,Qe.Fragment=t,Qe.Profiler=a,Qe.PureComponent=C,Qe.StrictMode=r,Qe.Suspense=h,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(F){return q.H.useMemoCache(F)}},Qe.cache=function(F){return function(){return F.apply(null,arguments)}},Qe.cloneElement=function(F,se,ge){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var me=x({},F.props),Ae=F.key,qe=void 0;if(se!=null)for(Ee in se.ref!==void 0&&(qe=void 0),se.key!==void 0&&(Ae=""+se.key),se)!U.call(se,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&se.ref===void 0||(me[Ee]=se[Ee]);var Ee=arguments.length-2;if(Ee===1)me.children=ge;else if(1<Ee){for(var Ot=Array(Ee),rt=0;rt<Ee;rt++)Ot[rt]=arguments[rt+2];me.children=Ot}return j(F.type,Ae,void 0,void 0,qe,me)},Qe.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},Qe.createElement=function(F,se,ge){var me,Ae={},qe=null;if(se!=null)for(me in se.key!==void 0&&(qe=""+se.key),se)U.call(se,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ae[me]=se[me]);var Ee=arguments.length-2;if(Ee===1)Ae.children=ge;else if(1<Ee){for(var Ot=Array(Ee),rt=0;rt<Ee;rt++)Ot[rt]=arguments[rt+2];Ae.children=Ot}if(F&&F.defaultProps)for(me in Ee=F.defaultProps,Ee)Ae[me]===void 0&&(Ae[me]=Ee[me]);return j(F,qe,void 0,void 0,null,Ae)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(F){return{$$typeof:d,render:F}},Qe.isValidElement=A,Qe.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:oe}},Qe.memo=function(F,se){return{$$typeof:p,type:F,compare:se===void 0?null:se}},Qe.startTransition=function(F){var se=q.T,ge={};q.T=ge;try{var me=F(),Ae=q.S;Ae!==null&&Ae(ge,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(ye,le)}catch(qe){le(qe)}finally{q.T=se}},Qe.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Qe.use=function(F){return q.H.use(F)},Qe.useActionState=function(F,se,ge){return q.H.useActionState(F,se,ge)},Qe.useCallback=function(F,se){return q.H.useCallback(F,se)},Qe.useContext=function(F){return q.H.useContext(F)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(F,se){return q.H.useDeferredValue(F,se)},Qe.useEffect=function(F,se,ge){var me=q.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(F,se)},Qe.useId=function(){return q.H.useId()},Qe.useImperativeHandle=function(F,se,ge){return q.H.useImperativeHandle(F,se,ge)},Qe.useInsertionEffect=function(F,se){return q.H.useInsertionEffect(F,se)},Qe.useLayoutEffect=function(F,se){return q.H.useLayoutEffect(F,se)},Qe.useMemo=function(F,se){return q.H.useMemo(F,se)},Qe.useOptimistic=function(F,se){return q.H.useOptimistic(F,se)},Qe.useReducer=function(F,se,ge){return q.H.useReducer(F,se,ge)},Qe.useRef=function(F){return q.H.useRef(F)},Qe.useState=function(F){return q.H.useState(F)},Qe.useSyncExternalStore=function(F,se,ge){return q.H.useSyncExternalStore(F,se,ge)},Qe.useTransition=function(){return q.H.useTransition()},Qe.version="19.1.0",Qe}var Zb;function Ih(){return Zb||(Zb=1,Jp.exports=FR()),Jp.exports}var Q=Ih();const Nt=LT(Q);var eg={exports:{}},uc={},tg={exports:{}},ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function qR(){return Jb||(Jb=1,function(n){function e($,oe){var le=$.length;$.push(oe);e:for(;0<le;){var ye=le-1>>>1,F=$[ye];if(0<a(F,oe))$[ye]=oe,$[le]=F,le=ye;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var oe=$[0],le=$.pop();if(le!==oe){$[0]=le;e:for(var ye=0,F=$.length,se=F>>>1;ye<se;){var ge=2*(ye+1)-1,me=$[ge],Ae=ge+1,qe=$[Ae];if(0>a(me,le))Ae<F&&0>a(qe,me)?($[ye]=qe,$[Ae]=le,ye=Ae):($[ye]=me,$[ge]=le,ye=ge);else if(Ae<F&&0>a(qe,le))$[ye]=qe,$[Ae]=le,ye=Ae;else break e}}return oe}function a($,oe){var le=$.sortIndex-oe.sortIndex;return le!==0?le:$.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var h=[],p=[],g=1,v=null,b=3,T=!1,x=!1,D=!1,L=!1,O=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function B($){for(var oe=t(p);oe!==null;){if(oe.callback===null)r(p);else if(oe.startTime<=$)r(p),oe.sortIndex=oe.expirationTime,e(h,oe);else break;oe=t(p)}}function q($){if(D=!1,B($),!x)if(t(h)!==null)x=!0,U||(U=!0,z());else{var oe=t(p);oe!==null&&we(q,oe.startTime-$)}}var U=!1,j=-1,I=5,A=-1;function M(){return L?!0:!(n.unstable_now()-A<I)}function V(){if(L=!1,U){var $=n.unstable_now();A=$;var oe=!0;try{e:{x=!1,D&&(D=!1,C(j),j=-1),T=!0;var le=b;try{t:{for(B($),v=t(h);v!==null&&!(v.expirationTime>$&&M());){var ye=v.callback;if(typeof ye=="function"){v.callback=null,b=v.priorityLevel;var F=ye(v.expirationTime<=$);if($=n.unstable_now(),typeof F=="function"){v.callback=F,B($),oe=!0;break t}v===t(h)&&r(h),B($)}else r(h);v=t(h)}if(v!==null)oe=!0;else{var se=t(p);se!==null&&we(q,se.startTime-$),oe=!1}}break e}finally{v=null,b=le,T=!1}oe=void 0}}finally{oe?z():U=!1}}}var z;if(typeof R=="function")z=function(){R(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,_e=k.port2;k.port1.onmessage=V,z=function(){_e.postMessage(null)}}else z=function(){O(V,0)};function we($,oe){j=O(function(){$(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function($){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var le=b;b=oe;try{return $()}finally{b=le}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function($,oe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var le=b;b=$;try{return oe()}finally{b=le}},n.unstable_scheduleCallback=function($,oe,le){var ye=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ye+le:ye):le=ye,$){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=le+F,$={id:g++,callback:oe,priorityLevel:$,startTime:le,expirationTime:F,sortIndex:-1},le>ye?($.sortIndex=le,e(p,$),t(h)===null&&$===t(p)&&(D?(C(j),j=-1):D=!0,we(q,le-ye))):($.sortIndex=F,e(h,$),x||T||(x=!0,U||(U=!0,z()))),$},n.unstable_shouldYield=M,n.unstable_wrapCallback=function($){var oe=b;return function(){var le=b;b=oe;try{return $.apply(this,arguments)}finally{b=le}}}}(ng)),ng}var ew;function HR(){return ew||(ew=1,tg.exports=qR()),tg.exports}var rg={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function GR(){if(tw)return Cn;tw=1;var n=Ih();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,p,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:p,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Cn.createPortal=function(h,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(h,p,null,g)},Cn.flushSync=function(h){var p=c.T,g=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=p,r.p=g,r.d.f()}},Cn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(h,p))},Cn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Cn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var g=p.as,v=d(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:T}):g==="script"&&r.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Cn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=d(p.as,p.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(h)},Cn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,v=d(g,p.crossOrigin);r.d.L(h,g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Cn.preloadModule=function(h,p){if(typeof h=="string")if(p){var g=d(p.as,p.crossOrigin);r.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(h)},Cn.requestFormReset=function(h){r.d.r(h)},Cn.unstable_batchedUpdates=function(h,p){return h(p)},Cn.useFormState=function(h,p,g){return c.H.useFormState(h,p,g)},Cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Cn.version="19.1.0",Cn}var nw;function VT(){if(nw)return rg.exports;nw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rg.exports=GR(),rg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function $R(){if(rw)return uc;rw=1;var n=HR(),e=Ih(),t=VT();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function h(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,u=s;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return d(m),i;if(y===u)return d(m),s;y=y.sibling}throw Error(r(188))}if(l.return!==u.return)l=m,u=y;else{for(var S=!1,N=m.child;N;){if(N===l){S=!0,l=m,u=y;break}if(N===u){S=!0,u=m,l=y;break}N=N.sibling}if(!S){for(N=y.child;N;){if(N===l){S=!0,l=y,u=m;break}if(N===u){S=!0,u=y,l=m;break}N=N.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),R=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function _e(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case L:return"Profiler";case D:return"StrictMode";case q:return"Suspense";case U:return"SuspenseList";case A:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case R:return(i.displayName||"Context")+".Provider";case C:return(i._context.displayName||"Context")+".Consumer";case B:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case j:return s=i.displayName||null,s!==null?s:_e(i.type)||"Memo";case I:s=i._payload,i=i._init;try{return _e(i(s))}catch{}}return null}var we=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ye=[],F=-1;function se(i){return{current:i}}function ge(i){0>F||(i.current=ye[F],ye[F]=null,F--)}function me(i,s){F++,ye[F]=i.current,i.current=s}var Ae=se(null),qe=se(null),Ee=se(null),Ot=se(null);function rt(i,s){switch(me(Ee,s),me(qe,i),me(Ae,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Eb(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Eb(s),i=Tb(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ge(Ae),me(Ae,i)}function Ht(){ge(Ae),ge(qe),ge(Ee)}function Mt(i){i.memoizedState!==null&&me(Ot,i);var s=Ae.current,l=Tb(s,i.type);s!==l&&(me(qe,i),me(Ae,l))}function Sn(i){qe.current===i&&(ge(Ae),ge(qe)),Ot.current===i&&(ge(Ot),rc._currentValue=le)}var Zr=Object.prototype.hasOwnProperty,Ii=n.unstable_scheduleCallback,Ln=n.unstable_cancelCallback,Ta=n.unstable_shouldYield,No=n.unstable_requestPaint,Vn=n.unstable_now,cu=n.unstable_getCurrentPriorityLevel,Sa=n.unstable_ImmediatePriority,hs=n.unstable_UserBlockingPriority,Ni=n.unstable_NormalPriority,Pr=n.unstable_LowPriority,hr=n.unstable_IdlePriority,ms=n.log,ps=n.unstable_setDisableYieldValue,pt=null,Ke=null;function xn(i){if(typeof ms=="function"&&ps(i),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(pt,i)}catch{}}var Gt=Math.clz32?Math.clz32:Jr,Do=Math.log,mr=Math.LN2;function Jr(i){return i>>>=0,i===0?32:31-(Do(i)/mr|0)|0}var ei=256,ti=4194304;function Jn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Di(i,s,l){var u=i.pendingLanes;if(u===0)return 0;var m=0,y=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var N=u&134217727;return N!==0?(u=N&~y,u!==0?m=Jn(u):(S&=N,S!==0?m=Jn(S):l||(l=N&~i,l!==0&&(m=Jn(l))))):(N=u&~y,N!==0?m=Jn(N):S!==0?m=Jn(S):l||(l=u&~i,l!==0&&(m=Jn(l)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:m}function pr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function gs(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oi(){var i=ei;return ei<<=1,(ei&4194048)===0&&(ei=256),i}function xa(){var i=ti;return ti<<=1,(ti&62914560)===0&&(ti=4194304),i}function gr(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Lr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ys(i,s,l,u,m,y){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var N=i.entanglements,H=i.expirationTimes,te=i.hiddenUpdates;for(l=S&~l;0<l;){var ae=31-Gt(l),fe=1<<ae;N[ae]=0,H[ae]=-1;var ne=te[ae];if(ne!==null)for(te[ae]=null,ae=0;ae<ne.length;ae++){var re=ne[ae];re!==null&&(re.lane&=-536870913)}l&=~fe}u!==0&&kn(i,u,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(S&~s))}function kn(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Gt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|l&4194090}function ni(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var u=31-Gt(l),m=1<<u;m&s|i[u]&s&&(i[u]|=s),l&=~m}}function ri(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function vs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function G(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:Fb(i.type))}function W(i,s){var l=oe.p;try{return oe.p=i,s()}finally{oe.p=l}}var ee=Math.random().toString(36).slice(2),de="__reactFiber$"+ee,pe="__reactProps$"+ee,Se="__reactContainer$"+ee,Pe="__reactEvents$"+ee,xe="__reactListeners$"+ee,Ie="__reactHandles$"+ee,De="__reactResources$"+ee,Le="__reactMarker$"+ee;function Ne(i){delete i[de],delete i[pe],delete i[Pe],delete i[xe],delete i[Ie]}function ke(i){var s=i[de];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Se]||l[de]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Rb(i);i!==null;){if(l=i[de])return l;i=Rb(i)}return s}i=l,l=i.parentNode}return null}function Je(i){if(i=i[de]||i[Se]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function yt(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function ht(i){var s=i[De];return s||(s=i[De]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function at(i){i[Le]=!0}var We=new Set,yr={};function Zt(i,s){jn(i,s),jn(i+"Capture",s)}function jn(i,s){for(yr[i]=s,i=0;i<s.length;i++)We.add(s[i])}var mn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ii={},er={};function _s(i){return Zr.call(er,i)?!0:Zr.call(ii,i)?!1:mn.test(i)?er[i]=!0:(ii[i]=!0,!1)}function An(i,s,l){if(_s(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Un(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function He(i,s,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+u)}}var $t,tr;function Gn(i){if($t===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);$t=s&&s[1]||"",tr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$t+i+tr}var si=!1;function Rt(i,s){if(!i||si)return"";si=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var ne=re}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(re){ne=re}i.call(fe.prototype)}}else{try{throw Error()}catch(re){ne=re}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),S=y[0],N=y[1];if(S&&N){var H=S.split(`
`),te=N.split(`
`);for(m=u=0;u<H.length&&!H[u].includes("DetermineComponentFrameRoot");)u++;for(;m<te.length&&!te[m].includes("DetermineComponentFrameRoot");)m++;if(u===H.length||m===te.length)for(u=H.length-1,m=te.length-1;1<=u&&0<=m&&H[u]!==te[m];)m--;for(;1<=u&&0<=m;u--,m--)if(H[u]!==te[m]){if(u!==1||m!==1)do if(u--,m--,0>m||H[u]!==te[m]){var ae=`
`+H[u].replace(" at new "," at ");return i.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",i.displayName)),ae}while(1<=u&&0<=m);break}}}finally{si=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Gn(l):""}function vr(i){switch(i.tag){case 26:case 27:case 5:return Gn(i.type);case 16:return Gn("Lazy");case 13:return Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return Rt(i.type,!1);case 11:return Rt(i.type.render,!1);case 1:return Rt(i.type,!0);case 31:return Gn("Activity");default:return""}}function Mi(i){try{var s="";do s+=vr(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function pn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function du(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function tm(i){var s=du(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(S){u=""+S,y.call(this,S)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Oo(i){i._valueTracker||(i._valueTracker=tm(i))}function fu(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return i&&(u=du(i)?i.checked?"true":"false":i.value),i=u,i!==l?(s.setValue(i),!0):!1}function Aa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var nm=/[\n"\\]/g;function Qt(i){return i.replace(nm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function nr(i,s,l,u,m,y,S,N){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+pn(s)):i.value!==""+pn(s)&&(i.value=""+pn(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?bs(i,S,pn(s)):l!=null?bs(i,S,pn(l)):u!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.name=""+pn(N):i.removeAttribute("name")}function Ra(i,s,l,u,m,y,S,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;l=l!=null?""+pn(l):"",s=s!=null?""+pn(s):l,N||s===i.value||(i.value=s),i.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=N?i.checked:!!u,i.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function bs(i,s,l){s==="number"&&Aa(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Pi(i,s,l,u){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&u&&(i[l].defaultSelected=!0)}else{for(l=""+pn(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Tt(i,s,l){if(s!=null&&(s=""+pn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+pn(l):""}function Ca(i,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(we(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=pn(s),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u)}function _r(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ld(i,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,l):typeof l!="number"||l===0||Ia.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function hu(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&l[m]!==u&&ld(i,m,u)}else for(var y in s)s.hasOwnProperty(y)&&ld(i,y,s[y])}function mu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),im=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(i){return im.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Li=null;function br(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vi=null,ki=null;function pu(i){var s=Je(i);if(s&&(i=s.stateNode)){var l=i[pe]||null;e:switch(i=s.stateNode,s.type){case"input":if(nr(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Qt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==i&&u.form===i.form){var m=u[pe]||null;if(!m)throw Error(r(90));nr(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===i.form&&fu(u)}break e;case"textarea":Tt(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Pi(i,!!l.multiple,s,!1)}}}var ai=!1;function ud(i,s,l){if(ai)return i(s,l);ai=!0;try{var u=i(s);return u}finally{if(ai=!1,(Vi!==null||ki!==null)&&(nf(),Vi&&(s=Vi,i=ki,ki=Vi=null,pu(s),i)))for(s=0;s<i.length;s++)pu(i[s])}}function Na(i,s){var l=i.stateNode;if(l===null)return null;var u=l[pe]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(Vr)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){wr=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{wr=!1}var oi=null,ws=null,ji=null;function gu(){if(ji)return ji;var i,s=ws,l=s.length,u,m="value"in oi?oi.value:oi.textContent,y=m.length;for(i=0;i<l&&s[i]===m[i];i++);var S=l-i;for(u=1;u<=S&&s[l-u]===m[y-u];u++);return ji=m.slice(i,1<u?1-u:void 0)}function li(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ui(){return!0}function yu(){return!1}function on(i){function s(l,u,m,y,S){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(l=i[N],this[N]=l?l(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ui:yu,this.isPropagationStopped=yu,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),s}var vt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Po=on(vt),Oa=g({},vt,{view:0,detail:0}),cd=on(Oa),Lo,Vo,ci,Ma=g({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Va,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ci&&(ci&&i.type==="mousemove"?(Lo=i.screenX-ci.screenX,Vo=i.screenY-ci.screenY):Vo=Lo=0,ci=i),Lo)},movementY:function(i){return"movementY"in i?i.movementY:Vo}}),Er=on(Ma),dd=g({},Ma,{dataTransfer:0}),sm=on(dd),Pa=g({},Oa,{relatedTarget:0}),ko=on(Pa),vu=g({},vt,{animationName:0,elapsedTime:0,pseudoElement:0}),jo=on(vu),fd=g({},vt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Uo=on(fd),am=g({},vt,{data:0}),_u=on(am),La={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},md={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=md[i])?!!s[i]:!1}function Va(){return bu}var pd=g({},Oa,{key:function(i){if(i.key){var s=La[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=li(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Va,charCode:function(i){return i.type==="keypress"?li(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?li(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),zo=on(pd),gd=g({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wu=on(gd),Ui=g({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Va}),yd=on(Ui),vd=g({},vt,{propertyName:0,elapsedTime:0,pseudoElement:0}),_d=on(vd),bd=g({},Ma,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Bo=on(bd),zn=g({},vt,{newState:0,oldState:0}),wd=on(zn),Ed=[9,13,27,32],di=Vr&&"CompositionEvent"in window,f=null;Vr&&"documentMode"in document&&(f=document.documentMode);var _=Vr&&"TextEvent"in window&&!f,E=Vr&&(!di||f&&8<f&&11>=f),P=" ",Z=!1;function ie(i,s){switch(i){case"keyup":return Ed.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ut=!1;function Jt(i,s){switch(i){case"compositionend":return ve(s);case"keypress":return s.which!==32?null:(Z=!0,P);case"textInput":return i=s.data,i===P&&Z?null:i;default:return null}}function ct(i,s){if(ut)return i==="compositionend"||!di&&ie(i,s)?(i=gu(),ji=ws=oi=null,ut=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function en(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ln[i.type]:s==="textarea"}function zi(i,s,l,u){Vi?ki?ki.push(u):ki=[u]:Vi=u,s=uf(s,"onChange"),0<s.length&&(l=new Po("onChange","change",null,l,u),i.push({event:l,listeners:s}))}var gn=null,fi=null;function Eu(i){yb(i,0)}function Td(i){var s=yt(i);if(fu(s))return i}function jv(i,s){if(i==="change")return s}var Uv=!1;if(Vr){var om;if(Vr){var lm="oninput"in document;if(!lm){var zv=document.createElement("div");zv.setAttribute("oninput","return;"),lm=typeof zv.oninput=="function"}om=lm}else om=!1;Uv=om&&(!document.documentMode||9<document.documentMode)}function Bv(){gn&&(gn.detachEvent("onpropertychange",Fv),fi=gn=null)}function Fv(i){if(i.propertyName==="value"&&Td(fi)){var s=[];zi(s,fi,i,br(i)),ud(Eu,s)}}function gA(i,s,l){i==="focusin"?(Bv(),gn=s,fi=l,gn.attachEvent("onpropertychange",Fv)):i==="focusout"&&Bv()}function yA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Td(fi)}function vA(i,s){if(i==="click")return Td(s)}function _A(i,s){if(i==="input"||i==="change")return Td(s)}function bA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var rr=typeof Object.is=="function"?Object.is:bA;function Tu(i,s){if(rr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!Zr.call(s,m)||!rr(i[m],s[m]))return!1}return!0}function qv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Hv(i,s){var l=qv(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=s&&u>=s)return{node:l,offset:s-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=qv(l)}}function Gv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Gv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function $v(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Aa(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Aa(i.document)}return s}function um(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var wA=Vr&&"documentMode"in document&&11>=document.documentMode,Fo=null,cm=null,Su=null,dm=!1;function Qv(i,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;dm||Fo==null||Fo!==Aa(u)||(u=Fo,"selectionStart"in u&&um(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Su&&Tu(Su,u)||(Su=u,u=uf(cm,"onSelect"),0<u.length&&(s=new Po("onSelect","select",null,s,l),i.push({event:s,listeners:u}),s.target=Fo)))}function ka(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var qo={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionrun:ka("Transition","TransitionRun"),transitionstart:ka("Transition","TransitionStart"),transitioncancel:ka("Transition","TransitionCancel"),transitionend:ka("Transition","TransitionEnd")},fm={},Kv={};Vr&&(Kv=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function ja(i){if(fm[i])return fm[i];if(!qo[i])return i;var s=qo[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Kv)return fm[i]=s[l];return i}var Yv=ja("animationend"),Xv=ja("animationiteration"),Wv=ja("animationstart"),EA=ja("transitionrun"),TA=ja("transitionstart"),SA=ja("transitioncancel"),Zv=ja("transitionend"),Jv=new Map,hm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hm.push("scrollEnd");function kr(i,s){Jv.set(i,s),Zt(s,[i])}var e0=new WeakMap;function Tr(i,s){if(typeof i=="object"&&i!==null){var l=e0.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Mi(s)},e0.set(i,s),s)}return{value:i,source:s,stack:Mi(s)}}var Sr=[],Ho=0,mm=0;function Sd(){for(var i=Ho,s=mm=Ho=0;s<i;){var l=Sr[s];Sr[s++]=null;var u=Sr[s];Sr[s++]=null;var m=Sr[s];Sr[s++]=null;var y=Sr[s];if(Sr[s++]=null,u!==null&&m!==null){var S=u.pending;S===null?m.next=m:(m.next=S.next,S.next=m),u.pending=m}y!==0&&t0(l,m,y)}}function xd(i,s,l,u){Sr[Ho++]=i,Sr[Ho++]=s,Sr[Ho++]=l,Sr[Ho++]=u,mm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function pm(i,s,l,u){return xd(i,s,l,u),Ad(i)}function Go(i,s){return xd(i,null,null,s),Ad(i)}function t0(i,s,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var m=!1,y=i.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&s!==null&&(m=31-Gt(l),i=y.hiddenUpdates,u=i[m],u===null?i[m]=[s]:u.push(s),s.lane=l|536870912),y):null}function Ad(i){if(50<Yu)throw Yu=0,wp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var $o={};function xA(i,s,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(i,s,l,u){return new xA(i,s,l,u)}function gm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Bi(i,s){var l=i.alternate;return l===null?(l=ir(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function n0(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Rd(i,s,l,u,m,y){var S=0;if(u=i,typeof i=="function")gm(i)&&(S=1);else if(typeof i=="string")S=RR(i,l,Ae.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case A:return i=ir(31,l,s,m),i.elementType=A,i.lanes=y,i;case x:return Ua(l.children,m,y,s);case D:S=8,m|=24;break;case L:return i=ir(12,l,s,m|2),i.elementType=L,i.lanes=y,i;case q:return i=ir(13,l,s,m),i.elementType=q,i.lanes=y,i;case U:return i=ir(19,l,s,m),i.elementType=U,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:case R:S=10;break e;case C:S=9;break e;case B:S=11;break e;case j:S=14;break e;case I:S=16,u=null;break e}S=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=ir(S,l,s,m),s.elementType=i,s.type=u,s.lanes=y,s}function Ua(i,s,l,u){return i=ir(7,i,u,s),i.lanes=l,i}function ym(i,s,l){return i=ir(6,i,null,s),i.lanes=l,i}function vm(i,s,l){return s=ir(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Qo=[],Ko=0,Cd=null,Id=0,xr=[],Ar=0,za=null,Fi=1,qi="";function Ba(i,s){Qo[Ko++]=Id,Qo[Ko++]=Cd,Cd=i,Id=s}function r0(i,s,l){xr[Ar++]=Fi,xr[Ar++]=qi,xr[Ar++]=za,za=i;var u=Fi;i=qi;var m=32-Gt(u)-1;u&=~(1<<m),l+=1;var y=32-Gt(s)+m;if(30<y){var S=m-m%5;y=(u&(1<<S)-1).toString(32),u>>=S,m-=S,Fi=1<<32-Gt(s)+m|l<<m|u,qi=y+i}else Fi=1<<y|l<<m|u,qi=i}function _m(i){i.return!==null&&(Ba(i,1),r0(i,1,0))}function bm(i){for(;i===Cd;)Cd=Qo[--Ko],Qo[Ko]=null,Id=Qo[--Ko],Qo[Ko]=null;for(;i===za;)za=xr[--Ar],xr[Ar]=null,qi=xr[--Ar],xr[Ar]=null,Fi=xr[--Ar],xr[Ar]=null}var Bn=null,kt=null,gt=!1,Fa=null,hi=!1,wm=Error(r(519));function qa(i){var s=Error(r(418,""));throw Ru(Tr(s,i)),wm}function i0(i){var s=i.stateNode,l=i.type,u=i.memoizedProps;switch(s[de]=i,s[pe]=u,l){case"dialog":tt("cancel",s),tt("close",s);break;case"iframe":case"object":case"embed":tt("load",s);break;case"video":case"audio":for(l=0;l<Wu.length;l++)tt(Wu[l],s);break;case"source":tt("error",s);break;case"img":case"image":case"link":tt("error",s),tt("load",s);break;case"details":tt("toggle",s);break;case"input":tt("invalid",s),Ra(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Oo(s);break;case"select":tt("invalid",s);break;case"textarea":tt("invalid",s),Ca(s,u.value,u.defaultValue,u.children),Oo(s)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||wb(s.textContent,l)?(u.popover!=null&&(tt("beforetoggle",s),tt("toggle",s)),u.onScroll!=null&&tt("scroll",s),u.onScrollEnd!=null&&tt("scrollend",s),u.onClick!=null&&(s.onclick=cf),s=!0):s=!1,s||qa(i)}function s0(i){for(Bn=i.return;Bn;)switch(Bn.tag){case 5:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:Bn=Bn.return}}function xu(i){if(i!==Bn)return!1;if(!gt)return s0(i),gt=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||kp(i.type,i.memoizedProps)),l=!l),l&&kt&&qa(i),s0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){kt=Ur(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}kt=null}}else s===27?(s=kt,ks(i.type)?(i=Bp,Bp=null,kt=i):kt=s):kt=Bn?Ur(i.stateNode.nextSibling):null;return!0}function Au(){kt=Bn=null,gt=!1}function a0(){var i=Fa;return i!==null&&(Kn===null?Kn=i:Kn.push.apply(Kn,i),Fa=null),i}function Ru(i){Fa===null?Fa=[i]:Fa.push(i)}var Em=se(null),Ha=null,Hi=null;function Es(i,s,l){me(Em,s._currentValue),s._currentValue=l}function Gi(i){i._currentValue=Em.current,ge(Em)}function Tm(i,s,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===l)break;i=i.return}}function Sm(i,s,l,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var S=m.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=m;for(var H=0;H<s.length;H++)if(N.context===s[H]){y.lanes|=l,N=y.alternate,N!==null&&(N.lanes|=l),Tm(y.return,l,i),u||(S=null);break e}y=N.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(r(341));S.lanes|=l,y=S.alternate,y!==null&&(y.lanes|=l),Tm(S,l,i),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===i){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Cu(i,s,l,u){i=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var N=m.type;rr(m.pendingProps.value,S.value)||(i!==null?i.push(N):i=[N])}}else if(m===Ot.current){if(S=m.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(rc):i=[rc])}m=m.return}i!==null&&Sm(s,i,l,u),s.flags|=262144}function Nd(i){for(i=i.firstContext;i!==null;){if(!rr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ga(i){Ha=i,Hi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Rn(i){return o0(Ha,i)}function Dd(i,s){return Ha===null&&Ga(i),o0(i,s)}function o0(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Hi===null){if(i===null)throw Error(r(308));Hi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Hi=Hi.next=s;return l}var AA=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},RA=n.unstable_scheduleCallback,CA=n.unstable_NormalPriority,tn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xm(){return{controller:new AA,data:new Map,refCount:0}}function Iu(i){i.refCount--,i.refCount===0&&RA(CA,function(){i.controller.abort()})}var Nu=null,Am=0,Yo=0,Xo=null;function IA(i,s){if(Nu===null){var l=Nu=[];Am=0,Yo=Cp(),Xo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Am++,s.then(l0,l0),s}function l0(){if(--Am===0&&Nu!==null){Xo!==null&&(Xo.status="fulfilled");var i=Nu;Nu=null,Yo=0,Xo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function NA(i,s){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<l.length;m++)(0,l[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var u0=$.S;$.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&IA(i,s),u0!==null&&u0(i,s)};var $a=se(null);function Rm(){var i=$a.current;return i!==null?i:It.pooledCache}function Od(i,s){s===null?me($a,$a.current):me($a,s.pool)}function c0(){var i=Rm();return i===null?null:{parent:tn._currentValue,pool:i}}var Du=Error(r(460)),d0=Error(r(474)),Md=Error(r(542)),Cm={then:function(){}};function f0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Pd(){}function h0(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Pd,Pd),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,p0(i),i;default:if(typeof s.status=="string")s.then(Pd,Pd);else{if(i=It,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,p0(i),i}throw Ou=s,Du}}var Ou=null;function m0(){if(Ou===null)throw Error(r(459));var i=Ou;return Ou=null,i}function p0(i){if(i===Du||i===Md)throw Error(r(483))}var Ts=!1;function Im(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ss(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xs(i,s,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(wt&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=Ad(i),t0(i,null,l),s}return xd(i,u,s,l),Ad(i)}function Mu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,ni(i,l)}}function Dm(i,s){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?m=y=s:y=y.next=s}else m=y=s;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Om=!1;function Pu(){if(Om){var i=Xo;if(i!==null)throw i}}function Lu(i,s,l,u){Om=!1;var m=i.updateQueue;Ts=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var H=N,te=H.next;H.next=null,S===null?y=te:S.next=te,S=H;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,N=ae.lastBaseUpdate,N!==S&&(N===null?ae.firstBaseUpdate=te:N.next=te,ae.lastBaseUpdate=H))}if(y!==null){var fe=m.baseState;S=0,ae=te=H=null,N=y;do{var ne=N.lane&-536870913,re=ne!==N.lane;if(re?(dt&ne)===ne:(u&ne)===ne){ne!==0&&ne===Yo&&(Om=!0),ae!==null&&(ae=ae.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Be=i,Ve=N;ne=s;var At=l;switch(Ve.tag){case 1:if(Be=Ve.payload,typeof Be=="function"){fe=Be.call(At,fe,ne);break e}fe=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ve.payload,ne=typeof Be=="function"?Be.call(At,fe,ne):Be,ne==null)break e;fe=g({},fe,ne);break e;case 2:Ts=!0}}ne=N.callback,ne!==null&&(i.flags|=64,re&&(i.flags|=8192),re=m.callbacks,re===null?m.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ae===null?(te=ae=re,H=fe):ae=ae.next=re,S|=ne;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;re=N,N=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);ae===null&&(H=fe),m.baseState=H,m.firstBaseUpdate=te,m.lastBaseUpdate=ae,y===null&&(m.shared.lanes=0),Ms|=S,i.lanes=S,i.memoizedState=fe}}function g0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function y0(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)g0(l[i],s)}var Wo=se(null),Ld=se(0);function v0(i,s){i=Zi,me(Ld,i),me(Wo,s),Zi=i|s.baseLanes}function Mm(){me(Ld,Zi),me(Wo,Wo.current)}function Pm(){Zi=Ld.current,ge(Wo),ge(Ld)}var As=0,Ye=null,St=null,Kt=null,Vd=!1,Zo=!1,Qa=!1,kd=0,Vu=0,Jo=null,DA=0;function zt(){throw Error(r(321))}function Lm(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!rr(i[l],s[l]))return!1;return!0}function Vm(i,s,l,u,m,y){return As=y,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=i===null||i.memoizedState===null?t_:n_,Qa=!1,y=l(u,m),Qa=!1,Zo&&(y=b0(s,l,u,m)),_0(i),y}function _0(i){$.H=qd;var s=St!==null&&St.next!==null;if(As=0,Kt=St=Ye=null,Vd=!1,Vu=0,Jo=null,s)throw Error(r(300));i===null||un||(i=i.dependencies,i!==null&&Nd(i)&&(un=!0))}function b0(i,s,l,u){Ye=i;var m=0;do{if(Zo&&(Jo=null),Vu=0,Zo=!1,25<=m)throw Error(r(301));if(m+=1,Kt=St=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}$.H=jA,y=s(l,u)}while(Zo);return y}function OA(){var i=$.H,s=i.useState()[0];return s=typeof s.then=="function"?ku(s):s,i=i.useState()[0],(St!==null?St.memoizedState:null)!==i&&(Ye.flags|=1024),s}function km(){var i=kd!==0;return kd=0,i}function jm(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Um(i){if(Vd){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Vd=!1}As=0,Kt=St=Ye=null,Zo=!1,Vu=kd=0,Jo=null}function $n(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Ye.memoizedState=Kt=i:Kt=Kt.next=i,Kt}function Yt(){if(St===null){var i=Ye.alternate;i=i!==null?i.memoizedState:null}else i=St.next;var s=Kt===null?Ye.memoizedState:Kt.next;if(s!==null)Kt=s,St=i;else{if(i===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));St=i,i={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Kt===null?Ye.memoizedState=Kt=i:Kt=Kt.next=i}return Kt}function zm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ku(i){var s=Vu;return Vu+=1,Jo===null&&(Jo=[]),i=h0(Jo,i,s),s=Ye,(Kt===null?s.memoizedState:Kt.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?t_:n_),i}function jd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ku(i);if(i.$$typeof===R)return Rn(i)}throw Error(r(438,String(i)))}function Bm(i){var s=null,l=Ye.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Ye.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=zm(),Ye.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),u=0;u<i;u++)l[u]=M;return s.index++,l}function $i(i,s){return typeof s=="function"?s(i):s}function Ud(i){var s=Yt();return Fm(s,St,i)}function Fm(i,s,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var m=i.baseQueue,y=u.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}s.baseQueue=m=y,u.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{s=m.next;var N=S=null,H=null,te=s,ae=!1;do{var fe=te.lane&-536870913;if(fe!==te.lane?(dt&fe)===fe:(As&fe)===fe){var ne=te.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),fe===Yo&&(ae=!0);else if((As&ne)===ne){te=te.next,ne===Yo&&(ae=!0);continue}else fe={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(N=H=fe,S=y):H=H.next=fe,Ye.lanes|=ne,Ms|=ne;fe=te.action,Qa&&l(y,fe),y=te.hasEagerState?te.eagerState:l(y,fe)}else ne={lane:fe,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(N=H=ne,S=y):H=H.next=ne,Ye.lanes|=fe,Ms|=fe;te=te.next}while(te!==null&&te!==s);if(H===null?S=y:H.next=N,!rr(y,i.memoizedState)&&(un=!0,ae&&(l=Xo,l!==null)))throw l;i.memoizedState=y,i.baseState=S,i.baseQueue=H,u.lastRenderedState=y}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function qm(i){var s=Yt(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,m=l.pending,y=s.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do y=i(y,S.action),S=S.next;while(S!==m);rr(y,s.memoizedState)||(un=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,u]}function w0(i,s,l){var u=Ye,m=Yt(),y=gt;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=s();var S=!rr((St||m).memoizedState,l);S&&(m.memoizedState=l,un=!0),m=m.queue;var N=S0.bind(null,u,m,i);if(ju(2048,8,N,[i]),m.getSnapshot!==s||S||Kt!==null&&Kt.memoizedState.tag&1){if(u.flags|=2048,el(9,zd(),T0.bind(null,u,m,l,s),null),It===null)throw Error(r(349));y||(As&124)!==0||E0(u,s,l)}return l}function E0(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Ye.updateQueue,s===null?(s=zm(),Ye.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function T0(i,s,l,u){s.value=l,s.getSnapshot=u,x0(s)&&A0(i)}function S0(i,s,l){return l(function(){x0(s)&&A0(i)})}function x0(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!rr(i,l)}catch{return!0}}function A0(i){var s=Go(i,2);s!==null&&ur(s,i,2)}function Hm(i){var s=$n();if(typeof i=="function"){var l=i;if(i=l(),Qa){xn(!0);try{l()}finally{xn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:i},s}function R0(i,s,l,u){return i.baseState=l,Fm(i,St,typeof u=="function"?u:$i)}function MA(i,s,l,u,m){if(Fd(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};$.T!==null?l(!0):y.isTransition=!1,u(y),l=s.pending,l===null?(y.next=s.pending=y,C0(s,y)):(y.next=l.next,s.pending=l.next=y)}}function C0(i,s){var l=s.action,u=s.payload,m=i.state;if(s.isTransition){var y=$.T,S={};$.T=S;try{var N=l(m,u),H=$.S;H!==null&&H(S,N),I0(i,s,N)}catch(te){Gm(i,s,te)}finally{$.T=y}}else try{y=l(m,u),I0(i,s,y)}catch(te){Gm(i,s,te)}}function I0(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){N0(i,s,u)},function(u){return Gm(i,s,u)}):N0(i,s,l)}function N0(i,s,l){s.status="fulfilled",s.value=l,D0(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,C0(i,l)))}function Gm(i,s,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,D0(s),s=s.next;while(s!==u)}i.action=null}function D0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function O0(i,s){return s}function M0(i,s){if(gt){var l=It.formState;if(l!==null){e:{var u=Ye;if(gt){if(kt){t:{for(var m=kt,y=hi;m.nodeType!==8;){if(!y){m=null;break t}if(m=Ur(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){kt=Ur(m.nextSibling),u=m.data==="F!";break e}}qa(u)}u=!1}u&&(s=l[0])}}return l=$n(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O0,lastRenderedState:s},l.queue=u,l=Z0.bind(null,Ye,u),u.dispatch=l,u=Hm(!1),y=Xm.bind(null,Ye,!1,u.queue),u=$n(),m={state:s,dispatch:null,action:i,pending:null},u.queue=m,l=MA.bind(null,Ye,m,y,l),m.dispatch=l,u.memoizedState=i,[s,l,!1]}function P0(i){var s=Yt();return L0(s,St,i)}function L0(i,s,l){if(s=Fm(i,s,O0)[0],i=Ud($i)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=ku(s)}catch(S){throw S===Du?Md:S}else u=s;s=Yt();var m=s.queue,y=m.dispatch;return l!==s.memoizedState&&(Ye.flags|=2048,el(9,zd(),PA.bind(null,m,l),null)),[u,y,i]}function PA(i,s){i.action=s}function V0(i){var s=Yt(),l=St;if(l!==null)return L0(s,l,i);Yt(),s=s.memoizedState,l=Yt();var u=l.queue.dispatch;return l.memoizedState=i,[s,u,!1]}function el(i,s,l,u){return i={tag:i,create:l,deps:u,inst:s,next:null},s=Ye.updateQueue,s===null&&(s=zm(),Ye.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,s.lastEffect=i),i}function zd(){return{destroy:void 0,resource:void 0}}function k0(){return Yt().memoizedState}function Bd(i,s,l,u){var m=$n();u=u===void 0?null:u,Ye.flags|=i,m.memoizedState=el(1|s,zd(),l,u)}function ju(i,s,l,u){var m=Yt();u=u===void 0?null:u;var y=m.memoizedState.inst;St!==null&&u!==null&&Lm(u,St.memoizedState.deps)?m.memoizedState=el(s,y,l,u):(Ye.flags|=i,m.memoizedState=el(1|s,y,l,u))}function j0(i,s){Bd(8390656,8,i,s)}function U0(i,s){ju(2048,8,i,s)}function z0(i,s){return ju(4,2,i,s)}function B0(i,s){return ju(4,4,i,s)}function F0(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function q0(i,s,l){l=l!=null?l.concat([i]):null,ju(4,4,F0.bind(null,s,i),l)}function $m(){}function H0(i,s){var l=Yt();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Lm(s,u[1])?u[0]:(l.memoizedState=[i,s],i)}function G0(i,s){var l=Yt();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Lm(s,u[1]))return u[0];if(u=i(),Qa){xn(!0);try{i()}finally{xn(!1)}}return l.memoizedState=[u,s],u}function Qm(i,s,l){return l===void 0||(As&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=K_(),Ye.lanes|=i,Ms|=i,l)}function $0(i,s,l,u){return rr(l,s)?l:Wo.current!==null?(i=Qm(i,l,u),rr(i,s)||(un=!0),i):(As&42)===0?(un=!0,i.memoizedState=l):(i=K_(),Ye.lanes|=i,Ms|=i,s)}function Q0(i,s,l,u,m){var y=oe.p;oe.p=y!==0&&8>y?y:8;var S=$.T,N={};$.T=N,Xm(i,!1,s,l);try{var H=m(),te=$.S;if(te!==null&&te(N,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ae=NA(H,u);Uu(i,s,ae,lr(i))}else Uu(i,s,u,lr(i))}catch(fe){Uu(i,s,{then:function(){},status:"rejected",reason:fe},lr())}finally{oe.p=y,$.T=S}}function LA(){}function Km(i,s,l,u){if(i.tag!==5)throw Error(r(476));var m=K0(i).queue;Q0(i,m,s,le,l===null?LA:function(){return Y0(i),l(u)})}function K0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:le},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Y0(i){var s=K0(i).next.queue;Uu(i,s,{},lr())}function Ym(){return Rn(rc)}function X0(){return Yt().memoizedState}function W0(){return Yt().memoizedState}function VA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=lr();i=Ss(l);var u=xs(s,i,l);u!==null&&(ur(u,s,l),Mu(u,s,l)),s={cache:xm()},i.payload=s;return}s=s.return}}function kA(i,s,l){var u=lr();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Fd(i)?J0(s,l):(l=pm(i,s,l,u),l!==null&&(ur(l,i,u),e_(l,s,u)))}function Z0(i,s,l){var u=lr();Uu(i,s,l,u)}function Uu(i,s,l,u){var m={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fd(i))J0(s,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var S=s.lastRenderedState,N=y(S,l);if(m.hasEagerState=!0,m.eagerState=N,rr(N,S))return xd(i,s,m,0),It===null&&Sd(),!1}catch{}finally{}if(l=pm(i,s,m,u),l!==null)return ur(l,i,u),e_(l,s,u),!0}return!1}function Xm(i,s,l,u){if(u={lane:2,revertLane:Cp(),action:u,hasEagerState:!1,eagerState:null,next:null},Fd(i)){if(s)throw Error(r(479))}else s=pm(i,l,u,2),s!==null&&ur(s,i,2)}function Fd(i){var s=i.alternate;return i===Ye||s!==null&&s===Ye}function J0(i,s){Zo=Vd=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function e_(i,s,l){if((l&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,ni(i,l)}}var qd={readContext:Rn,use:jd,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},t_={readContext:Rn,use:jd,useCallback:function(i,s){return $n().memoizedState=[i,s===void 0?null:s],i},useContext:Rn,useEffect:j0,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Bd(4194308,4,F0.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Bd(4194308,4,i,s)},useInsertionEffect:function(i,s){Bd(4,2,i,s)},useMemo:function(i,s){var l=$n();s=s===void 0?null:s;var u=i();if(Qa){xn(!0);try{i()}finally{xn(!1)}}return l.memoizedState=[u,s],u},useReducer:function(i,s,l){var u=$n();if(l!==void 0){var m=l(s);if(Qa){xn(!0);try{l(s)}finally{xn(!1)}}}else m=s;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=kA.bind(null,Ye,i),[u.memoizedState,i]},useRef:function(i){var s=$n();return i={current:i},s.memoizedState=i},useState:function(i){i=Hm(i);var s=i.queue,l=Z0.bind(null,Ye,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:$m,useDeferredValue:function(i,s){var l=$n();return Qm(l,i,s)},useTransition:function(){var i=Hm(!1);return i=Q0.bind(null,Ye,i.queue,!0,!1),$n().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var u=Ye,m=$n();if(gt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),It===null)throw Error(r(349));(dt&124)!==0||E0(u,s,l)}m.memoizedState=l;var y={value:l,getSnapshot:s};return m.queue=y,j0(S0.bind(null,u,y,i),[i]),u.flags|=2048,el(9,zd(),T0.bind(null,u,y,l,s),null),l},useId:function(){var i=$n(),s=It.identifierPrefix;if(gt){var l=qi,u=Fi;l=(u&~(1<<32-Gt(u)-1)).toString(32)+l,s=""+s+"R"+l,l=kd++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=DA++,s=""+s+"r"+l.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Ym,useFormState:M0,useActionState:M0,useOptimistic:function(i){var s=$n();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Xm.bind(null,Ye,!0,l),l.dispatch=s,[i,s]},useMemoCache:Bm,useCacheRefresh:function(){return $n().memoizedState=VA.bind(null,Ye)}},n_={readContext:Rn,use:jd,useCallback:H0,useContext:Rn,useEffect:U0,useImperativeHandle:q0,useInsertionEffect:z0,useLayoutEffect:B0,useMemo:G0,useReducer:Ud,useRef:k0,useState:function(){return Ud($i)},useDebugValue:$m,useDeferredValue:function(i,s){var l=Yt();return $0(l,St.memoizedState,i,s)},useTransition:function(){var i=Ud($i)[0],s=Yt().memoizedState;return[typeof i=="boolean"?i:ku(i),s]},useSyncExternalStore:w0,useId:X0,useHostTransitionStatus:Ym,useFormState:P0,useActionState:P0,useOptimistic:function(i,s){var l=Yt();return R0(l,St,i,s)},useMemoCache:Bm,useCacheRefresh:W0},jA={readContext:Rn,use:jd,useCallback:H0,useContext:Rn,useEffect:U0,useImperativeHandle:q0,useInsertionEffect:z0,useLayoutEffect:B0,useMemo:G0,useReducer:qm,useRef:k0,useState:function(){return qm($i)},useDebugValue:$m,useDeferredValue:function(i,s){var l=Yt();return St===null?Qm(l,i,s):$0(l,St.memoizedState,i,s)},useTransition:function(){var i=qm($i)[0],s=Yt().memoizedState;return[typeof i=="boolean"?i:ku(i),s]},useSyncExternalStore:w0,useId:X0,useHostTransitionStatus:Ym,useFormState:V0,useActionState:V0,useOptimistic:function(i,s){var l=Yt();return St!==null?R0(l,St,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Bm,useCacheRefresh:W0},tl=null,zu=0;function Hd(i){var s=zu;return zu+=1,tl===null&&(tl=[]),h0(tl,i,s)}function Bu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Gd(i,s){throw s.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function r_(i){var s=i._init;return s(i._payload)}function i_(i){function s(X,K){if(i){var J=X.deletions;J===null?(X.deletions=[K],X.flags|=16):J.push(K)}}function l(X,K){if(!i)return null;for(;K!==null;)s(X,K),K=K.sibling;return null}function u(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function m(X,K){return X=Bi(X,K),X.index=0,X.sibling=null,X}function y(X,K,J){return X.index=J,i?(J=X.alternate,J!==null?(J=J.index,J<K?(X.flags|=67108866,K):J):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function S(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function N(X,K,J,ce){return K===null||K.tag!==6?(K=ym(J,X.mode,ce),K.return=X,K):(K=m(K,J),K.return=X,K)}function H(X,K,J,ce){var Re=J.type;return Re===x?ae(X,K,J.props.children,ce,J.key):K!==null&&(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===I&&r_(Re)===K.type)?(K=m(K,J.props),Bu(K,J),K.return=X,K):(K=Rd(J.type,J.key,J.props,null,X.mode,ce),Bu(K,J),K.return=X,K)}function te(X,K,J,ce){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=vm(J,X.mode,ce),K.return=X,K):(K=m(K,J.children||[]),K.return=X,K)}function ae(X,K,J,ce,Re){return K===null||K.tag!==7?(K=Ua(J,X.mode,ce,Re),K.return=X,K):(K=m(K,J),K.return=X,K)}function fe(X,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=ym(""+K,X.mode,J),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return J=Rd(K.type,K.key,K.props,null,X.mode,J),Bu(J,K),J.return=X,J;case T:return K=vm(K,X.mode,J),K.return=X,K;case I:var ce=K._init;return K=ce(K._payload),fe(X,K,J)}if(we(K)||z(K))return K=Ua(K,X.mode,J,null),K.return=X,K;if(typeof K.then=="function")return fe(X,Hd(K),J);if(K.$$typeof===R)return fe(X,Dd(X,K),J);Gd(X,K)}return null}function ne(X,K,J,ce){var Re=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Re!==null?null:N(X,K,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===Re?H(X,K,J,ce):null;case T:return J.key===Re?te(X,K,J,ce):null;case I:return Re=J._init,J=Re(J._payload),ne(X,K,J,ce)}if(we(J)||z(J))return Re!==null?null:ae(X,K,J,ce,null);if(typeof J.then=="function")return ne(X,K,Hd(J),ce);if(J.$$typeof===R)return ne(X,K,Dd(X,J),ce);Gd(X,J)}return null}function re(X,K,J,ce,Re){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return X=X.get(J)||null,N(K,X,""+ce,Re);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return X=X.get(ce.key===null?J:ce.key)||null,H(K,X,ce,Re);case T:return X=X.get(ce.key===null?J:ce.key)||null,te(K,X,ce,Re);case I:var Ze=ce._init;return ce=Ze(ce._payload),re(X,K,J,ce,Re)}if(we(ce)||z(ce))return X=X.get(J)||null,ae(K,X,ce,Re,null);if(typeof ce.then=="function")return re(X,K,J,Hd(ce),Re);if(ce.$$typeof===R)return re(X,K,J,Dd(K,ce),Re);Gd(K,ce)}return null}function Be(X,K,J,ce){for(var Re=null,Ze=null,Oe=K,je=K=0,dn=null;Oe!==null&&je<J.length;je++){Oe.index>je?(dn=Oe,Oe=null):dn=Oe.sibling;var mt=ne(X,Oe,J[je],ce);if(mt===null){Oe===null&&(Oe=dn);break}i&&Oe&&mt.alternate===null&&s(X,Oe),K=y(mt,K,je),Ze===null?Re=mt:Ze.sibling=mt,Ze=mt,Oe=dn}if(je===J.length)return l(X,Oe),gt&&Ba(X,je),Re;if(Oe===null){for(;je<J.length;je++)Oe=fe(X,J[je],ce),Oe!==null&&(K=y(Oe,K,je),Ze===null?Re=Oe:Ze.sibling=Oe,Ze=Oe);return gt&&Ba(X,je),Re}for(Oe=u(Oe);je<J.length;je++)dn=re(Oe,X,je,J[je],ce),dn!==null&&(i&&dn.alternate!==null&&Oe.delete(dn.key===null?je:dn.key),K=y(dn,K,je),Ze===null?Re=dn:Ze.sibling=dn,Ze=dn);return i&&Oe.forEach(function(Fs){return s(X,Fs)}),gt&&Ba(X,je),Re}function Ve(X,K,J,ce){if(J==null)throw Error(r(151));for(var Re=null,Ze=null,Oe=K,je=K=0,dn=null,mt=J.next();Oe!==null&&!mt.done;je++,mt=J.next()){Oe.index>je?(dn=Oe,Oe=null):dn=Oe.sibling;var Fs=ne(X,Oe,mt.value,ce);if(Fs===null){Oe===null&&(Oe=dn);break}i&&Oe&&Fs.alternate===null&&s(X,Oe),K=y(Fs,K,je),Ze===null?Re=Fs:Ze.sibling=Fs,Ze=Fs,Oe=dn}if(mt.done)return l(X,Oe),gt&&Ba(X,je),Re;if(Oe===null){for(;!mt.done;je++,mt=J.next())mt=fe(X,mt.value,ce),mt!==null&&(K=y(mt,K,je),Ze===null?Re=mt:Ze.sibling=mt,Ze=mt);return gt&&Ba(X,je),Re}for(Oe=u(Oe);!mt.done;je++,mt=J.next())mt=re(Oe,X,je,mt.value,ce),mt!==null&&(i&&mt.alternate!==null&&Oe.delete(mt.key===null?je:mt.key),K=y(mt,K,je),Ze===null?Re=mt:Ze.sibling=mt,Ze=mt);return i&&Oe.forEach(function(UR){return s(X,UR)}),gt&&Ba(X,je),Re}function At(X,K,J,ce){if(typeof J=="object"&&J!==null&&J.type===x&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:e:{for(var Re=J.key;K!==null;){if(K.key===Re){if(Re=J.type,Re===x){if(K.tag===7){l(X,K.sibling),ce=m(K,J.props.children),ce.return=X,X=ce;break e}}else if(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===I&&r_(Re)===K.type){l(X,K.sibling),ce=m(K,J.props),Bu(ce,J),ce.return=X,X=ce;break e}l(X,K);break}else s(X,K);K=K.sibling}J.type===x?(ce=Ua(J.props.children,X.mode,ce,J.key),ce.return=X,X=ce):(ce=Rd(J.type,J.key,J.props,null,X.mode,ce),Bu(ce,J),ce.return=X,X=ce)}return S(X);case T:e:{for(Re=J.key;K!==null;){if(K.key===Re)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){l(X,K.sibling),ce=m(K,J.children||[]),ce.return=X,X=ce;break e}else{l(X,K);break}else s(X,K);K=K.sibling}ce=vm(J,X.mode,ce),ce.return=X,X=ce}return S(X);case I:return Re=J._init,J=Re(J._payload),At(X,K,J,ce)}if(we(J))return Be(X,K,J,ce);if(z(J)){if(Re=z(J),typeof Re!="function")throw Error(r(150));return J=Re.call(J),Ve(X,K,J,ce)}if(typeof J.then=="function")return At(X,K,Hd(J),ce);if(J.$$typeof===R)return At(X,K,Dd(X,J),ce);Gd(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(l(X,K.sibling),ce=m(K,J),ce.return=X,X=ce):(l(X,K),ce=ym(J,X.mode,ce),ce.return=X,X=ce),S(X)):l(X,K)}return function(X,K,J,ce){try{zu=0;var Re=At(X,K,J,ce);return tl=null,Re}catch(Oe){if(Oe===Du||Oe===Md)throw Oe;var Ze=ir(29,Oe,null,X.mode);return Ze.lanes=ce,Ze.return=X,Ze}finally{}}}var nl=i_(!0),s_=i_(!1),Rr=se(null),mi=null;function Rs(i){var s=i.alternate;me(nn,nn.current&1),me(Rr,i),mi===null&&(s===null||Wo.current!==null||s.memoizedState!==null)&&(mi=i)}function a_(i){if(i.tag===22){if(me(nn,nn.current),me(Rr,i),mi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(mi=i)}}else Cs()}function Cs(){me(nn,nn.current),me(Rr,Rr.current)}function Qi(i){ge(Rr),mi===i&&(mi=null),ge(nn)}var nn=se(0);function $d(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||zp(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Wm(i,s,l,u){s=i.memoizedState,l=l(u,s),l=l==null?s:g({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Zm={enqueueSetState:function(i,s,l){i=i._reactInternals;var u=lr(),m=Ss(u);m.payload=s,l!=null&&(m.callback=l),s=xs(i,m,u),s!==null&&(ur(s,i,u),Mu(s,i,u))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var u=lr(),m=Ss(u);m.tag=1,m.payload=s,l!=null&&(m.callback=l),s=xs(i,m,u),s!==null&&(ur(s,i,u),Mu(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=lr(),u=Ss(l);u.tag=2,s!=null&&(u.callback=s),s=xs(i,u,l),s!==null&&(ur(s,i,l),Mu(s,i,l))}};function o_(i,s,l,u,m,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,S):s.prototype&&s.prototype.isPureReactComponent?!Tu(l,u)||!Tu(m,y):!0}function l_(i,s,l,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==i&&Zm.enqueueReplaceState(s,s.state,null)}function Ka(i,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(i=i.defaultProps){l===s&&(l=g({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var Qd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function u_(i){Qd(i)}function c_(i){console.error(i)}function d_(i){Qd(i)}function Kd(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function f_(i,s,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Jm(i,s,l){return l=Ss(l),l.tag=3,l.payload={element:null},l.callback=function(){Kd(i,s)},l}function h_(i){return i=Ss(i),i.tag=3,i}function m_(i,s,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;i.payload=function(){return m(y)},i.callback=function(){f_(s,l,u)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){f_(s,l,u),typeof m!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})})}function UA(i,s,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Cu(s,l,m,!0),l=Rr.current,l!==null){switch(l.tag){case 13:return mi===null?Tp():l.alternate===null&&jt===0&&(jt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===Cm?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),xp(i,u,m)),!1;case 22:return l.flags|=65536,u===Cm?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),xp(i,u,m)),!1}throw Error(r(435,l.tag))}return xp(i,u,m),Tp(),!1}if(gt)return s=Rr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==wm&&(i=Error(r(422),{cause:u}),Ru(Tr(i,l)))):(u!==wm&&(s=Error(r(423),{cause:u}),Ru(Tr(s,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=Tr(u,l),m=Jm(i.stateNode,u,m),Dm(i,m),jt!==4&&(jt=2)),!1;var y=Error(r(520),{cause:u});if(y=Tr(y,l),Ku===null?Ku=[y]:Ku.push(y),jt!==4&&(jt=2),s===null)return!0;u=Tr(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=Jm(l.stateNode,u,i),Dm(l,i),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ps===null||!Ps.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=h_(m),m_(m,i,l,u),Dm(l,m),!1}l=l.return}while(l!==null);return!1}var p_=Error(r(461)),un=!1;function yn(i,s,l,u){s.child=i===null?s_(s,null,l,u):nl(s,i.child,l,u)}function g_(i,s,l,u,m){l=l.render;var y=s.ref;if("ref"in u){var S={};for(var N in u)N!=="ref"&&(S[N]=u[N])}else S=u;return Ga(s),u=Vm(i,s,l,S,y,m),N=km(),i!==null&&!un?(jm(i,s,m),Ki(i,s,m)):(gt&&N&&_m(s),s.flags|=1,yn(i,s,u,m),s.child)}function y_(i,s,l,u,m){if(i===null){var y=l.type;return typeof y=="function"&&!gm(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,v_(i,s,y,u,m)):(i=Rd(l.type,null,u,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!op(i,m)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:Tu,l(S,u)&&i.ref===s.ref)return Ki(i,s,m)}return s.flags|=1,i=Bi(y,u),i.ref=s.ref,i.return=s,s.child=i}function v_(i,s,l,u,m){if(i!==null){var y=i.memoizedProps;if(Tu(y,u)&&i.ref===s.ref)if(un=!1,s.pendingProps=u=y,op(i,m))(i.flags&131072)!==0&&(un=!0);else return s.lanes=i.lanes,Ki(i,s,m)}return ep(i,s,l,u,m)}function __(i,s,l){var u=s.pendingProps,m=u.children,y=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=y!==null?y.baseLanes|l:l,i!==null){for(m=s.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;s.childLanes=y&~u}else s.childLanes=0,s.child=null;return b_(i,s,u,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Od(s,y!==null?y.cachePool:null),y!==null?v0(s,y):Mm(),a_(s);else return s.lanes=s.childLanes=536870912,b_(i,s,y!==null?y.baseLanes|l:l,l)}else y!==null?(Od(s,y.cachePool),v0(s,y),Cs(),s.memoizedState=null):(i!==null&&Od(s,null),Mm(),Cs());return yn(i,s,m,l),s.child}function b_(i,s,l,u){var m=Rm();return m=m===null?null:{parent:tn._currentValue,pool:m},s.memoizedState={baseLanes:l,cachePool:m},i!==null&&Od(s,null),Mm(),a_(s),i!==null&&Cu(i,s,u,!0),null}function Yd(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function ep(i,s,l,u,m){return Ga(s),l=Vm(i,s,l,u,void 0,m),u=km(),i!==null&&!un?(jm(i,s,m),Ki(i,s,m)):(gt&&u&&_m(s),s.flags|=1,yn(i,s,l,m),s.child)}function w_(i,s,l,u,m,y){return Ga(s),s.updateQueue=null,l=b0(s,u,l,m),_0(i),u=km(),i!==null&&!un?(jm(i,s,y),Ki(i,s,y)):(gt&&u&&_m(s),s.flags|=1,yn(i,s,l,y),s.child)}function E_(i,s,l,u,m){if(Ga(s),s.stateNode===null){var y=$o,S=l.contextType;typeof S=="object"&&S!==null&&(y=Rn(S)),y=new l(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Zm,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},Im(s),S=l.contextType,y.context=typeof S=="object"&&S!==null?Rn(S):$o,y.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Wm(s,l,S,u),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Zm.enqueueReplaceState(y,y.state,null),Lu(s,u,y,m),Pu(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){y=s.stateNode;var N=s.memoizedProps,H=Ka(l,N);y.props=H;var te=y.context,ae=l.contextType;S=$o,typeof ae=="object"&&ae!==null&&(S=Rn(ae));var fe=l.getDerivedStateFromProps;ae=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,ae||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||te!==S)&&l_(s,y,u,S),Ts=!1;var ne=s.memoizedState;y.state=ne,Lu(s,u,y,m),Pu(),te=s.memoizedState,N||ne!==te||Ts?(typeof fe=="function"&&(Wm(s,l,fe,u),te=s.memoizedState),(H=Ts||o_(s,l,H,u,ne,te,S))?(ae||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=te),y.props=u,y.state=te,y.context=S,u=H):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,Nm(i,s),S=s.memoizedProps,ae=Ka(l,S),y.props=ae,fe=s.pendingProps,ne=y.context,te=l.contextType,H=$o,typeof te=="object"&&te!==null&&(H=Rn(te)),N=l.getDerivedStateFromProps,(te=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==fe||ne!==H)&&l_(s,y,u,H),Ts=!1,ne=s.memoizedState,y.state=ne,Lu(s,u,y,m),Pu();var re=s.memoizedState;S!==fe||ne!==re||Ts||i!==null&&i.dependencies!==null&&Nd(i.dependencies)?(typeof N=="function"&&(Wm(s,l,N,u),re=s.memoizedState),(ae=Ts||o_(s,l,ae,u,ne,re,H)||i!==null&&i.dependencies!==null&&Nd(i.dependencies))?(te||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,H)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=re),y.props=u,y.state=re,y.context=H,u=ae):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),u=!1)}return y=u,Yd(i,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&u?(s.child=nl(s,i.child,null,m),s.child=nl(s,null,l,m)):yn(i,s,l,m),s.memoizedState=y.state,i=s.child):i=Ki(i,s,m),i}function T_(i,s,l,u){return Au(),s.flags|=256,yn(i,s,l,u),s.child}var tp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function np(i){return{baseLanes:i,cachePool:c0()}}function rp(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Cr),i}function S_(i,s,l){var u=s.pendingProps,m=!1,y=(s.flags&128)!==0,S;if((S=y)||(S=i!==null&&i.memoizedState===null?!1:(nn.current&2)!==0),S&&(m=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(gt){if(m?Rs(s):Cs(),gt){var N=kt,H;if(H=N){e:{for(H=N,N=hi;H.nodeType!==8;){if(!N){N=null;break e}if(H=Ur(H.nextSibling),H===null){N=null;break e}}N=H}N!==null?(s.memoizedState={dehydrated:N,treeContext:za!==null?{id:Fi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},H=ir(18,null,null,0),H.stateNode=N,H.return=s,s.child=H,Bn=s,kt=null,H=!0):H=!1}H||qa(s)}if(N=s.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return zp(N)?s.lanes=32:s.lanes=536870912,null;Qi(s)}return N=u.children,u=u.fallback,m?(Cs(),m=s.mode,N=Xd({mode:"hidden",children:N},m),u=Ua(u,m,l,null),N.return=s,u.return=s,N.sibling=u,s.child=N,m=s.child,m.memoizedState=np(l),m.childLanes=rp(i,S,l),s.memoizedState=tp,u):(Rs(s),ip(s,N))}if(H=i.memoizedState,H!==null&&(N=H.dehydrated,N!==null)){if(y)s.flags&256?(Rs(s),s.flags&=-257,s=sp(i,s,l)):s.memoizedState!==null?(Cs(),s.child=i.child,s.flags|=128,s=null):(Cs(),m=u.fallback,N=s.mode,u=Xd({mode:"visible",children:u.children},N),m=Ua(m,N,l,null),m.flags|=2,u.return=s,m.return=s,u.sibling=m,s.child=u,nl(s,i.child,null,l),u=s.child,u.memoizedState=np(l),u.childLanes=rp(i,S,l),s.memoizedState=tp,s=m);else if(Rs(s),zp(N)){if(S=N.nextSibling&&N.nextSibling.dataset,S)var te=S.dgst;S=te,u=Error(r(419)),u.stack="",u.digest=S,Ru({value:u,source:null,stack:null}),s=sp(i,s,l)}else if(un||Cu(i,s,l,!1),S=(l&i.childLanes)!==0,un||S){if(S=It,S!==null&&(u=l&-l,u=(u&42)!==0?1:ri(u),u=(u&(S.suspendedLanes|l))!==0?0:u,u!==0&&u!==H.retryLane))throw H.retryLane=u,Go(i,u),ur(S,i,u),p_;N.data==="$?"||Tp(),s=sp(i,s,l)}else N.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=H.treeContext,kt=Ur(N.nextSibling),Bn=s,gt=!0,Fa=null,hi=!1,i!==null&&(xr[Ar++]=Fi,xr[Ar++]=qi,xr[Ar++]=za,Fi=i.id,qi=i.overflow,za=s),s=ip(s,u.children),s.flags|=4096);return s}return m?(Cs(),m=u.fallback,N=s.mode,H=i.child,te=H.sibling,u=Bi(H,{mode:"hidden",children:u.children}),u.subtreeFlags=H.subtreeFlags&65011712,te!==null?m=Bi(te,m):(m=Ua(m,N,l,null),m.flags|=2),m.return=s,u.return=s,u.sibling=m,s.child=u,u=m,m=s.child,N=i.child.memoizedState,N===null?N=np(l):(H=N.cachePool,H!==null?(te=tn._currentValue,H=H.parent!==te?{parent:te,pool:te}:H):H=c0(),N={baseLanes:N.baseLanes|l,cachePool:H}),m.memoizedState=N,m.childLanes=rp(i,S,l),s.memoizedState=tp,u):(Rs(s),l=i.child,i=l.sibling,l=Bi(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=l,s.memoizedState=null,l)}function ip(i,s){return s=Xd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Xd(i,s){return i=ir(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function sp(i,s,l){return nl(s,i.child,null,l),i=ip(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function x_(i,s,l){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Tm(i.return,s,l)}function ap(i,s,l,u,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=m)}function A_(i,s,l){var u=s.pendingProps,m=u.revealOrder,y=u.tail;if(yn(i,s,u.children,l),u=nn.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&x_(i,l,s);else if(i.tag===19)x_(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(me(nn,u),m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&$d(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),ap(s,!1,m,l,y);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&$d(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}ap(s,!0,l,null,y);break;case"together":ap(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ki(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Ms|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Cu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Bi(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Bi(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function op(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Nd(i)))}function zA(i,s,l){switch(s.tag){case 3:rt(s,s.stateNode.containerInfo),Es(s,tn,i.memoizedState.cache),Au();break;case 27:case 5:Mt(s);break;case 4:rt(s,s.stateNode.containerInfo);break;case 10:Es(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Rs(s),s.flags|=128,null):(l&s.child.childLanes)!==0?S_(i,s,l):(Rs(s),i=Ki(i,s,l),i!==null?i.sibling:null);Rs(s);break;case 19:var m=(i.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Cu(i,s,l,!1),u=(l&s.childLanes)!==0),m){if(u)return A_(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),me(nn,nn.current),u)break;return null;case 22:case 23:return s.lanes=0,__(i,s,l);case 24:Es(s,tn,i.memoizedState.cache)}return Ki(i,s,l)}function R_(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)un=!0;else{if(!op(i,l)&&(s.flags&128)===0)return un=!1,zA(i,s,l);un=(i.flags&131072)!==0}else un=!1,gt&&(s.flags&1048576)!==0&&r0(s,Id,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var u=s.elementType,m=u._init;if(u=m(u._payload),s.type=u,typeof u=="function")gm(u)?(i=Ka(u,i),s.tag=1,s=E_(null,s,u,i,l)):(s.tag=0,s=ep(null,s,u,i,l));else{if(u!=null){if(m=u.$$typeof,m===B){s.tag=11,s=g_(null,s,u,i,l);break e}else if(m===j){s.tag=14,s=y_(null,s,u,i,l);break e}}throw s=_e(u)||u,Error(r(306,s,""))}}return s;case 0:return ep(i,s,s.type,s.pendingProps,l);case 1:return u=s.type,m=Ka(u,s.pendingProps),E_(i,s,u,m,l);case 3:e:{if(rt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var y=s.memoizedState;m=y.element,Nm(i,s),Lu(s,u,null,l);var S=s.memoizedState;if(u=S.cache,Es(s,tn,u),u!==y.cache&&Sm(s,[tn],l,!0),Pu(),u=S.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=T_(i,s,u,l);break e}else if(u!==m){m=Tr(Error(r(424)),s),Ru(m),s=T_(i,s,u,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(kt=Ur(i.firstChild),Bn=s,gt=!0,Fa=null,hi=!0,l=s_(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Au(),u===m){s=Ki(i,s,l);break e}yn(i,s,u,l)}s=s.child}return s;case 26:return Yd(i,s),i===null?(l=Db(s.type,null,s.pendingProps,null))?s.memoizedState=l:gt||(l=s.type,i=s.pendingProps,u=df(Ee.current).createElement(l),u[de]=s,u[pe]=i,_n(u,l,i),at(u),s.stateNode=u):s.memoizedState=Db(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Mt(s),i===null&&gt&&(u=s.stateNode=Cb(s.type,s.pendingProps,Ee.current),Bn=s,hi=!0,m=kt,ks(s.type)?(Bp=m,kt=Ur(u.firstChild)):kt=m),yn(i,s,s.pendingProps.children,l),Yd(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&gt&&((m=u=kt)&&(u=mR(u,s.type,s.pendingProps,hi),u!==null?(s.stateNode=u,Bn=s,kt=Ur(u.firstChild),hi=!1,m=!0):m=!1),m||qa(s)),Mt(s),m=s.type,y=s.pendingProps,S=i!==null?i.memoizedProps:null,u=y.children,kp(m,y)?u=null:S!==null&&kp(m,S)&&(s.flags|=32),s.memoizedState!==null&&(m=Vm(i,s,OA,null,null,l),rc._currentValue=m),Yd(i,s),yn(i,s,u,l),s.child;case 6:return i===null&&gt&&((i=l=kt)&&(l=pR(l,s.pendingProps,hi),l!==null?(s.stateNode=l,Bn=s,kt=null,i=!0):i=!1),i||qa(s)),null;case 13:return S_(i,s,l);case 4:return rt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=nl(s,null,u,l):yn(i,s,u,l),s.child;case 11:return g_(i,s,s.type,s.pendingProps,l);case 7:return yn(i,s,s.pendingProps,l),s.child;case 8:return yn(i,s,s.pendingProps.children,l),s.child;case 12:return yn(i,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Es(s,s.type,u.value),yn(i,s,u.children,l),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,Ga(s),m=Rn(m),u=u(m),s.flags|=1,yn(i,s,u,l),s.child;case 14:return y_(i,s,s.type,s.pendingProps,l);case 15:return v_(i,s,s.type,s.pendingProps,l);case 19:return A_(i,s,l);case 31:return u=s.pendingProps,l=s.mode,u={mode:u.mode,children:u.children},i===null?(l=Xd(u,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Bi(i.child,u),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return __(i,s,l);case 24:return Ga(s),u=Rn(tn),i===null?(m=Rm(),m===null&&(m=It,y=xm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),s.memoizedState={parent:u,cache:m},Im(s),Es(s,tn,m)):((i.lanes&l)!==0&&(Nm(i,s),Lu(s,null,null,l),Pu()),m=i.memoizedState,y=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Es(s,tn,u)):(u=y.cache,Es(s,tn,u),u!==m.cache&&Sm(s,[tn],l,!0))),yn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Yi(i){i.flags|=4}function C_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Vb(s)){if(s=Rr.current,s!==null&&((dt&4194048)===dt?mi!==null:(dt&62914560)!==dt&&(dt&536870912)===0||s!==mi))throw Ou=Cm,d0;i.flags|=8192}}function Wd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?xa():536870912,i.lanes|=s,al|=s)}function Fu(i,s){if(!gt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Lt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=l,s}function BA(i,s,l){var u=s.pendingProps;switch(bm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(s),null;case 1:return Lt(s),null;case 3:return l=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Gi(tn),Ht(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(xu(s)?Yi(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,a0())),Lt(s),null;case 26:return l=s.memoizedState,i===null?(Yi(s),l!==null?(Lt(s),C_(s,l)):(Lt(s),s.flags&=-16777217)):l?l!==i.memoizedState?(Yi(s),Lt(s),C_(s,l)):(Lt(s),s.flags&=-16777217):(i.memoizedProps!==u&&Yi(s),Lt(s),s.flags&=-16777217),null;case 27:Sn(s),l=Ee.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Yi(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Lt(s),null}i=Ae.current,xu(s)?i0(s):(i=Cb(m,u,l),s.stateNode=i,Yi(s))}return Lt(s),null;case 5:if(Sn(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Yi(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Lt(s),null}if(i=Ae.current,xu(s))i0(s);else{switch(m=df(Ee.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?m.createElement(l,{is:u.is}):m.createElement(l)}}i[de]=s,i[pe]=u;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(_n(i,l,u),l){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Yi(s)}}return Lt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&Yi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ee.current,xu(s)){if(i=s.stateNode,l=s.memoizedProps,u=null,m=Bn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[de]=s,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||wb(i.nodeValue,l)),i||qa(s)}else i=df(i).createTextNode(u),i[de]=s,s.stateNode=i}return Lt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=xu(s),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[de]=s}else Au(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Lt(s),m=!1}else m=a0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Qi(s),s):(Qi(s),null)}if(Qi(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=u!==null,i=i!==null&&i.memoizedState!==null,l){u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),Wd(s,s.updateQueue),Lt(s),null;case 4:return Ht(),i===null&&Op(s.stateNode.containerInfo),Lt(s),null;case 10:return Gi(s.type),Lt(s),null;case 19:if(ge(nn),m=s.memoizedState,m===null)return Lt(s),null;if(u=(s.flags&128)!==0,y=m.rendering,y===null)if(u)Fu(m,!1);else{if(jt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=$d(i),y!==null){for(s.flags|=128,Fu(m,!1),i=y.updateQueue,s.updateQueue=i,Wd(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)n0(l,i),l=l.sibling;return me(nn,nn.current&1|2),s.child}i=i.sibling}m.tail!==null&&Vn()>ef&&(s.flags|=128,u=!0,Fu(m,!1),s.lanes=4194304)}else{if(!u)if(i=$d(y),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,Wd(s,i),Fu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!gt)return Lt(s),null}else 2*Vn()-m.renderingStartTime>ef&&l!==536870912&&(s.flags|=128,u=!0,Fu(m,!1),s.lanes=4194304);m.isBackwards?(y.sibling=s.child,s.child=y):(i=m.last,i!==null?i.sibling=y:s.child=y,m.last=y)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Vn(),s.sibling=null,i=nn.current,me(nn,u?i&1|2:i&1),s):(Lt(s),null);case 22:case 23:return Qi(s),Pm(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(Lt(s),s.subtreeFlags&6&&(s.flags|=8192)):Lt(s),l=s.updateQueue,l!==null&&Wd(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),i!==null&&ge($a),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Gi(tn),Lt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function FA(i,s){switch(bm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Gi(tn),Ht(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Sn(s),null;case 13:if(Qi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Au()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ge(nn),null;case 4:return Ht(),null;case 10:return Gi(s.type),null;case 22:case 23:return Qi(s),Pm(),i!==null&&ge($a),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Gi(tn),null;case 25:return null;default:return null}}function I_(i,s){switch(bm(s),s.tag){case 3:Gi(tn),Ht();break;case 26:case 27:case 5:Sn(s);break;case 4:Ht();break;case 13:Qi(s);break;case 19:ge(nn);break;case 10:Gi(s.type);break;case 22:case 23:Qi(s),Pm(),i!==null&&ge($a);break;case 24:Gi(tn)}}function qu(i,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&i)===i){u=void 0;var y=l.create,S=l.inst;u=y(),S.destroy=u}l=l.next}while(l!==m)}}catch(N){Ct(s,s.return,N)}}function Is(i,s,l){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&i)===i){var S=u.inst,N=S.destroy;if(N!==void 0){S.destroy=void 0,m=s;var H=l,te=N;try{te()}catch(ae){Ct(m,H,ae)}}}u=u.next}while(u!==y)}}catch(ae){Ct(s,s.return,ae)}}function N_(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{y0(s,l)}catch(u){Ct(i,i.return,u)}}}function D_(i,s,l){l.props=Ka(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){Ct(i,s,u)}}function Hu(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(m){Ct(i,s,m)}}function pi(i,s){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){Ct(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Ct(i,s,m)}else l.current=null}function O_(i){var s=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){Ct(i,i.return,m)}}function lp(i,s,l){try{var u=i.stateNode;uR(u,i.type,l,s),u[pe]=s}catch(m){Ct(i,i.return,m)}}function M_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ks(i.type)||i.tag===4}function up(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||M_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ks(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function cp(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=cf));else if(u!==4&&(u===27&&ks(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(cp(i,s,l),i=i.sibling;i!==null;)cp(i,s,l),i=i.sibling}function Zd(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(u!==4&&(u===27&&ks(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Zd(i,s,l),i=i.sibling;i!==null;)Zd(i,s,l),i=i.sibling}function P_(i){var s=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);_n(s,u,l),s[de]=i,s[pe]=l}catch(y){Ct(i,i.return,y)}}var Xi=!1,Bt=!1,dp=!1,L_=typeof WeakSet=="function"?WeakSet:Set,cn=null;function qA(i,s){if(i=i.containerInfo,Lp=yf,i=$v(i),um(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,N=-1,H=-1,te=0,ae=0,fe=i,ne=null;t:for(;;){for(var re;fe!==l||m!==0&&fe.nodeType!==3||(N=S+m),fe!==y||u!==0&&fe.nodeType!==3||(H=S+u),fe.nodeType===3&&(S+=fe.nodeValue.length),(re=fe.firstChild)!==null;)ne=fe,fe=re;for(;;){if(fe===i)break t;if(ne===l&&++te===m&&(N=S),ne===y&&++ae===u&&(H=S),(re=fe.nextSibling)!==null)break;fe=ne,ne=fe.parentNode}fe=re}l=N===-1||H===-1?null:{start:N,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(Vp={focusedElem:i,selectionRange:l},yf=!1,cn=s;cn!==null;)if(s=cn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,cn=i;else for(;cn!==null;){switch(s=cn,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=s,m=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var Be=Ka(l.type,m,l.elementType===l.type);i=u.getSnapshotBeforeUpdate(Be,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){Ct(l,l.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Up(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Up(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,cn=i;break}cn=s.return}}function V_(i,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ns(i,l),u&4&&qu(5,l);break;case 1:if(Ns(i,l),u&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(S){Ct(l,l.return,S)}else{var m=Ka(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Ct(l,l.return,S)}}u&64&&N_(l),u&512&&Hu(l,l.return);break;case 3:if(Ns(i,l),u&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{y0(i,s)}catch(S){Ct(l,l.return,S)}}break;case 27:s===null&&u&4&&P_(l);case 26:case 5:Ns(i,l),s===null&&u&4&&O_(l),u&512&&Hu(l,l.return);break;case 12:Ns(i,l);break;case 13:Ns(i,l),u&4&&U_(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=ZA.bind(null,l),gR(i,l))));break;case 22:if(u=l.memoizedState!==null||Xi,!u){s=s!==null&&s.memoizedState!==null||Bt,m=Xi;var y=Bt;Xi=u,(Bt=s)&&!y?Ds(i,l,(l.subtreeFlags&8772)!==0):Ns(i,l),Xi=m,Bt=y}break;case 30:break;default:Ns(i,l)}}function k_(i){var s=i.alternate;s!==null&&(i.alternate=null,k_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ne(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Pt=null,Qn=!1;function Wi(i,s,l){for(l=l.child;l!==null;)j_(i,s,l),l=l.sibling}function j_(i,s,l){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(pt,l)}catch{}switch(l.tag){case 26:Bt||pi(l,s),Wi(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Bt||pi(l,s);var u=Pt,m=Qn;ks(l.type)&&(Pt=l.stateNode,Qn=!1),Wi(i,s,l),Ju(l.stateNode),Pt=u,Qn=m;break;case 5:Bt||pi(l,s);case 6:if(u=Pt,m=Qn,Pt=null,Wi(i,s,l),Pt=u,Qn=m,Pt!==null)if(Qn)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(l.stateNode)}catch(y){Ct(l,s,y)}else try{Pt.removeChild(l.stateNode)}catch(y){Ct(l,s,y)}break;case 18:Pt!==null&&(Qn?(i=Pt,Ab(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),oc(i)):Ab(Pt,l.stateNode));break;case 4:u=Pt,m=Qn,Pt=l.stateNode.containerInfo,Qn=!0,Wi(i,s,l),Pt=u,Qn=m;break;case 0:case 11:case 14:case 15:Bt||Is(2,l,s),Bt||Is(4,l,s),Wi(i,s,l);break;case 1:Bt||(pi(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&D_(l,s,u)),Wi(i,s,l);break;case 21:Wi(i,s,l);break;case 22:Bt=(u=Bt)||l.memoizedState!==null,Wi(i,s,l),Bt=u;break;default:Wi(i,s,l)}}function U_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{oc(i)}catch(l){Ct(s,s.return,l)}}function HA(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new L_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new L_),s;default:throw Error(r(435,i.tag))}}function fp(i,s){var l=HA(i);s.forEach(function(u){var m=JA.bind(null,i,u);l.has(u)||(l.add(u),u.then(m,m))})}function sr(i,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],y=i,S=s,N=S;e:for(;N!==null;){switch(N.tag){case 27:if(ks(N.type)){Pt=N.stateNode,Qn=!1;break e}break;case 5:Pt=N.stateNode,Qn=!1;break e;case 3:case 4:Pt=N.stateNode.containerInfo,Qn=!0;break e}N=N.return}if(Pt===null)throw Error(r(160));j_(y,S,m),Pt=null,Qn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)z_(s,i),s=s.sibling}var jr=null;function z_(i,s){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:sr(s,i),ar(i),u&4&&(Is(3,i,i.return),qu(3,i),Is(5,i,i.return));break;case 1:sr(s,i),ar(i),u&512&&(Bt||l===null||pi(l,l.return)),u&64&&Xi&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=jr;if(sr(s,i),ar(i),u&512&&(Bt||l===null||pi(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Le]||y[de]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),_n(y,u,l),y[de]=i,at(y),u=y;break e;case"link":var S=Pb("link","href",m).get(u+(l.href||""));if(S){for(var N=0;N<S.length;N++)if(y=S[N],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(N,1);break t}}y=m.createElement(u),_n(y,u,l),m.head.appendChild(y);break;case"meta":if(S=Pb("meta","content",m).get(u+(l.content||""))){for(N=0;N<S.length;N++)if(y=S[N],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(N,1);break t}}y=m.createElement(u),_n(y,u,l),m.head.appendChild(y);break;default:throw Error(r(468,u))}y[de]=i,at(y),u=y}i.stateNode=u}else Lb(m,i.type,i.stateNode);else i.stateNode=Mb(m,u,i.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?Lb(m,i.type,i.stateNode):Mb(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&lp(i,i.memoizedProps,l.memoizedProps)}break;case 27:sr(s,i),ar(i),u&512&&(Bt||l===null||pi(l,l.return)),l!==null&&u&4&&lp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(sr(s,i),ar(i),u&512&&(Bt||l===null||pi(l,l.return)),i.flags&32){m=i.stateNode;try{_r(m,"")}catch(re){Ct(i,i.return,re)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,lp(i,m,l!==null?l.memoizedProps:m)),u&1024&&(dp=!0);break;case 6:if(sr(s,i),ar(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(re){Ct(i,i.return,re)}}break;case 3:if(mf=null,m=jr,jr=ff(s.containerInfo),sr(s,i),jr=m,ar(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{oc(s.containerInfo)}catch(re){Ct(i,i.return,re)}dp&&(dp=!1,B_(i));break;case 4:u=jr,jr=ff(i.stateNode.containerInfo),sr(s,i),ar(i),jr=u;break;case 12:sr(s,i),ar(i);break;case 13:sr(s,i),ar(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vp=Vn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,fp(i,u)));break;case 22:m=i.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,te=Xi,ae=Bt;if(Xi=te||m,Bt=ae||H,sr(s,i),Bt=ae,Xi=te,ar(i),u&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(l===null||H||Xi||Bt||Ya(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){H=l=s;try{if(y=H.stateNode,m)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{N=H.stateNode;var fe=H.memoizedProps.style,ne=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;N.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){Ct(H,H.return,re)}}}else if(s.tag===6){if(l===null){H=s;try{H.stateNode.nodeValue=m?"":H.memoizedProps}catch(re){Ct(H,H.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,fp(i,l))));break;case 19:sr(s,i),ar(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,fp(i,u)));break;case 30:break;case 21:break;default:sr(s,i),ar(i)}}function ar(i){var s=i.flags;if(s&2){try{for(var l,u=i.return;u!==null;){if(M_(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=up(i);Zd(i,y,m);break;case 5:var S=l.stateNode;l.flags&32&&(_r(S,""),l.flags&=-33);var N=up(i);Zd(i,N,S);break;case 3:case 4:var H=l.stateNode.containerInfo,te=up(i);cp(i,te,H);break;default:throw Error(r(161))}}catch(ae){Ct(i,i.return,ae)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function B_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;B_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ns(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)V_(i,s.alternate,s),s=s.sibling}function Ya(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Is(4,s,s.return),Ya(s);break;case 1:pi(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&D_(s,s.return,l),Ya(s);break;case 27:Ju(s.stateNode);case 26:case 5:pi(s,s.return),Ya(s);break;case 22:s.memoizedState===null&&Ya(s);break;case 30:Ya(s);break;default:Ya(s)}i=i.sibling}}function Ds(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=i,y=s,S=y.flags;switch(y.tag){case 0:case 11:case 15:Ds(m,y,l),qu(4,y);break;case 1:if(Ds(m,y,l),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(te){Ct(u,u.return,te)}if(u=y,m=u.updateQueue,m!==null){var N=u.stateNode;try{var H=m.shared.hiddenCallbacks;if(H!==null)for(m.shared.hiddenCallbacks=null,m=0;m<H.length;m++)g0(H[m],N)}catch(te){Ct(u,u.return,te)}}l&&S&64&&N_(y),Hu(y,y.return);break;case 27:P_(y);case 26:case 5:Ds(m,y,l),l&&u===null&&S&4&&O_(y),Hu(y,y.return);break;case 12:Ds(m,y,l);break;case 13:Ds(m,y,l),l&&S&4&&U_(m,y);break;case 22:y.memoizedState===null&&Ds(m,y,l),Hu(y,y.return);break;case 30:break;default:Ds(m,y,l)}s=s.sibling}}function hp(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Iu(l))}function mp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Iu(i))}function gi(i,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)F_(i,s,l,u),s=s.sibling}function F_(i,s,l,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:gi(i,s,l,u),m&2048&&qu(9,s);break;case 1:gi(i,s,l,u);break;case 3:gi(i,s,l,u),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Iu(i)));break;case 12:if(m&2048){gi(i,s,l,u),i=s.stateNode;try{var y=s.memoizedProps,S=y.id,N=y.onPostCommit;typeof N=="function"&&N(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){Ct(s,s.return,H)}}else gi(i,s,l,u);break;case 13:gi(i,s,l,u);break;case 23:break;case 22:y=s.stateNode,S=s.alternate,s.memoizedState!==null?y._visibility&2?gi(i,s,l,u):Gu(i,s):y._visibility&2?gi(i,s,l,u):(y._visibility|=2,rl(i,s,l,u,(s.subtreeFlags&10256)!==0)),m&2048&&hp(S,s);break;case 24:gi(i,s,l,u),m&2048&&mp(s.alternate,s);break;default:gi(i,s,l,u)}}function rl(i,s,l,u,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,S=s,N=l,H=u,te=S.flags;switch(S.tag){case 0:case 11:case 15:rl(y,S,N,H,m),qu(8,S);break;case 23:break;case 22:var ae=S.stateNode;S.memoizedState!==null?ae._visibility&2?rl(y,S,N,H,m):Gu(y,S):(ae._visibility|=2,rl(y,S,N,H,m)),m&&te&2048&&hp(S.alternate,S);break;case 24:rl(y,S,N,H,m),m&&te&2048&&mp(S.alternate,S);break;default:rl(y,S,N,H,m)}s=s.sibling}}function Gu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,u=s,m=u.flags;switch(u.tag){case 22:Gu(l,u),m&2048&&hp(u.alternate,u);break;case 24:Gu(l,u),m&2048&&mp(u.alternate,u);break;default:Gu(l,u)}s=s.sibling}}var $u=8192;function il(i){if(i.subtreeFlags&$u)for(i=i.child;i!==null;)q_(i),i=i.sibling}function q_(i){switch(i.tag){case 26:il(i),i.flags&$u&&i.memoizedState!==null&&IR(jr,i.memoizedState,i.memoizedProps);break;case 5:il(i);break;case 3:case 4:var s=jr;jr=ff(i.stateNode.containerInfo),il(i),jr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=$u,$u=16777216,il(i),$u=s):il(i));break;default:il(i)}}function H_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Qu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];cn=u,$_(u,i)}H_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)G_(i),i=i.sibling}function G_(i){switch(i.tag){case 0:case 11:case 15:Qu(i),i.flags&2048&&Is(9,i,i.return);break;case 3:Qu(i);break;case 12:Qu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Jd(i)):Qu(i);break;default:Qu(i)}}function Jd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];cn=u,$_(u,i)}H_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Is(8,s,s.return),Jd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Jd(s));break;default:Jd(s)}i=i.sibling}}function $_(i,s){for(;cn!==null;){var l=cn;switch(l.tag){case 0:case 11:case 15:Is(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Iu(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,cn=u;else e:for(l=i;cn!==null;){u=cn;var m=u.sibling,y=u.return;if(k_(u),u===l){cn=null;break e}if(m!==null){m.return=y,cn=m;break e}cn=y}}}var GA={getCacheForType:function(i){var s=Rn(tn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},$A=typeof WeakMap=="function"?WeakMap:Map,wt=0,It=null,et=null,dt=0,Et=0,or=null,Os=!1,sl=!1,pp=!1,Zi=0,jt=0,Ms=0,Xa=0,gp=0,Cr=0,al=0,Ku=null,Kn=null,yp=!1,vp=0,ef=1/0,tf=null,Ps=null,vn=0,Ls=null,ol=null,ll=0,_p=0,bp=null,Q_=null,Yu=0,wp=null;function lr(){if((wt&2)!==0&&dt!==0)return dt&-dt;if($.T!==null){var i=Yo;return i!==0?i:Cp()}return G()}function K_(){Cr===0&&(Cr=(dt&536870912)===0||gt?Oi():536870912);var i=Rr.current;return i!==null&&(i.flags|=32),Cr}function ur(i,s,l){(i===It&&(Et===2||Et===9)||i.cancelPendingCommit!==null)&&(ul(i,0),Vs(i,dt,Cr,!1)),Lr(i,l),((wt&2)===0||i!==It)&&(i===It&&((wt&2)===0&&(Xa|=l),jt===4&&Vs(i,dt,Cr,!1)),yi(i))}function Y_(i,s,l){if((wt&6)!==0)throw Error(r(327));var u=!l&&(s&124)===0&&(s&i.expiredLanes)===0||pr(i,s),m=u?YA(i,s):Sp(i,s,!0),y=u;do{if(m===0){sl&&!u&&Vs(i,s,0,!1);break}else{if(l=i.current.alternate,y&&!QA(l)){m=Sp(i,s,!1),y=!1;continue}if(m===2){if(y=s,i.errorRecoveryDisabledLanes&y)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var N=i;m=Ku;var H=N.current.memoizedState.isDehydrated;if(H&&(ul(N,S).flags|=256),S=Sp(N,S,!1),S!==2){if(pp&&!H){N.errorRecoveryDisabledLanes|=y,Xa|=y,m=4;break e}y=Kn,Kn=m,y!==null&&(Kn===null?Kn=y:Kn.push.apply(Kn,y))}m=S}if(y=!1,m!==2)continue}}if(m===1){ul(i,0),Vs(i,s,0,!0);break}e:{switch(u=i,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Vs(u,s,Cr,!Os);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=vp+300-Vn(),10<m)){if(Vs(u,s,Cr,!Os),Di(u,0,!0)!==0)break e;u.timeoutHandle=Sb(X_.bind(null,u,l,Kn,tf,yp,s,Cr,Xa,al,Os,y,2,-0,0),m);break e}X_(u,l,Kn,tf,yp,s,Cr,Xa,al,Os,y,0,-0,0)}}break}while(!0);yi(i)}function X_(i,s,l,u,m,y,S,N,H,te,ae,fe,ne,re){if(i.timeoutHandle=-1,fe=s.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(nc={stylesheets:null,count:0,unsuspend:CR},q_(s),fe=NR(),fe!==null)){i.cancelPendingCommit=fe(rb.bind(null,i,s,y,l,u,m,S,N,H,ae,1,ne,re)),Vs(i,y,S,!te);return}rb(i,s,y,l,u,m,S,N,H)}function QA(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],y=m.getSnapshot;m=m.value;try{if(!rr(y(),m))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Vs(i,s,l,u){s&=~gp,s&=~Xa,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var m=s;0<m;){var y=31-Gt(m),S=1<<y;u[y]=-1,m&=~S}l!==0&&kn(i,l,s)}function nf(){return(wt&6)===0?(Xu(0),!1):!0}function Ep(){if(et!==null){if(Et===0)var i=et.return;else i=et,Hi=Ha=null,Um(i),tl=null,zu=0,i=et;for(;i!==null;)I_(i.alternate,i),i=i.return;et=null}}function ul(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,dR(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Ep(),It=i,et=l=Bi(i.current,null),dt=s,Et=0,or=null,Os=!1,sl=pr(i,s),pp=!1,al=Cr=gp=Xa=Ms=jt=0,Kn=Ku=null,yp=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var m=31-Gt(u),y=1<<m;s|=i[m],u&=~y}return Zi=s,Sd(),l}function W_(i,s){Ye=null,$.H=qd,s===Du||s===Md?(s=m0(),Et=3):s===d0?(s=m0(),Et=4):Et=s===p_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,or=s,et===null&&(jt=1,Kd(i,Tr(s,i.current)))}function Z_(){var i=$.H;return $.H=qd,i===null?qd:i}function J_(){var i=$.A;return $.A=GA,i}function Tp(){jt=4,Os||(dt&4194048)!==dt&&Rr.current!==null||(sl=!0),(Ms&134217727)===0&&(Xa&134217727)===0||It===null||Vs(It,dt,Cr,!1)}function Sp(i,s,l){var u=wt;wt|=2;var m=Z_(),y=J_();(It!==i||dt!==s)&&(tf=null,ul(i,s)),s=!1;var S=jt;e:do try{if(Et!==0&&et!==null){var N=et,H=or;switch(Et){case 8:Ep(),S=6;break e;case 3:case 2:case 9:case 6:Rr.current===null&&(s=!0);var te=Et;if(Et=0,or=null,cl(i,N,H,te),l&&sl){S=0;break e}break;default:te=Et,Et=0,or=null,cl(i,N,H,te)}}KA(),S=jt;break}catch(ae){W_(i,ae)}while(!0);return s&&i.shellSuspendCounter++,Hi=Ha=null,wt=u,$.H=m,$.A=y,et===null&&(It=null,dt=0,Sd()),S}function KA(){for(;et!==null;)eb(et)}function YA(i,s){var l=wt;wt|=2;var u=Z_(),m=J_();It!==i||dt!==s?(tf=null,ef=Vn()+500,ul(i,s)):sl=pr(i,s);e:do try{if(Et!==0&&et!==null){s=et;var y=or;t:switch(Et){case 1:Et=0,or=null,cl(i,s,y,1);break;case 2:case 9:if(f0(y)){Et=0,or=null,tb(s);break}s=function(){Et!==2&&Et!==9||It!==i||(Et=7),yi(i)},y.then(s,s);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:f0(y)?(Et=0,or=null,tb(s)):(Et=0,or=null,cl(i,s,y,7));break;case 5:var S=null;switch(et.tag){case 26:S=et.memoizedState;case 5:case 27:var N=et;if(!S||Vb(S)){Et=0,or=null;var H=N.sibling;if(H!==null)et=H;else{var te=N.return;te!==null?(et=te,rf(te)):et=null}break t}}Et=0,or=null,cl(i,s,y,5);break;case 6:Et=0,or=null,cl(i,s,y,6);break;case 8:Ep(),jt=6;break e;default:throw Error(r(462))}}XA();break}catch(ae){W_(i,ae)}while(!0);return Hi=Ha=null,$.H=u,$.A=m,wt=l,et!==null?0:(It=null,dt=0,Sd(),jt)}function XA(){for(;et!==null&&!Ta();)eb(et)}function eb(i){var s=R_(i.alternate,i,Zi);i.memoizedProps=i.pendingProps,s===null?rf(i):et=s}function tb(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=w_(l,s,s.pendingProps,s.type,void 0,dt);break;case 11:s=w_(l,s,s.pendingProps,s.type.render,s.ref,dt);break;case 5:Um(s);default:I_(l,s),s=et=n0(s,Zi),s=R_(l,s,Zi)}i.memoizedProps=i.pendingProps,s===null?rf(i):et=s}function cl(i,s,l,u){Hi=Ha=null,Um(s),tl=null,zu=0;var m=s.return;try{if(UA(i,m,s,l,dt)){jt=1,Kd(i,Tr(l,i.current)),et=null;return}}catch(y){if(m!==null)throw et=m,y;jt=1,Kd(i,Tr(l,i.current)),et=null;return}s.flags&32768?(gt||u===1?i=!0:sl||(dt&536870912)!==0?i=!1:(Os=i=!0,(u===2||u===9||u===3||u===6)&&(u=Rr.current,u!==null&&u.tag===13&&(u.flags|=16384))),nb(s,i)):rf(s)}function rf(i){var s=i;do{if((s.flags&32768)!==0){nb(s,Os);return}i=s.return;var l=BA(s.alternate,s,Zi);if(l!==null){et=l;return}if(s=s.sibling,s!==null){et=s;return}et=s=i}while(s!==null);jt===0&&(jt=5)}function nb(i,s){do{var l=FA(i.alternate,i);if(l!==null){l.flags&=32767,et=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){et=i;return}et=i=l}while(i!==null);jt=6,et=null}function rb(i,s,l,u,m,y,S,N,H){i.cancelPendingCommit=null;do sf();while(vn!==0);if((wt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=mm,ys(i,l,y,S,N,H),i===It&&(et=It=null,dt=0),ol=s,Ls=i,ll=l,_p=y,bp=m,Q_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,eR(Ni,function(){return lb(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,m=oe.p,oe.p=2,S=wt,wt|=4;try{qA(i,s,l)}finally{wt=S,oe.p=m,$.T=u}}vn=1,ib(),sb(),ab()}}function ib(){if(vn===1){vn=0;var i=Ls,s=ol,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var u=oe.p;oe.p=2;var m=wt;wt|=4;try{z_(s,i);var y=Vp,S=$v(i.containerInfo),N=y.focusedElem,H=y.selectionRange;if(S!==N&&N&&N.ownerDocument&&Gv(N.ownerDocument.documentElement,N)){if(H!==null&&um(N)){var te=H.start,ae=H.end;if(ae===void 0&&(ae=te),"selectionStart"in N)N.selectionStart=te,N.selectionEnd=Math.min(ae,N.value.length);else{var fe=N.ownerDocument||document,ne=fe&&fe.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),Be=N.textContent.length,Ve=Math.min(H.start,Be),At=H.end===void 0?Ve:Math.min(H.end,Be);!re.extend&&Ve>At&&(S=At,At=Ve,Ve=S);var X=Hv(N,Ve),K=Hv(N,At);if(X&&K&&(re.rangeCount!==1||re.anchorNode!==X.node||re.anchorOffset!==X.offset||re.focusNode!==K.node||re.focusOffset!==K.offset)){var J=fe.createRange();J.setStart(X.node,X.offset),re.removeAllRanges(),Ve>At?(re.addRange(J),re.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),re.addRange(J))}}}}for(fe=[],re=N;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<fe.length;N++){var ce=fe[N];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}yf=!!Lp,Vp=Lp=null}finally{wt=m,oe.p=u,$.T=l}}i.current=s,vn=2}}function sb(){if(vn===2){vn=0;var i=Ls,s=ol,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var u=oe.p;oe.p=2;var m=wt;wt|=4;try{V_(i,s.alternate,s)}finally{wt=m,oe.p=u,$.T=l}}vn=3}}function ab(){if(vn===4||vn===3){vn=0,No();var i=Ls,s=ol,l=ll,u=Q_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?vn=5:(vn=0,ol=Ls=null,ob(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Ps=null),vs(l),s=s.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(pt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=$.T,m=oe.p,oe.p=2,$.T=null;try{for(var y=i.onRecoverableError,S=0;S<u.length;S++){var N=u[S];y(N.value,{componentStack:N.stack})}}finally{$.T=s,oe.p=m}}(ll&3)!==0&&sf(),yi(i),m=i.pendingLanes,(l&4194090)!==0&&(m&42)!==0?i===wp?Yu++:(Yu=0,wp=i):Yu=0,Xu(0)}}function ob(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Iu(s)))}function sf(i){return ib(),sb(),ab(),lb()}function lb(){if(vn!==5)return!1;var i=Ls,s=_p;_p=0;var l=vs(ll),u=$.T,m=oe.p;try{oe.p=32>l?32:l,$.T=null,l=bp,bp=null;var y=Ls,S=ll;if(vn=0,ol=Ls=null,ll=0,(wt&6)!==0)throw Error(r(331));var N=wt;if(wt|=4,G_(y.current),F_(y,y.current,S,l),wt=N,Xu(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(pt,y)}catch{}return!0}finally{oe.p=m,$.T=u,ob(i,s)}}function ub(i,s,l){s=Tr(l,s),s=Jm(i.stateNode,s,2),i=xs(i,s,2),i!==null&&(Lr(i,2),yi(i))}function Ct(i,s,l){if(i.tag===3)ub(i,i,l);else for(;s!==null;){if(s.tag===3){ub(s,i,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ps===null||!Ps.has(u))){i=Tr(l,i),l=h_(2),u=xs(s,l,2),u!==null&&(m_(l,u,s,i),Lr(u,2),yi(u));break}}s=s.return}}function xp(i,s,l){var u=i.pingCache;if(u===null){u=i.pingCache=new $A;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(l)||(pp=!0,m.add(l),i=WA.bind(null,i,s,l),s.then(i,i))}function WA(i,s,l){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,It===i&&(dt&l)===l&&(jt===4||jt===3&&(dt&62914560)===dt&&300>Vn()-vp?(wt&2)===0&&ul(i,0):gp|=l,al===dt&&(al=0)),yi(i)}function cb(i,s){s===0&&(s=xa()),i=Go(i,s),i!==null&&(Lr(i,s),yi(i))}function ZA(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),cb(i,l)}function JA(i,s){var l=0;switch(i.tag){case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),cb(i,l)}function eR(i,s){return Ii(i,s)}var af=null,dl=null,Ap=!1,of=!1,Rp=!1,Wa=0;function yi(i){i!==dl&&i.next===null&&(dl===null?af=dl=i:dl=dl.next=i),of=!0,Ap||(Ap=!0,nR())}function Xu(i,s){if(!Rp&&of){Rp=!0;do for(var l=!1,u=af;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var S=u.suspendedLanes,N=u.pingedLanes;y=(1<<31-Gt(42|i)+1)-1,y&=m&~(S&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,mb(u,y))}else y=dt,y=Di(u,u===It?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||pr(u,y)||(l=!0,mb(u,y));u=u.next}while(l);Rp=!1}}function tR(){db()}function db(){of=Ap=!1;var i=0;Wa!==0&&(cR()&&(i=Wa),Wa=0);for(var s=Vn(),l=null,u=af;u!==null;){var m=u.next,y=fb(u,s);y===0?(u.next=null,l===null?af=m:l.next=m,m===null&&(dl=l)):(l=u,(i!==0||(y&3)!==0)&&(of=!0)),u=m}Xu(i)}function fb(i,s){for(var l=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var S=31-Gt(y),N=1<<S,H=m[S];H===-1?((N&l)===0||(N&u)!==0)&&(m[S]=gs(N,s)):H<=s&&(i.expiredLanes|=N),y&=~N}if(s=It,l=dt,l=Di(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===s&&(Et===2||Et===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ln(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||pr(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(u!==null&&Ln(u),vs(l)){case 2:case 8:l=hs;break;case 32:l=Ni;break;case 268435456:l=hr;break;default:l=Ni}return u=hb.bind(null,i),l=Ii(l,u),i.callbackPriority=s,i.callbackNode=l,s}return u!==null&&u!==null&&Ln(u),i.callbackPriority=2,i.callbackNode=null,2}function hb(i,s){if(vn!==0&&vn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(sf()&&i.callbackNode!==l)return null;var u=dt;return u=Di(i,i===It?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Y_(i,u,s),fb(i,Vn()),i.callbackNode!=null&&i.callbackNode===l?hb.bind(null,i):null)}function mb(i,s){if(sf())return null;Y_(i,s,!0)}function nR(){fR(function(){(wt&6)!==0?Ii(Sa,tR):db()})}function Cp(){return Wa===0&&(Wa=Oi()),Wa}function pb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Mo(""+i)}function gb(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function rR(i,s,l,u,m){if(s==="submit"&&l&&l.stateNode===m){var y=pb((m[pe]||null).action),S=u.submitter;S&&(s=(s=S[pe]||null)?pb(s.formAction):S.getAttribute("formAction"),s!==null&&(y=s,S=null));var N=new Po("action","action",null,u,m);i.push({event:N,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Wa!==0){var H=S?gb(m,S):new FormData(m);Km(l,{pending:!0,data:H,method:m.method,action:y},null,H)}}else typeof y=="function"&&(N.preventDefault(),H=S?gb(m,S):new FormData(m),Km(l,{pending:!0,data:H,method:m.method,action:y},y,H))},currentTarget:m}]})}}for(var Ip=0;Ip<hm.length;Ip++){var Np=hm[Ip],iR=Np.toLowerCase(),sR=Np[0].toUpperCase()+Np.slice(1);kr(iR,"on"+sR)}kr(Yv,"onAnimationEnd"),kr(Xv,"onAnimationIteration"),kr(Wv,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(EA,"onTransitionRun"),kr(TA,"onTransitionStart"),kr(SA,"onTransitionCancel"),kr(Zv,"onTransitionEnd"),jn("onMouseEnter",["mouseout","mouseover"]),jn("onMouseLeave",["mouseout","mouseover"]),jn("onPointerEnter",["pointerout","pointerover"]),jn("onPointerLeave",["pointerout","pointerover"]),Zt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wu));function yb(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],m=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var S=u.length-1;0<=S;S--){var N=u[S],H=N.instance,te=N.currentTarget;if(N=N.listener,H!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=te;try{y(m)}catch(ae){Qd(ae)}m.currentTarget=null,y=H}else for(S=0;S<u.length;S++){if(N=u[S],H=N.instance,te=N.currentTarget,N=N.listener,H!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=te;try{y(m)}catch(ae){Qd(ae)}m.currentTarget=null,y=H}}}}function tt(i,s){var l=s[Pe];l===void 0&&(l=s[Pe]=new Set);var u=i+"__bubble";l.has(u)||(vb(s,i,2,!1),l.add(u))}function Dp(i,s,l){var u=0;s&&(u|=4),vb(l,i,u,s)}var lf="_reactListening"+Math.random().toString(36).slice(2);function Op(i){if(!i[lf]){i[lf]=!0,We.forEach(function(l){l!=="selectionchange"&&(aR.has(l)||Dp(l,!1,i),Dp(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[lf]||(s[lf]=!0,Dp("selectionchange",!1,s))}}function vb(i,s,l,u){switch(Fb(s)){case 2:var m=MR;break;case 8:m=PR;break;default:m=$p}l=m.bind(null,s,l,i),m=void 0,!wr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function Mp(i,s,l,u,m){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var N=u.stateNode.containerInfo;if(N===m)break;if(S===4)for(S=u.return;S!==null;){var H=S.tag;if((H===3||H===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;N!==null;){if(S=ke(N),S===null)return;if(H=S.tag,H===5||H===6||H===26||H===27){u=y=S;continue e}N=N.parentNode}}u=u.return}ud(function(){var te=y,ae=br(l),fe=[];e:{var ne=Jv.get(i);if(ne!==void 0){var re=Po,Be=i;switch(i){case"keypress":if(li(l)===0)break e;case"keydown":case"keyup":re=zo;break;case"focusin":Be="focus",re=ko;break;case"focusout":Be="blur",re=ko;break;case"beforeblur":case"afterblur":re=ko;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Er;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=yd;break;case Yv:case Xv:case Wv:re=jo;break;case Zv:re=_d;break;case"scroll":case"scrollend":re=cd;break;case"wheel":re=Bo;break;case"copy":case"cut":case"paste":re=Uo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=wu;break;case"toggle":case"beforetoggle":re=wd}var Ve=(s&4)!==0,At=!Ve&&(i==="scroll"||i==="scrollend"),X=Ve?ne!==null?ne+"Capture":null:ne;Ve=[];for(var K=te,J;K!==null;){var ce=K;if(J=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||J===null||X===null||(ce=Na(K,X),ce!=null&&Ve.push(Zu(K,ce,J))),At)break;K=K.return}0<Ve.length&&(ne=new re(ne,Be,null,l,ae),fe.push({event:ne,listeners:Ve}))}}if((s&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",ne&&l!==Li&&(Be=l.relatedTarget||l.fromElement)&&(ke(Be)||Be[Se]))break e;if((re||ne)&&(ne=ae.window===ae?ae:(ne=ae.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(Be=l.relatedTarget||l.toElement,re=te,Be=Be?ke(Be):null,Be!==null&&(At=o(Be),Ve=Be.tag,Be!==At||Ve!==5&&Ve!==27&&Ve!==6)&&(Be=null)):(re=null,Be=te),re!==Be)){if(Ve=Er,ce="onMouseLeave",X="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=wu,ce="onPointerLeave",X="onPointerEnter",K="pointer"),At=re==null?ne:yt(re),J=Be==null?ne:yt(Be),ne=new Ve(ce,K+"leave",re,l,ae),ne.target=At,ne.relatedTarget=J,ce=null,ke(ae)===te&&(Ve=new Ve(X,K+"enter",Be,l,ae),Ve.target=J,Ve.relatedTarget=At,ce=Ve),At=ce,re&&Be)t:{for(Ve=re,X=Be,K=0,J=Ve;J;J=fl(J))K++;for(J=0,ce=X;ce;ce=fl(ce))J++;for(;0<K-J;)Ve=fl(Ve),K--;for(;0<J-K;)X=fl(X),J--;for(;K--;){if(Ve===X||X!==null&&Ve===X.alternate)break t;Ve=fl(Ve),X=fl(X)}Ve=null}else Ve=null;re!==null&&_b(fe,ne,re,Ve,!1),Be!==null&&At!==null&&_b(fe,At,Be,Ve,!0)}}e:{if(ne=te?yt(te):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Re=jv;else if(en(ne))if(Uv)Re=_A;else{Re=yA;var Ze=gA}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&mu(te.elementType)&&(Re=jv):Re=vA;if(Re&&(Re=Re(i,te))){zi(fe,Re,l,ae);break e}Ze&&Ze(i,ne,te),i==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&bs(ne,"number",ne.value)}switch(Ze=te?yt(te):window,i){case"focusin":(en(Ze)||Ze.contentEditable==="true")&&(Fo=Ze,cm=te,Su=null);break;case"focusout":Su=cm=Fo=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,Qv(fe,l,ae);break;case"selectionchange":if(wA)break;case"keydown":case"keyup":Qv(fe,l,ae)}var Oe;if(di)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ut?ie(i,l)&&(je="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(je="onCompositionStart");je&&(E&&l.locale!=="ko"&&(ut||je!=="onCompositionStart"?je==="onCompositionEnd"&&ut&&(Oe=gu()):(oi=ae,ws="value"in oi?oi.value:oi.textContent,ut=!0)),Ze=uf(te,je),0<Ze.length&&(je=new _u(je,i,null,l,ae),fe.push({event:je,listeners:Ze}),Oe?je.data=Oe:(Oe=ve(l),Oe!==null&&(je.data=Oe)))),(Oe=_?Jt(i,l):ct(i,l))&&(je=uf(te,"onBeforeInput"),0<je.length&&(Ze=new _u("onBeforeInput","beforeinput",null,l,ae),fe.push({event:Ze,listeners:je}),Ze.data=Oe)),rR(fe,i,te,l,ae)}yb(fe,s)})}function Zu(i,s,l){return{instance:i,listener:s,currentTarget:l}}function uf(i,s){for(var l=s+"Capture",u=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Na(i,l),m!=null&&u.unshift(Zu(i,m,y)),m=Na(i,s),m!=null&&u.push(Zu(i,m,y))),i.tag===3)return u;i=i.return}return[]}function fl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function _b(i,s,l,u,m){for(var y=s._reactName,S=[];l!==null&&l!==u;){var N=l,H=N.alternate,te=N.stateNode;if(N=N.tag,H!==null&&H===u)break;N!==5&&N!==26&&N!==27||te===null||(H=te,m?(te=Na(l,y),te!=null&&S.unshift(Zu(l,te,H))):m||(te=Na(l,y),te!=null&&S.push(Zu(l,te,H)))),l=l.return}S.length!==0&&i.push({event:s,listeners:S})}var oR=/\r\n?/g,lR=/\u0000|\uFFFD/g;function bb(i){return(typeof i=="string"?i:""+i).replace(oR,`
`).replace(lR,"")}function wb(i,s){return s=bb(s),bb(i)===s}function cf(){}function xt(i,s,l,u,m,y){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||_r(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&_r(i,""+u);break;case"className":Un(i,"class",u);break;case"tabIndex":Un(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(i,l,u);break;case"style":hu(i,u,y);break;case"data":if(s!=="object"){Un(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Mo(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&xt(i,s,"name",m.name,m,null),xt(i,s,"formEncType",m.formEncType,m,null),xt(i,s,"formMethod",m.formMethod,m,null),xt(i,s,"formTarget",m.formTarget,m,null)):(xt(i,s,"encType",m.encType,m,null),xt(i,s,"method",m.method,m,null),xt(i,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Mo(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=cf);break;case"onScroll":u!=null&&tt("scroll",i);break;case"onScrollEnd":u!=null&&tt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Mo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":tt("beforetoggle",i),tt("toggle",i),An(i,"popover",u);break;case"xlinkActuate":He(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":He(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":He(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":He(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":He(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":He(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":He(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":He(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":He(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":An(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=rm.get(l)||l,An(i,l,u))}}function Pp(i,s,l,u,m,y){switch(l){case"style":hu(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?_r(i,u):(typeof u=="number"||typeof u=="bigint")&&_r(i,""+u);break;case"onScroll":u!=null&&tt("scroll",i);break;case"onScrollEnd":u!=null&&tt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=cf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),s=l.slice(2,m?l.length-7:void 0),y=i[pe]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(s,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,u,m);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):An(i,l,u)}}}function _n(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",i),tt("load",i);var u=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var S=l[y];if(S!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:xt(i,s,y,S,l,null)}}m&&xt(i,s,"srcSet",l.srcSet,l,null),u&&xt(i,s,"src",l.src,l,null);return;case"input":tt("invalid",i);var N=y=S=m=null,H=null,te=null;for(u in l)if(l.hasOwnProperty(u)){var ae=l[u];if(ae!=null)switch(u){case"name":m=ae;break;case"type":S=ae;break;case"checked":H=ae;break;case"defaultChecked":te=ae;break;case"value":y=ae;break;case"defaultValue":N=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:xt(i,s,u,ae,l,null)}}Ra(i,y,N,H,te,S,m,!1),Oo(i);return;case"select":tt("invalid",i),u=S=y=null;for(m in l)if(l.hasOwnProperty(m)&&(N=l[m],N!=null))switch(m){case"value":y=N;break;case"defaultValue":S=N;break;case"multiple":u=N;default:xt(i,s,m,N,l,null)}s=y,l=S,i.multiple=!!u,s!=null?Pi(i,!!u,s,!1):l!=null&&Pi(i,!!u,l,!0);return;case"textarea":tt("invalid",i),y=m=u=null;for(S in l)if(l.hasOwnProperty(S)&&(N=l[S],N!=null))switch(S){case"value":u=N;break;case"defaultValue":m=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:xt(i,s,S,N,l,null)}Ca(i,u,m,y),Oo(i);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(u=l[H],u!=null))switch(H){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:xt(i,s,H,u,l,null)}return;case"dialog":tt("beforetoggle",i),tt("toggle",i),tt("cancel",i),tt("close",i);break;case"iframe":case"object":tt("load",i);break;case"video":case"audio":for(u=0;u<Wu.length;u++)tt(Wu[u],i);break;case"image":tt("error",i),tt("load",i);break;case"details":tt("toggle",i);break;case"embed":case"source":case"link":tt("error",i),tt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(u=l[te],u!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:xt(i,s,te,u,l,null)}return;default:if(mu(s)){for(ae in l)l.hasOwnProperty(ae)&&(u=l[ae],u!==void 0&&Pp(i,s,ae,u,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(u=l[N],u!=null&&xt(i,s,N,u,l,null))}function uR(i,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,S=null,N=null,H=null,te=null,ae=null;for(re in l){var fe=l[re];if(l.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=fe;default:u.hasOwnProperty(re)||xt(i,s,re,null,u,fe)}}for(var ne in u){var re=u[ne];if(fe=l[ne],u.hasOwnProperty(ne)&&(re!=null||fe!=null))switch(ne){case"type":y=re;break;case"name":m=re;break;case"checked":te=re;break;case"defaultChecked":ae=re;break;case"value":S=re;break;case"defaultValue":N=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:re!==fe&&xt(i,s,ne,re,u,fe)}}nr(i,S,N,H,te,ae,y,m);return;case"select":re=S=N=ne=null;for(y in l)if(H=l[y],l.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":re=H;default:u.hasOwnProperty(y)||xt(i,s,y,null,u,H)}for(m in u)if(y=u[m],H=l[m],u.hasOwnProperty(m)&&(y!=null||H!=null))switch(m){case"value":ne=y;break;case"defaultValue":N=y;break;case"multiple":S=y;default:y!==H&&xt(i,s,m,y,u,H)}s=N,l=S,u=re,ne!=null?Pi(i,!!l,ne,!1):!!u!=!!l&&(s!=null?Pi(i,!!l,s,!0):Pi(i,!!l,l?[]:"",!1));return;case"textarea":re=ne=null;for(N in l)if(m=l[N],l.hasOwnProperty(N)&&m!=null&&!u.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:xt(i,s,N,null,u,m)}for(S in u)if(m=u[S],y=l[S],u.hasOwnProperty(S)&&(m!=null||y!=null))switch(S){case"value":ne=m;break;case"defaultValue":re=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&xt(i,s,S,m,u,y)}Tt(i,ne,re);return;case"option":for(var Be in l)if(ne=l[Be],l.hasOwnProperty(Be)&&ne!=null&&!u.hasOwnProperty(Be))switch(Be){case"selected":i.selected=!1;break;default:xt(i,s,Be,null,u,ne)}for(H in u)if(ne=u[H],re=l[H],u.hasOwnProperty(H)&&ne!==re&&(ne!=null||re!=null))switch(H){case"selected":i.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:xt(i,s,H,ne,u,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in l)ne=l[Ve],l.hasOwnProperty(Ve)&&ne!=null&&!u.hasOwnProperty(Ve)&&xt(i,s,Ve,null,u,ne);for(te in u)if(ne=u[te],re=l[te],u.hasOwnProperty(te)&&ne!==re&&(ne!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:xt(i,s,te,ne,u,re)}return;default:if(mu(s)){for(var At in l)ne=l[At],l.hasOwnProperty(At)&&ne!==void 0&&!u.hasOwnProperty(At)&&Pp(i,s,At,void 0,u,ne);for(ae in u)ne=u[ae],re=l[ae],!u.hasOwnProperty(ae)||ne===re||ne===void 0&&re===void 0||Pp(i,s,ae,ne,u,re);return}}for(var X in l)ne=l[X],l.hasOwnProperty(X)&&ne!=null&&!u.hasOwnProperty(X)&&xt(i,s,X,null,u,ne);for(fe in u)ne=u[fe],re=l[fe],!u.hasOwnProperty(fe)||ne===re||ne==null&&re==null||xt(i,s,fe,ne,u,re)}var Lp=null,Vp=null;function df(i){return i.nodeType===9?i:i.ownerDocument}function Eb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tb(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function kp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jp=null;function cR(){var i=window.event;return i&&i.type==="popstate"?i===jp?!1:(jp=i,!0):(jp=null,!1)}var Sb=typeof setTimeout=="function"?setTimeout:void 0,dR=typeof clearTimeout=="function"?clearTimeout:void 0,xb=typeof Promise=="function"?Promise:void 0,fR=typeof queueMicrotask=="function"?queueMicrotask:typeof xb<"u"?function(i){return xb.resolve(null).then(i).catch(hR)}:Sb;function hR(i){setTimeout(function(){throw i})}function ks(i){return i==="head"}function Ab(i,s){var l=s,u=0,m=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<u&&8>u){l=u;var S=i.ownerDocument;if(l&1&&Ju(S.documentElement),l&2&&Ju(S.body),l&4)for(l=S.head,Ju(l),S=l.firstChild;S;){var N=S.nextSibling,H=S.nodeName;S[Le]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=N}}if(m===0){i.removeChild(y),oc(s);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:u=l.charCodeAt(0)-48;else u=0;l=y}while(l);oc(s)}function Up(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Up(l),Ne(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function mR(i,s,l,u){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Le])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Ur(i.nextSibling),i===null)break}return null}function pR(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ur(i.nextSibling),i===null))return null;return i}function zp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function gR(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Ur(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Bp=null;function Rb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function Cb(i,s,l){switch(s=df(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ju(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ne(i)}var Ir=new Map,Ib=new Set;function ff(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ji=oe.d;oe.d={f:yR,r:vR,D:_R,C:bR,L:wR,m:ER,X:SR,S:TR,M:xR};function yR(){var i=Ji.f(),s=nf();return i||s}function vR(i){var s=Je(i);s!==null&&s.tag===5&&s.type==="form"?Y0(s):Ji.r(i)}var hl=typeof document>"u"?null:document;function Nb(i,s,l){var u=hl;if(u&&typeof s=="string"&&s){var m=Qt(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Ib.has(m)||(Ib.add(m),i={rel:i,crossOrigin:l,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),_n(s,"link",i),at(s),u.head.appendChild(s)))}}function _R(i){Ji.D(i),Nb("dns-prefetch",i,null)}function bR(i,s){Ji.C(i,s),Nb("preconnect",i,s)}function wR(i,s,l){Ji.L(i,s,l);var u=hl;if(u&&i&&s){var m='link[rel="preload"][as="'+Qt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Qt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Qt(l.imageSizes)+'"]')):m+='[href="'+Qt(i)+'"]';var y=m;switch(s){case"style":y=ml(i);break;case"script":y=pl(i)}Ir.has(y)||(i=g({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Ir.set(y,i),u.querySelector(m)!==null||s==="style"&&u.querySelector(ec(y))||s==="script"&&u.querySelector(tc(y))||(s=u.createElement("link"),_n(s,"link",i),at(s),u.head.appendChild(s)))}}function ER(i,s){Ji.m(i,s);var l=hl;if(l&&i){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Qt(u)+'"][href="'+Qt(i)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=pl(i)}if(!Ir.has(y)&&(i=g({rel:"modulepreload",href:i},s),Ir.set(y,i),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(tc(y)))return}u=l.createElement("link"),_n(u,"link",i),at(u),l.head.appendChild(u)}}}function TR(i,s,l){Ji.S(i,s,l);var u=hl;if(u&&i){var m=ht(u).hoistableStyles,y=ml(i);s=s||"default";var S=m.get(y);if(!S){var N={loading:0,preload:null};if(S=u.querySelector(ec(y)))N.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Ir.get(y))&&Fp(i,l);var H=S=u.createElement("link");at(H),_n(H,"link",i),H._p=new Promise(function(te,ae){H.onload=te,H.onerror=ae}),H.addEventListener("load",function(){N.loading|=1}),H.addEventListener("error",function(){N.loading|=2}),N.loading|=4,hf(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:N},m.set(y,S)}}}function SR(i,s){Ji.X(i,s);var l=hl;if(l&&i){var u=ht(l).hoistableScripts,m=pl(i),y=u.get(m);y||(y=l.querySelector(tc(m)),y||(i=g({src:i,async:!0},s),(s=Ir.get(m))&&qp(i,s),y=l.createElement("script"),at(y),_n(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function xR(i,s){Ji.M(i,s);var l=hl;if(l&&i){var u=ht(l).hoistableScripts,m=pl(i),y=u.get(m);y||(y=l.querySelector(tc(m)),y||(i=g({src:i,async:!0,type:"module"},s),(s=Ir.get(m))&&qp(i,s),y=l.createElement("script"),at(y),_n(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function Db(i,s,l,u){var m=(m=Ee.current)?ff(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=ml(l.href),l=ht(m).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ml(l.href);var y=ht(m).hoistableStyles,S=y.get(i);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,S),(y=m.querySelector(ec(i)))&&!y._p&&(S.instance=y,S.state.loading=5),Ir.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ir.set(i,l),y||AR(m,i,l,S.state))),s&&u===null)throw Error(r(528,""));return S}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=pl(l),l=ht(m).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ml(i){return'href="'+Qt(i)+'"'}function ec(i){return'link[rel="stylesheet"]['+i+"]"}function Ob(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function AR(i,s,l,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),_n(s,"link",l),at(s),i.head.appendChild(s))}function pl(i){return'[src="'+Qt(i)+'"]'}function tc(i){return"script[async]"+i}function Mb(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Qt(l.href)+'"]');if(u)return s.instance=u,at(u),u;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),at(u),_n(u,"style",m),hf(u,l.precedence,i),s.instance=u;case"stylesheet":m=ml(l.href);var y=i.querySelector(ec(m));if(y)return s.state.loading|=4,s.instance=y,at(y),y;u=Ob(l),(m=Ir.get(m))&&Fp(u,m),y=(i.ownerDocument||i).createElement("link"),at(y);var S=y;return S._p=new Promise(function(N,H){S.onload=N,S.onerror=H}),_n(y,"link",u),s.state.loading|=4,hf(y,l.precedence,i),s.instance=y;case"script":return y=pl(l.src),(m=i.querySelector(tc(y)))?(s.instance=m,at(m),m):(u=l,(m=Ir.get(y))&&(u=g({},l),qp(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),at(m),_n(m,"link",u),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,hf(u,l.precedence,i));return s.instance}function hf(i,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,S=0;S<u.length;S++){var N=u[S];if(N.dataset.precedence===s)y=N;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Fp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function qp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var mf=null;function Pb(i,s,l){if(mf===null){var u=new Map,m=mf=new Map;m.set(l,u)}else m=mf,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var y=l[m];if(!(y[Le]||y[de]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(s)||"";S=i+S;var N=u.get(S);N?N.push(y):u.set(S,[y])}}return u}function Lb(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function RR(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Vb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var nc=null;function CR(){}function IR(i,s,l){if(nc===null)throw Error(r(475));var u=nc;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=ml(l.href),y=i.querySelector(ec(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=pf.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=y,at(y);return}y=i.ownerDocument||i,l=Ob(l),(m=Ir.get(m))&&Fp(l,m),y=y.createElement("link"),at(y);var S=y;S._p=new Promise(function(N,H){S.onload=N,S.onerror=H}),_n(y,"link",l),s.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=pf.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function NR(){if(nc===null)throw Error(r(475));var i=nc;return i.stylesheets&&i.count===0&&Hp(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&Hp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function pf(){if(this.count--,this.count===0){if(this.stylesheets)Hp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var gf=null;function Hp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,gf=new Map,s.forEach(DR,i),gf=null,pf.call(i))}function DR(i,s){if(!(s.state.loading&4)){var l=gf.get(i);if(l)var u=l.get(null);else{l=new Map,gf.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var S=m[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),u=S)}u&&l.set(null,u)}m=s.instance,S=m.getAttribute("data-precedence"),y=l.get(S)||u,y===u&&l.set(null,m),l.set(S,m),this.count++,u=pf.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var rc={$$typeof:R,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function OR(i,s,l,u,m,y,S,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gr(0),this.hiddenUpdates=gr(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function kb(i,s,l,u,m,y,S,N,H,te,ae,fe){return i=new OR(i,s,l,S,N,H,te,fe),s=1,y===!0&&(s|=24),y=ir(3,null,null,s),i.current=y,y.stateNode=i,s=xm(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:s},Im(y),i}function jb(i){return i?(i=$o,i):$o}function Ub(i,s,l,u,m,y){m=jb(m),u.context===null?u.context=m:u.pendingContext=m,u=Ss(s),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=xs(i,u,s),l!==null&&(ur(l,i,s),Mu(l,i,s))}function zb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Gp(i,s){zb(i,s),(i=i.alternate)&&zb(i,s)}function Bb(i){if(i.tag===13){var s=Go(i,67108864);s!==null&&ur(s,i,67108864),Gp(i,67108864)}}var yf=!0;function MR(i,s,l,u){var m=$.T;$.T=null;var y=oe.p;try{oe.p=2,$p(i,s,l,u)}finally{oe.p=y,$.T=m}}function PR(i,s,l,u){var m=$.T;$.T=null;var y=oe.p;try{oe.p=8,$p(i,s,l,u)}finally{oe.p=y,$.T=m}}function $p(i,s,l,u){if(yf){var m=Qp(u);if(m===null)Mp(i,s,u,vf,l),qb(i,u);else if(VR(m,i,s,l,u))u.stopPropagation();else if(qb(i,u),s&4&&-1<LR.indexOf(i)){for(;m!==null;){var y=Je(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Jn(y.pendingLanes);if(S!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;S;){var H=1<<31-Gt(S);N.entanglements[1]|=H,S&=~H}yi(y),(wt&6)===0&&(ef=Vn()+500,Xu(0))}}break;case 13:N=Go(y,2),N!==null&&ur(N,y,2),nf(),Gp(y,2)}if(y=Qp(u),y===null&&Mp(i,s,u,vf,l),y===m)break;m=y}m!==null&&u.stopPropagation()}else Mp(i,s,u,null,l)}}function Qp(i){return i=br(i),Kp(i)}var vf=null;function Kp(i){if(vf=null,i=ke(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=c(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return vf=i,null}function Fb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cu()){case Sa:return 2;case hs:return 8;case Ni:case Pr:return 32;case hr:return 268435456;default:return 32}default:return 32}}var Yp=!1,js=null,Us=null,zs=null,ic=new Map,sc=new Map,Bs=[],LR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qb(i,s){switch(i){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":ic.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(s.pointerId)}}function ac(i,s,l,u,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},s!==null&&(s=Je(s),s!==null&&Bb(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function VR(i,s,l,u,m){switch(s){case"focusin":return js=ac(js,i,s,l,u,m),!0;case"dragenter":return Us=ac(Us,i,s,l,u,m),!0;case"mouseover":return zs=ac(zs,i,s,l,u,m),!0;case"pointerover":var y=m.pointerId;return ic.set(y,ac(ic.get(y)||null,i,s,l,u,m)),!0;case"gotpointercapture":return y=m.pointerId,sc.set(y,ac(sc.get(y)||null,i,s,l,u,m)),!0}return!1}function Hb(i){var s=ke(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){i.blockedOn=s,W(i.priority,function(){if(l.tag===13){var u=lr();u=ri(u);var m=Go(l,u);m!==null&&ur(m,l,u),Gp(l,u)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _f(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Qp(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);Li=u,l.target.dispatchEvent(u),Li=null}else return s=Je(l),s!==null&&Bb(s),i.blockedOn=l,!1;s.shift()}return!0}function Gb(i,s,l){_f(i)&&l.delete(s)}function kR(){Yp=!1,js!==null&&_f(js)&&(js=null),Us!==null&&_f(Us)&&(Us=null),zs!==null&&_f(zs)&&(zs=null),ic.forEach(Gb),sc.forEach(Gb)}function bf(i,s){i.blockedOn===s&&(i.blockedOn=null,Yp||(Yp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kR)))}var wf=null;function $b(i){wf!==i&&(wf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){wf===i&&(wf=null);for(var s=0;s<i.length;s+=3){var l=i[s],u=i[s+1],m=i[s+2];if(typeof u!="function"){if(Kp(u||l)===null)continue;break}var y=Je(l);y!==null&&(i.splice(s,3),s-=3,Km(y,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function oc(i){function s(H){return bf(H,i)}js!==null&&bf(js,i),Us!==null&&bf(Us,i),zs!==null&&bf(zs,i),ic.forEach(s),sc.forEach(s);for(var l=0;l<Bs.length;l++){var u=Bs[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Bs.length&&(l=Bs[0],l.blockedOn===null);)Hb(l),l.blockedOn===null&&Bs.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],y=l[u+1],S=m[pe]||null;if(typeof y=="function")S||$b(l);else if(S){var N=null;if(y&&y.hasAttribute("formAction")){if(m=y,S=y[pe]||null)N=S.formAction;else if(Kp(m)!==null)continue}else N=S.action;typeof N=="function"?l[u+1]=N:(l.splice(u,3),u-=3),$b(l)}}}function Xp(i){this._internalRoot=i}Ef.prototype.render=Xp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=lr();Ub(l,u,i,s,null,null)},Ef.prototype.unmount=Xp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ub(i.current,2,null,i,null,null),nf(),s[Se]=null}};function Ef(i){this._internalRoot=i}Ef.prototype.unstable_scheduleHydration=function(i){if(i){var s=G();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Bs.length&&s!==0&&s<Bs[l].priority;l++);Bs.splice(l,0,i),l===0&&Hb(i)}};var Qb=e.version;if(Qb!=="19.1.0")throw Error(r(527,Qb,"19.1.0"));oe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var jR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{pt=Tf.inject(jR),Ke=Tf}catch{}}return uc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,u="",m=u_,y=c_,S=d_,N=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks)),s=kb(i,1,!1,null,null,l,u,m,y,S,N,null),i[Se]=s.current,Op(i),new Xp(s)},uc.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var u=!1,m="",y=u_,S=c_,N=d_,H=null,te=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks),l.formState!==void 0&&(te=l.formState)),s=kb(i,1,!0,s,l??null,u,m,y,S,N,H,te),s.context=jb(null),l=s.current,u=lr(),u=ri(u),m=Ss(u),m.callback=null,xs(l,m,u),l=u,s.current.lanes=l,Lr(s,l),yi(s),i[Se]=s.current,Op(i),new Ef(s)},uc.version="19.1.0",uc}var iw;function QR(){if(iw)return eg.exports;iw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),eg.exports=$R(),eg.exports}var KR=QR(),cc={},sw;function YR(){if(sw)return cc;sw=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.parse=c,cc.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,T){const x=new o,D=b.length;if(D<2)return x;const L=(T==null?void 0:T.decode)||g;let O=0;do{const C=b.indexOf("=",O);if(C===-1)break;const R=b.indexOf(";",O),B=R===-1?D:R;if(C>B){O=b.lastIndexOf(";",C-1)+1;continue}const q=d(b,O,C),U=h(b,C,q),j=b.slice(q,U);if(x[j]===void 0){let I=d(b,C+1,B),A=h(b,B,I);const M=L(b.slice(I,A));x[j]=M}O=B+1}while(O<D);return x}function d(b,T,x){do{const D=b.charCodeAt(T);if(D!==32&&D!==9)return T}while(++T<x);return x}function h(b,T,x){for(;T>x;){const D=b.charCodeAt(--T);if(D!==32&&D!==9)return T+1}return x}function p(b,T,x){const D=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const L=D(T);if(!e.test(L))throw new TypeError(`argument val is invalid: ${T}`);let O=b+"="+L;if(!x)return O;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);O+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);O+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);O+="; Path="+x.path}if(x.expires){if(!v(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);O+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(O+="; HttpOnly"),x.secure&&(O+="; Secure"),x.partitioned&&(O+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return O}function g(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return a.call(b)==="[object Date]"}return cc}YR();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kT=n=>{throw TypeError(n)},XR=(n,e,t)=>e.has(n)||kT("Cannot "+t),ig=(n,e,t)=>(XR(n,e,"read from private field"),t?t.call(n):e.get(n)),WR=(n,e,t)=>e.has(n)?kT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),aw="popstate";function ZR(n={}){function e(r,a){let{pathname:o,search:c,hash:d}=r.location;return Nc("",{pathname:o,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:ha(a)}return eC(e,t,null,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JR(){return Math.random().toString(36).substring(2,10)}function ow(n,e){return{usr:n.state,key:n.key,idx:e}}function Nc(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ba(e):e,state:t,key:e&&e.key||r||JR()}}function ha({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ba(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function eC(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,d="POP",h=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function v(){d="POP";let L=g(),O=L==null?null:L-p;p=L,h&&h({action:d,location:D.location,delta:O})}function b(L,O){d="PUSH";let C=Nc(D.location,L,O);p=g()+1;let R=ow(C,p),B=D.createHref(C);try{c.pushState(R,"",B)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign(B)}o&&h&&h({action:d,location:D.location,delta:1})}function T(L,O){d="REPLACE";let C=Nc(D.location,L,O);p=g();let R=ow(C,p),B=D.createHref(C);c.replaceState(R,"",B),o&&h&&h({action:d,location:D.location,delta:0})}function x(L){let O=a.location.origin!=="null"?a.location.origin:a.location.href,C=typeof L=="string"?L:ha(L);return C=C.replace(/ $/,"%20"),nt(O,`No window.location.(origin|href) available to create URL for href: ${C}`),new URL(C,O)}let D={get action(){return d},get location(){return n(a,c)},listen(L){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(aw,v),h=L,()=>{a.removeEventListener(aw,v),h=null}},createHref(L){return e(a,L)},createURL:x,encodeLocation(L){let O=x(L);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:T,go(L){return c.go(L)}};return D}var pc,lw=class{constructor(n){if(WR(this,pc,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(ig(this,pc).has(n))return ig(this,pc).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){ig(this,pc).set(n,e)}};pc=new WeakMap;var tC=new Set(["lazy","caseSensitive","path","id","index","children"]);function nC(n){return tC.has(n)}var rC=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function iC(n){return rC.has(n)}function sC(n){return n.index===!0}function Wf(n,e,t=[],r={}){return n.map((a,o)=>{let c=[...t,String(o)],d=typeof a.id=="string"?a.id:c.join("-");if(nt(a.index!==!0||!a.children,"Cannot specify children on an index route"),nt(!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),sC(a)){let h={...a,...e(a),id:d};return r[d]=h,h}else{let h={...a,...e(a),id:d,children:void 0};return r[d]=h,a.children&&(h.children=Wf(a.children,e,c,r)),h}})}function $s(n,e,t="/"){return Vf(n,e,t,!1)}function Vf(n,e,t,r){let a=typeof e=="string"?ba(e):e,o=Mr(a.pathname||"/",t);if(o==null)return null;let c=jT(n);oC(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=vC(o);d=gC(c[h],p,r)}return d}function aC(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function jT(n,e=[],t=[],r=""){let a=(o,c,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(nt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=Ei([r,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(nt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),jT(o.children,e,g,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:mC(p,o.index),routesMeta:g})};return n.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,c);else for(let h of UT(o.path))a(o,c,h)}),e}function UT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=UT(r.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...c),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function oC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:pC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var lC=/^:[\w-]+$/,uC=3,cC=2,dC=1,fC=10,hC=-2,uw=n=>n==="*";function mC(n,e){let t=n.split("/"),r=t.length;return t.some(uw)&&(r+=hC),e&&(r+=cC),t.filter(a=>!uw(a)).reduce((a,o)=>a+(lC.test(o)?uC:o===""?dC:fC),r)}function pC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function gC(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=Zf({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),b=h.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=Zf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Ei([o,v.pathname]),pathnameBase:wC(Ei([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=Ei([o,v.pathnameBase]))}return c}function Zf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=yC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},b)=>{if(g==="*"){let x=d[b]||"";c=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const T=d[b];return v&&!T?p[g]=void 0:p[g]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:n}}function yC(n,e=!1,t=!0){qt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function vC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Mr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function _C(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?ba(n):n;return{pathname:t?t.startsWith("/")?t:bC(t,e):e,search:EC(r),hash:TC(a)}}function bC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function sg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ty(n){let e=zT(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Sy(n,e,t,r=!1){let a;typeof n=="string"?a=ba(n):(a={...n},nt(!a.pathname||!a.pathname.includes("?"),sg("?","pathname","search",a)),nt(!a.pathname||!a.pathname.includes("#"),sg("#","pathname","hash",a)),nt(!a.search||!a.search.includes("#"),sg("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=t;else{let v=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;a.pathname=b.join("/")}d=v>=0?e[v]:"/"}let h=_C(a,d),p=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var Ei=n=>n.join("/").replace(/\/\/+/g,"/"),wC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),EC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,TC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Jf=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Dc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var BT=["POST","PUT","PATCH","DELETE"],SC=new Set(BT),xC=["GET",...BT],AC=new Set(xC),RC=new Set([301,302,303,307,308]),CC=new Set([307,308]),ag={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},dc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},xy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NC=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),FT="remix-router-transitions",qT=Symbol("ResetLoaderData");function DC(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";nt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],a=n.mapRouteProperties||NC,o={},c=Wf(n.routes,a,void 0,o),d,h=n.basename||"/",p=n.dataStrategy||VC,g={unstable_middleware:!1,...n.future},v=null,b=new Set,T=null,x=null,D=null,L=n.hydrationData!=null,O=$s(c,n.history.location,h),C=!1,R=null;if(O==null&&!n.patchRoutesOnNavigation){let G=Dr(404,{pathname:n.history.location.pathname}),{matches:W,route:ee}=ww(c);O=W,R={[ee.id]:G}}O&&!n.hydrationData&&kn(O,c,n.history.location.pathname).active&&(O=null);let B;if(O)if(O.some(G=>G.route.lazy))B=!1;else if(!O.some(G=>G.route.loader))B=!0;else{let G=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let ee=O.findIndex(de=>W[de.route.id]!==void 0);B=O.slice(0,ee+1).every(de=>!Dg(de.route,G,W))}else B=O.every(ee=>!Dg(ee.route,G,W))}else{B=!1,O=[];let G=kn(null,c,n.history.location.pathname);G.active&&G.matches&&(C=!0,O=G.matches)}let q,U={historyAction:n.history.action,location:n.history.location,matches:O,initialized:B,navigation:ag,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||R,fetchers:new Map,blockers:new Map},j="POP",I=!1,A,M=!1,V=new Map,z=null,k=!1,_e=!1,we=new Set,$=new Map,oe=0,le=-1,ye=new Map,F=new Set,se=new Map,ge=new Map,me=new Set,Ae=new Map,qe,Ee=null;function Ot(){if(v=n.history.listen(({action:G,location:W,delta:ee})=>{if(qe){qe(),qe=void 0;return}qt(Ae.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=gs({currentLocation:U.location,nextLocation:W,historyAction:G});if(de&&ee!=null){let pe=new Promise(Se=>{qe=Se});n.history.go(ee*-1),pr(de,{state:"blocked",location:W,proceed(){pr(de,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),pe.then(()=>n.history.go(ee))},reset(){let Se=new Map(U.blockers);Se.set(de,dc),Mt({blockers:Se})}});return}return Ln(G,W)}),t){QC(e,V);let G=()=>KC(e,V);e.addEventListener("pagehide",G),z=()=>e.removeEventListener("pagehide",G)}return U.initialized||Ln("POP",U.location,{initialHydration:!0}),q}function rt(){v&&v(),z&&z(),b.clear(),A&&A.abort(),U.fetchers.forEach((G,W)=>Gt(W)),U.blockers.forEach((G,W)=>Di(W))}function Ht(G){return b.add(G),()=>b.delete(G)}function Mt(G,W={}){U={...U,...G};let ee=[],de=[];U.fetchers.forEach((pe,Se)=>{pe.state==="idle"&&(me.has(Se)?ee.push(Se):de.push(Se))}),me.forEach(pe=>{!U.fetchers.has(pe)&&!$.has(pe)&&ee.push(pe)}),[...b].forEach(pe=>pe(U,{deletedFetchers:ee,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),ee.forEach(pe=>Gt(pe)),de.forEach(pe=>U.fetchers.delete(pe))}function Sn(G,W,{flushSync:ee}={}){var De,Le;let de=U.actionData!=null&&U.navigation.formMethod!=null&&dr(U.navigation.formMethod)&&U.navigation.state==="loading"&&((De=G.state)==null?void 0:De._isRedirect)!==!0,pe;W.actionData?Object.keys(W.actionData).length>0?pe=W.actionData:pe=null:de?pe=U.actionData:pe=null;let Se=W.loaderData?_w(U.loaderData,W.loaderData,W.matches||[],W.errors):U.loaderData,Pe=U.blockers;Pe.size>0&&(Pe=new Map(Pe),Pe.forEach((Ne,ke)=>Pe.set(ke,dc)));let xe=I===!0||U.navigation.formMethod!=null&&dr(U.navigation.formMethod)&&((Le=G.state)==null?void 0:Le._isRedirect)!==!0;d&&(c=d,d=void 0),k||j==="POP"||(j==="PUSH"?n.history.push(G,G.state):j==="REPLACE"&&n.history.replace(G,G.state));let Ie;if(j==="POP"){let Ne=V.get(U.location.pathname);Ne&&Ne.has(G.pathname)?Ie={currentLocation:U.location,nextLocation:G}:V.has(G.pathname)&&(Ie={currentLocation:G,nextLocation:U.location})}else if(M){let Ne=V.get(U.location.pathname);Ne?Ne.add(G.pathname):(Ne=new Set([G.pathname]),V.set(U.location.pathname,Ne)),Ie={currentLocation:U.location,nextLocation:G}}Mt({...W,actionData:pe,loaderData:Se,historyAction:j,location:G,initialized:!0,navigation:ag,revalidation:"idle",restoreScrollPosition:ys(G,W.matches||U.matches),preventScrollReset:xe,blockers:Pe},{viewTransitionOpts:Ie,flushSync:ee===!0}),j="POP",I=!1,M=!1,k=!1,_e=!1,Ee==null||Ee.resolve(),Ee=null}async function Zr(G,W){if(typeof G=="number"){n.history.go(G);return}let ee=Ng(U.location,U.matches,h,G,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:de,submission:pe,error:Se}=cw(!1,ee,W),Pe=U.location,xe=Nc(U.location,de,W&&W.state);xe={...xe,...n.history.encodeLocation(xe)};let Ie=W&&W.replace!=null?W.replace:void 0,De="PUSH";Ie===!0?De="REPLACE":Ie===!1||pe!=null&&dr(pe.formMethod)&&pe.formAction===U.location.pathname+U.location.search&&(De="REPLACE");let Le=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,Ne=(W&&W.flushSync)===!0,ke=gs({currentLocation:Pe,nextLocation:xe,historyAction:De});if(ke){pr(ke,{state:"blocked",location:xe,proceed(){pr(ke,{state:"proceeding",proceed:void 0,reset:void 0,location:xe}),Zr(G,W)},reset(){let Je=new Map(U.blockers);Je.set(ke,dc),Mt({blockers:Je})}});return}await Ln(De,xe,{submission:pe,pendingError:Se,preventScrollReset:Le,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:Ne})}function Ii(){Ee||(Ee=YC()),ps(),Mt({revalidation:"loading"});let G=Ee.promise;return U.navigation.state==="submitting"?G:U.navigation.state==="idle"?(Ln(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),G):(Ln(j||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:M===!0}),G)}async function Ln(G,W,ee){A&&A.abort(),A=null,j=G,k=(ee&&ee.startUninterruptedRevalidation)===!0,Lr(U.location,U.matches),I=(ee&&ee.preventScrollReset)===!0,M=(ee&&ee.enableViewTransition)===!0;let de=d||c,pe=ee&&ee.overrideNavigation,Se=ee!=null&&ee.initialHydration&&U.matches&&U.matches.length>0&&!C?U.matches:$s(de,W,h),Pe=(ee&&ee.flushSync)===!0;if(Se&&U.initialized&&!_e&&FC(U.location,W)&&!(ee&&ee.submission&&dr(ee.submission.formMethod))){Sn(W,{matches:Se},{flushSync:Pe});return}let xe=kn(Se,de,W.pathname);if(xe.active&&xe.matches&&(Se=xe.matches),!Se){let{error:ht,notFoundMatches:at,route:We}=Oi(W.pathname);Sn(W,{matches:at,loaderData:{},errors:{[We.id]:ht}},{flushSync:Pe});return}A=new AbortController;let Ie=gl(n.history,W,A.signal,ee&&ee.submission),De=new lw(n.unstable_getContext?await n.unstable_getContext():void 0),Le;if(ee&&ee.pendingError)Le=[Ja(Se).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&dr(ee.submission.formMethod)){let ht=await Ta(Ie,W,ee.submission,Se,De,xe.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:Pe});if(ht.shortCircuited)return;if(ht.pendingActionResult){let[at,We]=ht.pendingActionResult;if(cr(We)&&Dc(We.error)&&We.error.status===404){A=null,Sn(W,{matches:ht.matches,loaderData:{},errors:{[at]:We.error}});return}}Se=ht.matches||Se,Le=ht.pendingActionResult,pe=og(W,ee.submission),Pe=!1,xe.active=!1,Ie=gl(n.history,Ie.url,Ie.signal)}let{shortCircuited:Ne,matches:ke,loaderData:Je,errors:yt}=await No(Ie,W,Se,De,xe.active,pe,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,Pe,Le);Ne||(A=null,Sn(W,{matches:ke||Se,...bw(Le),loaderData:Je,errors:yt}))}async function Ta(G,W,ee,de,pe,Se,Pe,xe={}){ps();let Ie=GC(W,ee);if(Mt({navigation:Ie},{flushSync:xe.flushSync===!0}),Se){let Ne=await ni(de,W.pathname,G.signal);if(Ne.type==="aborted")return{shortCircuited:!0};if(Ne.type==="error"){let ke=Ja(Ne.partialMatches).route.id;return{matches:Ne.partialMatches,pendingActionResult:[ke,{type:"error",error:Ne.error}]}}else if(Ne.matches)de=Ne.matches;else{let{notFoundMatches:ke,error:Je,route:yt}=Oi(W.pathname);return{matches:ke,pendingActionResult:[yt.id,{type:"error",error:Je}]}}}let De,Le=gc(de,W);if(!Le.route.action&&!Le.route.lazy)De={type:"error",error:Dr(405,{method:G.method,pathname:W.pathname,routeId:Le.route.id})};else{let Ne=Sl(a,o,G,de,Le,Pe?[]:r,pe),ke=await hr(G,Ne,pe,null);if(De=ke[Le.route.id],!De){for(let Je of de)if(ke[Je.route.id]){De=ke[Je.route.id];break}}if(G.signal.aborted)return{shortCircuited:!0}}if(eo(De)){let Ne;return xe&&xe.replace!=null?Ne=xe.replace:Ne=gw(De.response.headers.get("Location"),new URL(G.url),h)===U.location.pathname+U.location.search,await Pr(G,De,!0,{submission:ee,replace:Ne}),{shortCircuited:!0}}if(cr(De)){let Ne=Ja(de,Le.route.id);return(xe&&xe.replace)!==!0&&(j="PUSH"),{matches:de,pendingActionResult:[Ne.route.id,De,Le.route.id]}}return{matches:de,pendingActionResult:[Le.route.id,De]}}async function No(G,W,ee,de,pe,Se,Pe,xe,Ie,De,Le,Ne){let ke=Se||og(W,Pe),Je=Pe||xe||Tw(ke),yt=!k&&!De;if(pe){if(yt){let $t=Vn(Ne);Mt({navigation:ke,...$t!==void 0?{actionData:$t}:{}},{flushSync:Le})}let He=await ni(ee,W.pathname,G.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let $t=Ja(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[$t]:He.error}}}else if(He.matches)ee=He.matches;else{let{error:$t,notFoundMatches:tr,route:Gn}=Oi(W.pathname);return{matches:tr,loaderData:{},errors:{[Gn.id]:$t}}}}let ht=d||c,{dsMatches:at,revalidatingFetchers:We}=dw(G,de,a,o,n.history,U,ee,Je,W,De?[]:r,De===!0,_e,we,me,se,F,ht,h,Ne);if(le=++oe,!n.dataStrategy&&!at.some(He=>He.shouldLoad)&&We.length===0){let He=ei();return Sn(W,{matches:ee,loaderData:{},errors:Ne&&cr(Ne[1])?{[Ne[0]]:Ne[1].error}:null,...bw(Ne),...He?{fetchers:new Map(U.fetchers)}:{}},{flushSync:Le}),{shortCircuited:!0}}if(yt){let He={};if(!pe){He.navigation=ke;let $t=Vn(Ne);$t!==void 0&&(He.actionData=$t)}We.length>0&&(He.fetchers=cu(We)),Mt(He,{flushSync:Le})}We.forEach(He=>{mr(He.key),He.controller&&$.set(He.key,He.controller)});let yr=()=>We.forEach(He=>mr(He.key));A&&A.signal.addEventListener("abort",yr);let{loaderResults:Zt,fetcherResults:jn}=await ms(at,We,G,de);if(G.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",yr),We.forEach(He=>$.delete(He.key));let mn=xf(Zt);if(mn)return await Pr(G,mn.result,!0,{replace:Ie}),{shortCircuited:!0};if(mn=xf(jn),mn)return F.add(mn.key),await Pr(G,mn.result,!0,{replace:Ie}),{shortCircuited:!0};let{loaderData:ii,errors:er}=vw(U,ee,Zt,Ne,We,jn);De&&U.errors&&(er={...U.errors,...er});let _s=ei(),An=ti(le),Un=_s||An||We.length>0;return{matches:ee,loaderData:ii,errors:er,...Un?{fetchers:new Map(U.fetchers)}:{}}}function Vn(G){if(G&&!cr(G[1]))return{[G[0]]:G[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function cu(G){return G.forEach(W=>{let ee=U.fetchers.get(W.key),de=fc(void 0,ee?ee.data:void 0);U.fetchers.set(W.key,de)}),new Map(U.fetchers)}async function Sa(G,W,ee,de){mr(G);let pe=(de&&de.flushSync)===!0,Se=d||c,Pe=Ng(U.location,U.matches,h,ee,W,de==null?void 0:de.relative),xe=$s(Se,Pe,h),Ie=kn(xe,Se,Pe);if(Ie.active&&Ie.matches&&(xe=Ie.matches),!xe){Ke(G,W,Dr(404,{pathname:Pe}),{flushSync:pe});return}let{path:De,submission:Le,error:Ne}=cw(!0,Pe,de);if(Ne){Ke(G,W,Ne,{flushSync:pe});return}let ke=gc(xe,De),Je=new lw(n.unstable_getContext?await n.unstable_getContext():void 0),yt=(de&&de.preventScrollReset)===!0;if(Le&&dr(Le.formMethod)){await hs(G,W,De,ke,xe,Je,Ie.active,pe,yt,Le);return}se.set(G,{routeId:W,path:De}),await Ni(G,W,De,ke,xe,Je,Ie.active,pe,yt,Le)}async function hs(G,W,ee,de,pe,Se,Pe,xe,Ie,De){ps(),se.delete(G);function Le(Rt){if(!Rt.route.action&&!Rt.route.lazy){let vr=Dr(405,{method:De.formMethod,pathname:ee,routeId:W});return Ke(G,W,vr,{flushSync:xe}),!0}return!1}if(!Pe&&Le(de))return;let Ne=U.fetchers.get(G);pt(G,$C(De,Ne),{flushSync:xe});let ke=new AbortController,Je=gl(n.history,ee,ke.signal,De);if(Pe){let Rt=await ni(pe,ee,Je.signal,G);if(Rt.type==="aborted")return;if(Rt.type==="error"){Ke(G,W,Rt.error,{flushSync:xe});return}else if(Rt.matches){if(pe=Rt.matches,de=gc(pe,ee),Le(de))return}else{Ke(G,W,Dr(404,{pathname:ee}),{flushSync:xe});return}}$.set(G,ke);let yt=oe,ht=Sl(a,o,Je,pe,de,r,Se),We=(await hr(Je,ht,Se,G))[de.route.id];if(Je.signal.aborted){$.get(G)===ke&&$.delete(G);return}if(me.has(G)){if(eo(We)||cr(We)){pt(G,Hs(void 0));return}}else{if(eo(We))if($.delete(G),le>yt){pt(G,Hs(void 0));return}else return F.add(G),pt(G,fc(De)),Pr(Je,We,!1,{fetcherSubmission:De,preventScrollReset:Ie});if(cr(We)){Ke(G,W,We.error);return}}let yr=U.navigation.location||U.location,Zt=gl(n.history,yr,ke.signal),jn=d||c,mn=U.navigation.state!=="idle"?$s(jn,U.navigation.location,h):U.matches;nt(mn,"Didn't find any matches after fetcher action");let ii=++oe;ye.set(G,ii);let er=fc(De,We.data);U.fetchers.set(G,er);let{dsMatches:_s,revalidatingFetchers:An}=dw(Zt,Se,a,o,n.history,U,mn,De,yr,r,!1,_e,we,me,se,F,jn,h,[de.route.id,We]);An.filter(Rt=>Rt.key!==G).forEach(Rt=>{let vr=Rt.key,Mi=U.fetchers.get(vr),pn=fc(void 0,Mi?Mi.data:void 0);U.fetchers.set(vr,pn),mr(vr),Rt.controller&&$.set(vr,Rt.controller)}),Mt({fetchers:new Map(U.fetchers)});let Un=()=>An.forEach(Rt=>mr(Rt.key));ke.signal.addEventListener("abort",Un);let{loaderResults:He,fetcherResults:$t}=await ms(_s,An,Zt,Se);if(ke.signal.aborted)return;ke.signal.removeEventListener("abort",Un),ye.delete(G),$.delete(G),An.forEach(Rt=>$.delete(Rt.key));let tr=xf(He);if(tr)return Pr(Zt,tr.result,!1,{preventScrollReset:Ie});if(tr=xf($t),tr)return F.add(tr.key),Pr(Zt,tr.result,!1,{preventScrollReset:Ie});let{loaderData:Gn,errors:si}=vw(U,mn,He,void 0,An,$t);if(U.fetchers.has(G)){let Rt=Hs(We.data);U.fetchers.set(G,Rt)}ti(ii),U.navigation.state==="loading"&&ii>le?(nt(j,"Expected pending action"),A&&A.abort(),Sn(U.navigation.location,{matches:mn,loaderData:Gn,errors:si,fetchers:new Map(U.fetchers)})):(Mt({errors:si,loaderData:_w(U.loaderData,Gn,mn,si),fetchers:new Map(U.fetchers)}),_e=!1)}async function Ni(G,W,ee,de,pe,Se,Pe,xe,Ie,De){let Le=U.fetchers.get(G);pt(G,fc(De,Le?Le.data:void 0),{flushSync:xe});let Ne=new AbortController,ke=gl(n.history,ee,Ne.signal);if(Pe){let We=await ni(pe,ee,ke.signal,G);if(We.type==="aborted")return;if(We.type==="error"){Ke(G,W,We.error,{flushSync:xe});return}else if(We.matches)pe=We.matches,de=gc(pe,ee);else{Ke(G,W,Dr(404,{pathname:ee}),{flushSync:xe});return}}$.set(G,Ne);let Je=oe,yt=Sl(a,o,ke,pe,de,r,Se),at=(await hr(ke,yt,Se,G))[de.route.id];if($.get(G)===Ne&&$.delete(G),!ke.signal.aborted){if(me.has(G)){pt(G,Hs(void 0));return}if(eo(at))if(le>Je){pt(G,Hs(void 0));return}else{F.add(G),await Pr(ke,at,!1,{preventScrollReset:Ie});return}if(cr(at)){Ke(G,W,at.error);return}pt(G,Hs(at.data))}}async function Pr(G,W,ee,{submission:de,fetcherSubmission:pe,preventScrollReset:Se,replace:Pe}={}){W.response.headers.has("X-Remix-Revalidate")&&(_e=!0);let xe=W.response.headers.get("Location");nt(xe,"Expected a Location header on the redirect Response"),xe=gw(xe,new URL(G.url),h);let Ie=Nc(U.location,xe,{_isRedirect:!0});if(t){let yt=!1;if(W.response.headers.has("X-Remix-Reload-Document"))yt=!0;else if(xy.test(xe)){const ht=n.history.createURL(xe);yt=ht.origin!==e.location.origin||Mr(ht.pathname,h)==null}if(yt){Pe?e.location.replace(xe):e.location.assign(xe);return}}A=null;let De=Pe===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Le,formAction:Ne,formEncType:ke}=U.navigation;!de&&!pe&&Le&&Ne&&ke&&(de=Tw(U.navigation));let Je=de||pe;if(CC.has(W.response.status)&&Je&&dr(Je.formMethod))await Ln(De,Ie,{submission:{...Je,formAction:xe},preventScrollReset:Se||I,enableViewTransition:ee?M:void 0});else{let yt=og(Ie,de);await Ln(De,Ie,{overrideNavigation:yt,fetcherSubmission:pe,preventScrollReset:Se||I,enableViewTransition:ee?M:void 0})}}async function hr(G,W,ee,de){let pe,Se={};try{pe=await kC(p,G,W,de,ee,!1)}catch(Pe){return W.filter(xe=>xe.shouldLoad).forEach(xe=>{Se[xe.route.id]={type:"error",error:Pe}}),Se}for(let[Pe,xe]of Object.entries(pe))if(qC(xe)){let Ie=xe.result;Se[Pe]={type:"redirect",response:zC(Ie,G,Pe,W,h)}}else Se[Pe]=await UC(xe);return Se}async function ms(G,W,ee,de){let pe=hr(ee,G,de,null),Se=Promise.all(W.map(async Ie=>{if(Ie.matches&&Ie.match&&Ie.request&&Ie.controller){let Le=(await hr(Ie.request,Ie.matches,de,Ie.key))[Ie.match.route.id];return{[Ie.key]:Le}}else return Promise.resolve({[Ie.key]:{type:"error",error:Dr(404,{pathname:Ie.path})}})})),Pe=await pe,xe=(await Se).reduce((Ie,De)=>Object.assign(Ie,De),{});return{loaderResults:Pe,fetcherResults:xe}}function ps(){_e=!0,se.forEach((G,W)=>{$.has(W)&&we.add(W),mr(W)})}function pt(G,W,ee={}){U.fetchers.set(G,W),Mt({fetchers:new Map(U.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function Ke(G,W,ee,de={}){let pe=Ja(U.matches,W);Gt(G),Mt({errors:{[pe.route.id]:ee},fetchers:new Map(U.fetchers)},{flushSync:(de&&de.flushSync)===!0})}function xn(G){return ge.set(G,(ge.get(G)||0)+1),me.has(G)&&me.delete(G),U.fetchers.get(G)||IC}function Gt(G){let W=U.fetchers.get(G);$.has(G)&&!(W&&W.state==="loading"&&ye.has(G))&&mr(G),se.delete(G),ye.delete(G),F.delete(G),me.delete(G),we.delete(G),U.fetchers.delete(G)}function Do(G){let W=(ge.get(G)||0)-1;W<=0?(ge.delete(G),me.add(G)):ge.set(G,W),Mt({fetchers:new Map(U.fetchers)})}function mr(G){let W=$.get(G);W&&(W.abort(),$.delete(G))}function Jr(G){for(let W of G){let ee=xn(W),de=Hs(ee.data);U.fetchers.set(W,de)}}function ei(){let G=[],W=!1;for(let ee of F){let de=U.fetchers.get(ee);nt(de,`Expected fetcher: ${ee}`),de.state==="loading"&&(F.delete(ee),G.push(ee),W=!0)}return Jr(G),W}function ti(G){let W=[];for(let[ee,de]of ye)if(de<G){let pe=U.fetchers.get(ee);nt(pe,`Expected fetcher: ${ee}`),pe.state==="loading"&&(mr(ee),ye.delete(ee),W.push(ee))}return Jr(W),W.length>0}function Jn(G,W){let ee=U.blockers.get(G)||dc;return Ae.get(G)!==W&&Ae.set(G,W),ee}function Di(G){U.blockers.delete(G),Ae.delete(G)}function pr(G,W){let ee=U.blockers.get(G)||dc;nt(ee.state==="unblocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="proceeding"||ee.state==="blocked"&&W.state==="unblocked"||ee.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${W.state}`);let de=new Map(U.blockers);de.set(G,W),Mt({blockers:de})}function gs({currentLocation:G,nextLocation:W,historyAction:ee}){if(Ae.size===0)return;Ae.size>1&&qt(!1,"A router only supports one blocker at a time");let de=Array.from(Ae.entries()),[pe,Se]=de[de.length-1],Pe=U.blockers.get(pe);if(!(Pe&&Pe.state==="proceeding")&&Se({currentLocation:G,nextLocation:W,historyAction:ee}))return pe}function Oi(G){let W=Dr(404,{pathname:G}),ee=d||c,{matches:de,route:pe}=ww(ee);return{notFoundMatches:de,route:pe,error:W}}function xa(G,W,ee){if(T=G,D=W,x=ee||null,!L&&U.navigation===ag){L=!0;let de=ys(U.location,U.matches);de!=null&&Mt({restoreScrollPosition:de})}return()=>{T=null,D=null,x=null}}function gr(G,W){return x&&x(G,W.map(de=>aC(de,U.loaderData)))||G.key}function Lr(G,W){if(T&&D){let ee=gr(G,W);T[ee]=D()}}function ys(G,W){if(T){let ee=gr(G,W),de=T[ee];if(typeof de=="number")return de}return null}function kn(G,W,ee){if(n.patchRoutesOnNavigation)if(G){if(Object.keys(G[0].params).length>0)return{active:!0,matches:Vf(W,ee,h,!0)}}else return{active:!0,matches:Vf(W,ee,h,!0)||[]};return{active:!1,matches:null}}async function ni(G,W,ee,de){if(!n.patchRoutesOnNavigation)return{type:"success",matches:G};let pe=G;for(;;){let Se=d==null,Pe=d||c,xe=o;try{await n.patchRoutesOnNavigation({signal:ee,path:W,matches:pe,fetcherKey:de,patch:(Le,Ne)=>{ee.aborted||fw(Le,Ne,Pe,xe,a)}})}catch(Le){return{type:"error",error:Le,partialMatches:pe}}finally{Se&&!ee.aborted&&(c=[...c])}if(ee.aborted)return{type:"aborted"};let Ie=$s(Pe,W,h);if(Ie)return{type:"success",matches:Ie};let De=Vf(Pe,W,h,!0);if(!De||pe.length===De.length&&pe.every((Le,Ne)=>Le.route.id===De[Ne].route.id))return{type:"success",matches:null};pe=De}}function ri(G){o={},d=Wf(G,a,void 0,o)}function vs(G,W){let ee=d==null;fw(G,W,d||c,o,a),ee&&(c=[...c],Mt({}))}return q={get basename(){return h},get future(){return g},get state(){return U},get routes(){return c},get window(){return e},initialize:Ot,subscribe:Ht,enableScrollRestoration:xa,navigate:Zr,fetch:Sa,revalidate:Ii,createHref:G=>n.history.createHref(G),encodeLocation:G=>n.history.encodeLocation(G),getFetcher:xn,deleteFetcher:Do,dispose:rt,getBlocker:Jn,deleteBlocker:Di,patchRoutes:vs,_internalFetchControllers:$,_internalSetRoutes:ri},q}function OC(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Ng(n,e,t,r,a,o){let c,d;if(a){c=[];for(let p of e)if(c.push(p),p.route.id===a){d=p;break}}else c=e,d=e[e.length-1];let h=Sy(r||".",Ty(c),Mr(n.pathname,t)||n.pathname,o==="path");if(r==null&&(h.search=n.search,h.hash=n.hash),(r==null||r===""||r===".")&&d){let p=Ay(h.search);if(d.route.index&&!p)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let g=new URLSearchParams(h.search),v=g.getAll("index");g.delete("index"),v.filter(T=>T).forEach(T=>g.append("index",T));let b=g.toString();h.search=b?`?${b}`:""}}return t!=="/"&&(h.pathname=h.pathname==="/"?t:Ei([t,h.pathname])),ha(h)}function cw(n,e,t){if(!t||!OC(t))return{path:e};if(t.formMethod&&!HC(t.formMethod))return{path:e,error:Dr(405,{method:t.formMethod})};let r=()=>({path:e,error:Dr(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),c=YT(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!dr(o))return r();let v=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((b,[T,x])=>`${b}${T}=${x}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:v}}}else if(t.formEncType==="application/json"){if(!dr(o))return r();try{let v=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:c,formEncType:t.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}nt(typeof FormData=="function","FormData is not available in this environment");let d,h;if(t.formData)d=Mg(t.formData),h=t.formData;else if(t.body instanceof FormData)d=Mg(t.body),h=t.body;else if(t.body instanceof URLSearchParams)d=t.body,h=yw(d);else if(t.body==null)d=new URLSearchParams,h=new FormData;else try{d=new URLSearchParams(t.body),h=yw(d)}catch{return r()}let p={formMethod:o,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(dr(p.formMethod))return{path:e,submission:p};let g=ba(e);return n&&g.search&&Ay(g.search)&&d.append("index",""),g.search=`?${d}`,{path:ha(g),submission:p}}function dw(n,e,t,r,a,o,c,d,h,p,g,v,b,T,x,D,L,O,C){var z;let R=C?cr(C[1])?C[1].error:C[1].data:void 0,B=a.createURL(o.location),q=a.createURL(h),U;if(g&&o.errors){let k=Object.keys(o.errors)[0];U=c.findIndex(_e=>_e.route.id===k)}else if(C&&cr(C[1])){let k=C[0];U=c.findIndex(_e=>_e.route.id===k)-1}let j=C?C[1].statusCode:void 0,I=j&&j>=400,A={currentUrl:B,currentParams:((z=o.matches[0])==null?void 0:z.params)||{},nextUrl:q,nextParams:c[0].params,...d,actionResult:R,actionStatus:j},M=c.map((k,_e)=>{let{route:we}=k,$=null;if(U!=null&&_e>U?$=!1:we.lazy?$=!0:we.loader==null?$=!1:g?$=Dg(we,o.loaderData,o.errors):MC(o.loaderData,o.matches[_e],k)&&($=!0),$!==null)return Og(t,r,n,k,p,e,$);let oe=I?!1:v||B.pathname+B.search===q.pathname+q.search||B.search!==q.search||PC(o.matches[_e],k),le={...A,defaultShouldRevalidate:oe},ye=eh(k,le);return Og(t,r,n,k,p,e,ye,le)}),V=[];return x.forEach((k,_e)=>{if(g||!c.some(se=>se.route.id===k.routeId)||T.has(_e))return;let we=$s(L,k.path,O);if(!we){V.push({key:_e,routeId:k.routeId,path:k.path,matches:null,match:null,request:null,controller:null});return}if(D.has(_e))return;let $=o.fetchers.get(_e),oe=gc(we,k.path),le=new AbortController,ye=gl(a,k.path,le.signal),F=null;if(b.has(_e))b.delete(_e),F=Sl(t,r,ye,we,oe,p,e);else if($&&$.state!=="idle"&&$.data===void 0)v&&(F=Sl(t,r,ye,we,oe,p,e));else{let se={...A,defaultShouldRevalidate:I?!1:v};eh(oe,se)&&(F=Sl(t,r,ye,we,oe,p,e,se))}F&&V.push({key:_e,routeId:k.routeId,path:k.path,matches:F,match:oe,request:ye,controller:le})}),{dsMatches:M,revalidatingFetchers:V}}function Dg(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function MC(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function PC(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function eh(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function fw(n,e,t,r,a){let o;if(n){let h=r[n];nt(h,`No route found to patch children into: routeId = ${n}`),h.children||(h.children=[]),o=h.children}else o=t;let c=e.filter(h=>!o.some(p=>HT(h,p))),d=Wf(c,a,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...d)}function HT(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>HT(t,o))}):!1}var hw=new WeakMap,GT=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let a=t[e.id];if(nt(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[n];if(!o)return;let c=hw.get(a);c||(c={},hw.set(a,c));let d=c[n];if(d)return d;let h=(async()=>{let p=nC(n),v=a[n]!==void 0&&n!=="hasErrorBoundary";if(p)qt(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(v)qt(!1,`Route "${a.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let b=await o();b!=null&&(Object.assign(a,{[n]:b}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[n]=void 0,Object.values(a.lazy).every(b=>b===void 0)&&(a.lazy=void 0))})();return c[n]=h,h},mw=new WeakMap;function LC(n,e,t,r,a){let o=t[n.id];if(nt(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let g=mw.get(o);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let v=(async()=>{nt(typeof n.lazy=="function","No lazy route function found");let b=await n.lazy(),T={};for(let x in b){let D=b[x];if(D===void 0)continue;let L=iC(x),C=o[x]!==void 0&&x!=="hasErrorBoundary";L?qt(!L,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):C?qt(!C,`Route "${o.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):T[x]=D}Object.assign(o,T),Object.assign(o,{...r(o),lazy:void 0})})();return mw.set(o,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let c=Object.keys(n.lazy),d=[],h;for(let g of c){if(a&&a.includes(g))continue;let v=GT({key:g,route:n,manifest:t,mapRouteProperties:r});v&&(d.push(v),g===e&&(h=v))}let p=d.length>0?Promise.all(d).then(()=>{}):void 0;return p==null||p.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:h}}async function pw(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function VC(n){return n.matches.some(e=>e.route.unstable_middleware)?$T(n,!1,()=>pw(n),(e,t)=>({[t]:{type:"error",result:e}})):pw(n)}async function $T(n,e,t,r){let{matches:a,request:o,params:c,context:d}=n,h={handlerResult:void 0};try{let p=a.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(b=>[v.route.id,b]):[]),g=await QT({request:o,params:c,context:d},p,e,h,t);return e?g:h.handlerResult}catch(p){if(!h.middlewareError)throw p;let g=await r(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,g):g}}async function QT(n,e,t,r,a,o=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=e[o];if(!d)return r.handlerResult=await a(),r.handlerResult;let[h,p]=d,g=!1,v,b=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await QT(n,e,t,r,a,o+1)};try{let T=await p({request:n.request,params:n.params,context:n.context},b);return g?T===void 0?v:T:b()}catch(T){throw r.middlewareError?r.middlewareError.error!==T&&(r.middlewareError={routeId:h,error:T}):r.middlewareError={routeId:h,error:T},T}}function KT(n,e,t,r,a){let o=GT({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),c=LC(r.route,dr(t.method)?"action":"loader",e,n,a);return{middleware:o,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function Og(n,e,t,r,a,o,c,d=null){let h=!1,p=KT(n,e,t,r,a);return{...r,_lazyPromises:p,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(g){return h=!0,d?typeof g=="boolean"?eh(r,{...d,defaultShouldRevalidate:g}):eh(r,d):c},resolve(g){return h||c||g&&t.method==="GET"&&(r.route.lazy||r.route.loader)?jC({request:t,match:r,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Sl(n,e,t,r,a,o,c,d=null){return r.map(h=>h.route.id!==a.route.id?{...h,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:KT(n,e,t,h,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Og(n,e,t,h,o,c,!0,d))}async function kC(n,e,t,r,a,o){t.some(p=>{var g;return(g=p._lazyPromises)==null?void 0:g.middleware})&&await Promise.all(t.map(p=>{var g;return(g=p._lazyPromises)==null?void 0:g.middleware}));let c={request:e,params:t[0].params,context:a,matches:t},h=await n({...c,fetcherKey:r,unstable_runClientMiddleware:p=>{let g=c;return $T(g,!1,()=>p({...g,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(v,b)=>({[b]:{type:"error",result:v}}))}});try{await Promise.all(t.flatMap(p=>{var g,v;return[(g=p._lazyPromises)==null?void 0:g.handler,(v=p._lazyPromises)==null?void 0:v.route]}))}catch{}return h}async function jC({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:a,scopedContext:o}){let c,d,h=dr(n.method),p=h?"action":"loader",g=v=>{let b,T=new Promise((L,O)=>b=O);d=()=>b(),n.signal.addEventListener("abort",d);let x=L=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):v({request:n,params:e.params,context:o},...L!==void 0?[L]:[]),D=(async()=>{try{return{type:"data",result:await(a?a(O=>x(O)):x())}}catch(L){return{type:"error",result:L}}})();return Promise.race([D,T])};try{let v=h?e.route.action:e.route.loader;if(t||r)if(v){let b,[T]=await Promise.all([g(v).catch(x=>{b=x}),t,r]);if(b!==void 0)throw b;c=T}else{await t;let b=h?e.route.action:e.route.loader;if(b)[c]=await Promise.all([g(b),r]);else if(p==="action"){let T=new URL(n.url),x=T.pathname+T.search;throw Dr(405,{method:n.method,pathname:x,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(v)c=await g(v);else{let b=new URL(n.url),T=b.pathname+b.search;throw Dr(404,{pathname:T})}}catch(v){return{type:"error",result:v}}finally{d&&n.signal.removeEventListener("abort",d)}return c}async function UC(n){var r,a,o,c,d,h;let{result:e,type:t}=n;if(XT(e)){let p;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new Jf(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?Ew(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Jf(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:Dc(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Dc(e)?e.status:void 0}:Ew(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function zC(n,e,t,r,a){let o=n.headers.get("Location");if(nt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!xy.test(o)){let c=r.slice(0,r.findIndex(d=>d.route.id===t)+1);o=Ng(new URL(e.url),c,a,o),n.headers.set("Location",o)}return n}function gw(n,e,t){if(xy.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Mr(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return n}function gl(n,e,t,r){let a=n.createURL(YT(e)).toString(),o={signal:t};if(r&&dr(r.formMethod)){let{formMethod:c,formEncType:d}=r;o.method=c.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(r.json)):d==="text/plain"?o.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?o.body=Mg(r.formData):o.body=r.formData}return new Request(a,o)}function Mg(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function yw(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function BC(n,e,t,r=!1,a=!1){let o={},c=null,d,h=!1,p={},g=t&&cr(t[1])?t[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in e))return;let b=v.route.id,T=e[b];if(nt(!eo(T),"Cannot handle redirect results in processLoaderData"),cr(T)){let x=T.error;if(g!==void 0&&(x=g,g=void 0),c=c||{},a)c[b]=x;else{let D=Ja(n,b);c[D.route.id]==null&&(c[D.route.id]=x)}r||(o[b]=qT),h||(h=!0,d=Dc(T.error)?T.error.status:500),T.headers&&(p[b]=T.headers)}else o[b]=T.data,T.statusCode&&T.statusCode!==200&&!h&&(d=T.statusCode),T.headers&&(p[b]=T.headers)}),g!==void 0&&t&&(c={[t[0]]:g},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:c,statusCode:d||200,loaderHeaders:p}}function vw(n,e,t,r,a,o){let{loaderData:c,errors:d}=BC(e,t,r);return a.filter(h=>!h.matches||h.matches.some(p=>p.shouldLoad)).forEach(h=>{let{key:p,match:g,controller:v}=h,b=o[p];if(nt(b,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(cr(b)){let T=Ja(n.matches,g==null?void 0:g.route.id);d&&d[T.route.id]||(d={...d,[T.route.id]:b.error}),n.fetchers.delete(p)}else if(eo(b))nt(!1,"Unhandled fetcher revalidation redirect");else{let T=Hs(b.data);n.fetchers.set(p,T)}}),{loaderData:c,errors:d}}function _w(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==qT).reduce((o,[c,d])=>(o[c]=d,o),{});for(let o of t){let c=o.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&o.route.loader&&(a[c]=n[c]),r&&r.hasOwnProperty(c))break}return a}function bw(n){return n?cr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ja(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function ww(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Dr(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",r&&e&&t?d=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",d=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",r&&e&&t?d=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(d=`Invalid request method "${r.toUpperCase()}"`)),new Jf(n||500,c,new Error(d),!0)}function xf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(eo(a))return{key:r,result:a}}}function YT(n){let e=typeof n=="string"?ba(n):n;return ha({...e,hash:""})}function FC(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function qC(n){return XT(n.result)&&RC.has(n.result.status)}function cr(n){return n.type==="error"}function eo(n){return(n&&n.type)==="redirect"}function Ew(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function XT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function HC(n){return AC.has(n.toUpperCase())}function dr(n){return SC.has(n.toUpperCase())}function Ay(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function gc(n,e){let t=typeof e=="string"?ba(e).search:e.search;if(n[n.length-1].route.index&&Ay(t||""))return n[n.length-1];let r=zT(n);return r[r.length-1]}function Tw(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:c}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:c,text:void 0}}}function og(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function GC(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function fc(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function $C(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Hs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function QC(n,e){try{let t=n.sessionStorage.getItem(FT);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function KC(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(FT,JSON.stringify(t))}catch(r){qt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function YC(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var wo=Q.createContext(null);wo.displayName="DataRouter";var Yc=Q.createContext(null);Yc.displayName="DataRouterState";var Ry=Q.createContext({isTransitioning:!1});Ry.displayName="ViewTransition";var WT=Q.createContext(new Map);WT.displayName="Fetchers";var XC=Q.createContext(null);XC.displayName="Await";var Ci=Q.createContext(null);Ci.displayName="Navigation";var Nh=Q.createContext(null);Nh.displayName="Location";var Wr=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Wr.displayName="Route";var Cy=Q.createContext(null);Cy.displayName="RouteError";function WC(n,{relative:e}={}){nt(Xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Q.useContext(Ci),{hash:a,pathname:o,search:c}=Wc(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:Ei([t,o])),r.createHref({pathname:d,search:c,hash:a})}function Xc(){return Q.useContext(Nh)!=null}function wa(){return nt(Xc(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Nh).location}var ZT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JT(n){Q.useContext(Ci).static||Q.useLayoutEffect(n)}function eS(){let{isDataRoute:n}=Q.useContext(Wr);return n?fI():ZC()}function ZC(){nt(Xc(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(wo),{basename:e,navigator:t}=Q.useContext(Ci),{matches:r}=Q.useContext(Wr),{pathname:a}=wa(),o=JSON.stringify(Ty(r)),c=Q.useRef(!1);return JT(()=>{c.current=!0}),Q.useCallback((h,p={})=>{if(qt(c.current,ZT),!c.current)return;if(typeof h=="number"){t.go(h);return}let g=Sy(h,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ei([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,o,a,n])}var JC=Q.createContext(null);function eI(n){let e=Q.useContext(Wr).outlet;return e&&Q.createElement(JC.Provider,{value:n},e)}function Iy(){let{matches:n}=Q.useContext(Wr),e=n[n.length-1];return e?e.params:{}}function Wc(n,{relative:e}={}){let{matches:t}=Q.useContext(Wr),{pathname:r}=wa(),a=JSON.stringify(Ty(t));return Q.useMemo(()=>Sy(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function tI(n,e,t,r){nt(Xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=Q.useContext(Ci),{matches:c}=Q.useContext(Wr),d=c[c.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let C=v&&v.path||"";tS(p,!v||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=wa(),T;T=b;let x=T.pathname||"/",D=x;if(g!=="/"){let C=g.replace(/^\//,"").split("/");D="/"+x.replace(/^\//,"").split("/").slice(C.length).join("/")}let L=!o&&t&&t.matches&&t.matches.length>0?t.matches:$s(n,{pathname:D});return qt(v||L!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),qt(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),aI(L&&L.map(C=>Object.assign({},C,{params:Object.assign({},h,C.params),pathname:Ei([g,a.encodeLocation?a.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?g:Ei([g,a.encodeLocation?a.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),c,t,r)}function nI(){let n=dI(),e=Dc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:o},"ErrorBoundary")," or"," ",Q.createElement("code",{style:o},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:a},t):null,c)}var rI=Q.createElement(nI,null),iI=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Q.createElement(Wr.Provider,{value:this.props.routeContext},Q.createElement(Cy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sI({routeContext:n,match:e,children:t}){let r=Q.useContext(wo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Wr.Provider,{value:n},t)}function aI(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);nt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(t)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:v}=t,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,p,g)=>{let v,b=!1,T=null,x=null;t&&(v=o&&p.route.id?o[p.route.id]:void 0,T=p.route.errorElement||rI,c&&(d<0&&g===0?(tS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):d===g&&(b=!0,x=p.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,g+1)),L=()=>{let O;return v?O=T:b?O=x:p.route.Component?O=Q.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=h,Q.createElement(sI,{match:p,routeContext:{outlet:h,matches:D,isDataRoute:t!=null},children:O})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?Q.createElement(iI,{location:t.location,revalidation:t.revalidation,component:T,error:v,children:L(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):L()},null)}function Ny(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oI(n){let e=Q.useContext(wo);return nt(e,Ny(n)),e}function lI(n){let e=Q.useContext(Yc);return nt(e,Ny(n)),e}function uI(n){let e=Q.useContext(Wr);return nt(e,Ny(n)),e}function Dy(n){let e=uI(n),t=e.matches[e.matches.length-1];return nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function cI(){return Dy("useRouteId")}function dI(){var r;let n=Q.useContext(Cy),e=lI("useRouteError"),t=Dy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function fI(){let{router:n}=oI("useNavigate"),e=Dy("useNavigate"),t=Q.useRef(!1);return JT(()=>{t.current=!0}),Q.useCallback(async(a,o={})=>{qt(t.current,ZT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var Sw={};function tS(n,e,t){!e&&!Sw[n]&&(Sw[n]=!0,qt(!1,t))}var xw={};function Aw(n,e){!n&&!xw[e]&&(xw[e]=!0,console.warn(e))}function hI(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&qt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:Q.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&qt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:Q.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&qt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:Q.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var mI=["HydrateFallback","hydrateFallbackElement"],pI=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function gI({router:n,flushSync:e}){let[t,r]=Q.useState(n.state),[a,o]=Q.useState(),[c,d]=Q.useState({isTransitioning:!1}),[h,p]=Q.useState(),[g,v]=Q.useState(),[b,T]=Q.useState(),x=Q.useRef(new Map),D=Q.useCallback((R,{deletedFetchers:B,flushSync:q,viewTransitionOpts:U})=>{R.fetchers.forEach((I,A)=>{I.data!==void 0&&x.current.set(A,I.data)}),B.forEach(I=>x.current.delete(I)),Aw(q===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let j=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Aw(U==null||j,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!j){e&&q?e(()=>r(R)):Q.startTransition(()=>r(R));return}if(e&&q){e(()=>{g&&(h&&h.resolve(),g.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let I=n.window.document.startViewTransition(()=>{e(()=>r(R))});I.finished.finally(()=>{e(()=>{p(void 0),v(void 0),o(void 0),d({isTransitioning:!1})})}),e(()=>v(I));return}g?(h&&h.resolve(),g.skipTransition(),T({state:R,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(o(R),d({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[n.window,e,g,h]);Q.useLayoutEffect(()=>n.subscribe(D),[n,D]),Q.useEffect(()=>{c.isTransitioning&&!c.flushSync&&p(new pI)},[c]),Q.useEffect(()=>{if(h&&a&&n.window){let R=a,B=h.promise,q=n.window.document.startViewTransition(async()=>{Q.startTransition(()=>r(R)),await B});q.finished.finally(()=>{p(void 0),v(void 0),o(void 0),d({isTransitioning:!1})}),v(q)}},[a,h,n.window]),Q.useEffect(()=>{h&&a&&t.location.key===a.location.key&&h.resolve()},[h,g,t.location,a]),Q.useEffect(()=>{!c.isTransitioning&&b&&(o(b.state),d({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),T(void 0))},[c.isTransitioning,b]);let L=Q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:R=>n.navigate(R),push:(R,B,q)=>n.navigate(R,{state:B,preventScrollReset:q==null?void 0:q.preventScrollReset}),replace:(R,B,q)=>n.navigate(R,{replace:!0,state:B,preventScrollReset:q==null?void 0:q.preventScrollReset})}),[n]),O=n.basename||"/",C=Q.useMemo(()=>({router:n,navigator:L,static:!1,basename:O}),[n,L,O]);return Q.createElement(Q.Fragment,null,Q.createElement(wo.Provider,{value:C},Q.createElement(Yc.Provider,{value:t},Q.createElement(WT.Provider,{value:x.current},Q.createElement(Ry.Provider,{value:c},Q.createElement(bI,{basename:O,location:t.location,navigationType:t.historyAction,navigator:L},Q.createElement(yI,{routes:n.routes,future:n.future,state:t})))))),null)}var yI=Q.memo(vI);function vI({routes:n,future:e,state:t}){return tI(n,void 0,t,e)}function _I(n){return eI(n.context)}function bI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){nt(!Xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=Q.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof t=="string"&&(t=ba(t));let{pathname:h="/",search:p="",hash:g="",state:v=null,key:b="default"}=t,T=Q.useMemo(()=>{let x=Mr(h,c);return x==null?null:{location:{pathname:x,search:p,hash:g,state:v,key:b},navigationType:r}},[c,h,p,g,v,b,r]);return qt(T!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:Q.createElement(Ci.Provider,{value:d},Q.createElement(Nh.Provider,{children:e,value:T}))}var kf="get",jf="application/x-www-form-urlencoded";function Dh(n){return n!=null&&typeof n.tagName=="string"}function wI(n){return Dh(n)&&n.tagName.toLowerCase()==="button"}function EI(n){return Dh(n)&&n.tagName.toLowerCase()==="form"}function TI(n){return Dh(n)&&n.tagName.toLowerCase()==="input"}function SI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function xI(n,e){return n.button===0&&(!e||e==="_self")&&!SI(n)}function Pg(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function AI(n,e){let t=Pg(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var Af=null;function RI(){if(Af===null)try{new FormData(document.createElement("form"),0),Af=!1}catch{Af=!0}return Af}var CI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lg(n){return n!=null&&!CI.has(n)?(qt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jf}"`),null):n}function II(n,e){let t,r,a,o,c;if(EI(n)){let d=n.getAttribute("action");r=d?Mr(d,e):null,t=n.getAttribute("method")||kf,a=lg(n.getAttribute("enctype"))||jf,o=new FormData(n)}else if(wI(n)||TI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||d.getAttribute("action");if(r=h?Mr(h,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||kf,a=lg(n.getAttribute("formenctype"))||lg(d.getAttribute("enctype"))||jf,o=new FormData(d,n),!RI()){let{name:p,type:g,value:v}=n;if(g==="image"){let b=p?`${p}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else p&&o.append(p,v)}}else{if(Dh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=kf,r=null,a=jf,c=n}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:c}}function Oy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function NI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function OI(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await NI(o,t);return c.links?c.links():[]}return[]}));return VI(r.flat(1).filter(DI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Rw(n,e,t,r,a,o){let c=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,d=(h,p)=>{var g;return t[p].pathname!==h.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>c(h,p)||d(h,p)):o==="data"?e.filter((h,p)=>{var v;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function MI(n,e,{includeHydrateFallback:t}={}){return PI(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function PI(n){return[...new Set(n)]}function LI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function VI(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(LI(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}var kI=new Set([100,101,204,205]);function jI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Mr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function nS(){let n=Q.useContext(wo);return Oy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function UI(){let n=Q.useContext(Yc);return Oy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var My=Q.createContext(void 0);My.displayName="FrameworkContext";function rS(){let n=Q.useContext(My);return Oy(n,"You must render this element inside a <HydratedRouter> element"),n}function zI(n,e){let t=Q.useContext(My),[r,a]=Q.useState(!1),[o,c]=Q.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,b=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let D=O=>{O.forEach(C=>{c(C.isIntersecting)})},L=new IntersectionObserver(D,{threshold:.5});return b.current&&L.observe(b.current),()=>{L.disconnect()}}},[n]),Q.useEffect(()=>{if(r){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[r]);let T=()=>{a(!0)},x=()=>{a(!1),c(!1)};return t?n!=="intent"?[o,b,{}]:[o,b,{onFocus:hc(d,T),onBlur:hc(h,x),onMouseEnter:hc(p,T),onMouseLeave:hc(g,x),onTouchStart:hc(v,T)}]:[!1,b,{}]}function hc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function BI({page:n,...e}){let{router:t}=nS(),r=Q.useMemo(()=>$s(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Q.createElement(qI,{page:n,matches:r,...e}):null}function FI(n){let{manifest:e,routeModules:t}=rS(),[r,a]=Q.useState([]);return Q.useEffect(()=>{let o=!1;return OI(n,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[n,e,t]),r}function qI({page:n,matches:e,...t}){let r=wa(),{manifest:a,routeModules:o}=rS(),{basename:c}=nS(),{loaderData:d,matches:h}=UI(),p=Q.useMemo(()=>Rw(n,e,h,a,r,"data"),[n,e,h,a,r]),g=Q.useMemo(()=>Rw(n,e,h,a,r,"assets"),[n,e,h,a,r]),v=Q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let x=new Set,D=!1;if(e.forEach(O=>{var R;let C=a.routes[O.route.id];!C||!C.hasLoader||(!p.some(B=>B.route.id===O.route.id)&&O.route.id in d&&((R=o[O.route.id])!=null&&R.shouldRevalidate)||C.hasClientLoader?D=!0:x.add(O.route.id))}),x.size===0)return[];let L=jI(n,c);return D&&x.size>0&&L.searchParams.set("_routes",e.filter(O=>x.has(O.route.id)).map(O=>O.route.id).join(",")),[L.pathname+L.search]},[c,d,r,a,p,e,n,o]),b=Q.useMemo(()=>MI(g,a),[g,a]),T=FI(g);return Q.createElement(Q.Fragment,null,v.map(x=>Q.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),b.map(x=>Q.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),T.map(({key:x,link:D})=>Q.createElement("link",{key:x,...D})))}function HI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var iS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iS&&(window.__reactRouterVersion="7.5.3")}catch{}function GI(n,e){return DC({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:ZR({window:e==null?void 0:e.window}),hydrationData:$I(),routes:n,mapRouteProperties:hI,hydrationRouteProperties:mI,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function $I(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:QI(n.errors)}),n}function QI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new Jf(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let c=new o(a.message);c.stack="",t[r]=c}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var sS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rn=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:d,target:h,to:p,preventScrollReset:g,viewTransition:v,...b},T){let{basename:x}=Q.useContext(Ci),D=typeof p=="string"&&sS.test(p),L,O=!1;if(typeof p=="string"&&D&&(L=p,iS))try{let A=new URL(window.location.href),M=p.startsWith("//")?new URL(A.protocol+p):new URL(p),V=Mr(M.pathname,x);M.origin===A.origin&&V!=null?p=V+M.search+M.hash:O=!0}catch{qt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=WC(p,{relative:a}),[R,B,q]=zI(r,b),U=WI(p,{replace:c,state:d,target:h,preventScrollReset:g,relative:a,viewTransition:v});function j(A){e&&e(A),A.defaultPrevented||U(A)}let I=Q.createElement("a",{...b,...q,href:L||C,onClick:O||o?e:j,ref:HI(T,B),target:h,"data-discover":!D&&t==="render"?"true":void 0});return R&&!D?Q.createElement(Q.Fragment,null,I,Q.createElement(BI,{page:C})):I});rn.displayName="Link";var KI=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:d,children:h,...p},g){let v=Wc(c,{relative:p.relative}),b=wa(),T=Q.useContext(Yc),{navigator:x,basename:D}=Q.useContext(Ci),L=T!=null&&r2(v)&&d===!0,O=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,C=b.pathname,R=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(C=C.toLowerCase(),R=R?R.toLowerCase():null,O=O.toLowerCase()),R&&D&&(R=Mr(R,D)||R);const B=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let q=C===O||!a&&C.startsWith(O)&&C.charAt(B)==="/",U=R!=null&&(R===O||!a&&R.startsWith(O)&&R.charAt(O.length)==="/"),j={isActive:q,isPending:U,isTransitioning:L},I=q?e:void 0,A;typeof r=="function"?A=r(j):A=[r,q?"active":null,U?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(j):o;return Q.createElement(rn,{...p,"aria-current":I,className:A,ref:g,style:M,to:c,viewTransition:d},typeof h=="function"?h(j):h)});KI.displayName="NavLink";var YI=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:c=kf,action:d,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:v,...b},T)=>{let x=t2(),D=n2(d,{relative:p}),L=c.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&sS.test(d),C=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let B=R.nativeEvent.submitter,q=(B==null?void 0:B.getAttribute("formmethod"))||c;x(B||R.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:a,state:o,relative:p,preventScrollReset:g,viewTransition:v})};return Q.createElement("form",{ref:T,method:L,action:D,onSubmit:r?h:C,...b,"data-discover":!O&&n==="render"?"true":void 0})});YI.displayName="Form";function XI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aS(n){let e=Q.useContext(wo);return nt(e,XI(n)),e}function WI(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:c}={}){let d=eS(),h=wa(),p=Wc(n,{relative:o});return Q.useCallback(g=>{if(xI(g,e)){g.preventDefault();let v=t!==void 0?t:ha(h)===ha(p);d(n,{replace:v,state:r,preventScrollReset:a,relative:o,viewTransition:c})}},[h,d,p,t,r,e,n,a,o,c])}function ZI(n){qt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=Q.useRef(Pg(n)),t=Q.useRef(!1),r=wa(),a=Q.useMemo(()=>AI(r.search,t.current?null:e.current),[r.search]),o=eS(),c=Q.useCallback((d,h)=>{const p=Pg(typeof d=="function"?d(a):d);t.current=!0,o("?"+p,h)},[o,a]);return[a,c]}var JI=0,e2=()=>`__${String(++JI)}__`;function t2(){let{router:n}=aS("useSubmit"),{basename:e}=Q.useContext(Ci),t=cI();return Q.useCallback(async(r,a={})=>{let{action:o,method:c,encType:d,formData:h,body:p}=II(r,e);if(a.navigate===!1){let g=a.fetcherKey||e2();await n.fetch(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function n2(n,{relative:e}={}){let{basename:t}=Q.useContext(Ci),r=Q.useContext(Wr);nt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Wc(n||".",{relative:e})},c=wa();if(n==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ei([t,o.pathname])),ha(o)}function r2(n,e={}){let t=Q.useContext(Ry);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=aS("useViewTransitionState"),a=Wc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Mr(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Mr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Zf(a.pathname,c)!=null||Zf(a.pathname,o)!=null}new TextEncoder;[...kI];var i2=VT();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function s2(n){return Q.createElement(gI,{flushSync:i2.flushSync,...n})}var Rf={},Cw;function a2(){if(Cw)return Rf;Cw=1;function n(o){if(typeof window>"u")return;const c=document.createElement("style");return c.setAttribute("type","text/css"),c.innerHTML=o,document.head.appendChild(c),o}Object.defineProperty(Rf,"__esModule",{value:!0});var e=Ih();function t(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=t(e);n(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const a=e.forwardRef(function({style:c={},className:d="",autoFill:h=!1,play:p=!0,pauseOnHover:g=!1,pauseOnClick:v=!1,direction:b="left",speed:T=50,delay:x=0,loop:D=0,gradient:L=!1,gradientColor:O="white",gradientWidth:C=200,onFinish:R,onCycleComplete:B,onMount:q,children:U},j){const[I,A]=e.useState(0),[M,V]=e.useState(0),[z,k]=e.useState(1),[_e,we]=e.useState(!1),$=e.useRef(null),oe=j||$,le=e.useRef(null),ye=e.useCallback(()=>{if(le.current&&oe.current){const Ee=oe.current.getBoundingClientRect(),Ot=le.current.getBoundingClientRect();let rt=Ee.width,Ht=Ot.width;(b==="up"||b==="down")&&(rt=Ee.height,Ht=Ot.height),k(h&&rt&&Ht&&Ht<rt?Math.ceil(rt/Ht):1),A(rt),V(Ht)}},[h,oe,b]);e.useEffect(()=>{if(_e&&(ye(),le.current&&oe.current)){const Ee=new ResizeObserver(()=>ye());return Ee.observe(oe.current),Ee.observe(le.current),()=>{Ee&&Ee.disconnect()}}},[ye,oe,_e]),e.useEffect(()=>{ye()},[ye,U]),e.useEffect(()=>{we(!0)},[]),e.useEffect(()=>{typeof q=="function"&&q()},[]);const F=e.useMemo(()=>h?M*z/T:M<I?I/T:M/T,[h,I,M,z,T]),se=e.useMemo(()=>Object.assign(Object.assign({},c),{"--pause-on-hover":!p||g?"paused":"running","--pause-on-click":!p||g&&!v||v?"paused":"running","--width":b==="up"||b==="down"?"100vh":"100%","--transform":b==="up"?"rotate(-90deg)":b==="down"?"rotate(90deg)":"none"}),[c,p,g,v,b]),ge=e.useMemo(()=>({"--gradient-color":O,"--gradient-width":typeof C=="number"?`${C}px`:C}),[O,C]),me=e.useMemo(()=>({"--play":p?"running":"paused","--direction":b==="left"?"normal":"reverse","--duration":`${F}s`,"--delay":`${x}s`,"--iteration-count":D?`${D}`:"infinite","--min-width":h?"auto":"100%"}),[p,b,F,x,D,h]),Ae=e.useMemo(()=>({"--transform":b==="up"?"rotate(90deg)":b==="down"?"rotate(-90deg)":"none"}),[b]),qe=e.useCallback(Ee=>[...Array(Number.isFinite(Ee)&&Ee>=0?Ee:0)].map((Ot,rt)=>r.default.createElement(e.Fragment,{key:rt},e.Children.map(U,Ht=>r.default.createElement("div",{style:Ae,className:"rfm-child"},Ht)))),[Ae,U]);return _e?r.default.createElement("div",{ref:oe,style:se,className:"rfm-marquee-container "+d},L&&r.default.createElement("div",{style:ge,className:"rfm-overlay"}),r.default.createElement("div",{className:"rfm-marquee",style:me,onAnimationIteration:B,onAnimationEnd:R},r.default.createElement("div",{className:"rfm-initial-child-container",ref:le},e.Children.map(U,Ee=>r.default.createElement("div",{style:Ae,className:"rfm-child"},Ee))),qe(z-1)),r.default.createElement("div",{className:"rfm-marquee",style:me},qe(z))):null});return Rf.default=a,Rf}var o2=a2();const oS=LT(o2);var lS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Iw=Nt.createContext&&Nt.createContext(lS),l2=["attr","size","title"];function u2(n,e){if(n==null)return{};var t=c2(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function c2(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function th(){return th=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},th.apply(this,arguments)}function Nw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function nh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Nw(Object(t),!0).forEach(function(r){d2(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Nw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function d2(n,e,t){return e=f2(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function f2(n){var e=h2(n,"string");return typeof e=="symbol"?e:e+""}function h2(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function uS(n){return n&&n.map((e,t)=>Nt.createElement(e.tag,nh({key:t},e.attr),uS(e.child)))}function Py(n){return e=>Nt.createElement(m2,th({attr:nh({},n.attr)},e),uS(n.child))}function m2(n){var e=t=>{var{attr:r,size:a,title:o}=n,c=u2(n,l2),d=a||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Nt.createElement("svg",th({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:h,style:nh(nh({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&Nt.createElement("title",null,o),n.children)};return Iw!==void 0?Nt.createElement(Iw.Consumer,null,t=>e(t)):e(lS)}function p2(n){return Py({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"},child:[]}]})(n)}function g2(n){return Py({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function y2(n){return Py({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M508.6 148.8c0-45-33.1-81.2-74-81.2C379.2 65 322.7 64 265 64h-18c-57.6 0-114.2 1-169.6 3.6C36.6 67.6 3.5 104 3.5 149 1 184.6-.1 220.2 0 255.8c-.1 35.6 1 71.2 3.4 106.9 0 45 33.1 81.5 73.9 81.5 58.2 2.7 117.9 3.9 178.6 3.8 60.8.2 120.3-1 178.6-3.8 40.9 0 74-36.5 74-81.5 2.4-35.7 3.5-71.3 3.4-107 .2-35.6-.9-71.2-3.3-106.9zM207 353.9V157.4l145 98.2-145 98.3z"},child:[]}]})(n)}const v2=()=>{};var Dw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},_2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],d=n[t++],h=((a&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},dS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,d=c?n[a+1]:0,h=a+2<n.length,p=h?n[a+2]:0,g=o>>2,v=(o&3)<<4|d>>4;let b=(d&15)<<2|p>>6,T=p&63;h||(T=64,c||(b=64)),r.push(t[g],t[v],t[b],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(cS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||d==null||p==null||v==null)throw new b2;const b=o<<2|d>>4;if(r.push(b),p!==64){const T=d<<4&240|p>>2;if(r.push(T),v!==64){const x=p<<6&192|v;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class b2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w2=function(n){const e=cS(n);return dS.encodeByteArray(e,!0)},rh=function(n){return w2(n).replace(/\./g,"")},fS=function(n){try{return dS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=()=>E2().__FIREBASE_DEFAULTS__,S2=()=>{if(typeof process>"u"||typeof Dw>"u")return;const n=Dw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},x2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&fS(n[1]);return e&&JSON.parse(e)},Oh=()=>{try{return v2()||T2()||S2()||x2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hS=n=>{var e,t;return(t=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},A2=n=>{const e=hS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},mS=()=>{var n;return(n=Oh())===null||n===void 0?void 0:n.config},pS=n=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rh(JSON.stringify(t)),rh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function N2(){var n;const e=(n=Oh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function O2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function M2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function P2(){const n=Mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function L2(){return!N2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V2(){try{return typeof indexedDB=="object"}catch{return!1}}function k2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="FirebaseError";class fs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=j2,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zc.prototype.create)}}class Zc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?U2(o,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new fs(a,d,r)}}function U2(n,e){return n.replace(z2,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const z2=/\{\$([^}]+)}/g;function B2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ho(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],c=e[a];if(Ow(o)&&Ow(c)){if(!ho(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Ow(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function vc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function F2(n,e){const t=new q2(n,e);return t.subscribe.bind(t)}class q2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");H2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=ug),a.error===void 0&&(a.error=ug),a.complete===void 0&&(a.complete=ug);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ug(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(n){return n&&n._delegate?n._delegate:n}class mo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new R2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q2(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Za){return this.instances.has(e)}getOptions(e=Za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Za){return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $2(n){return n===Za?void 0:n}function Q2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new G2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(it||(it={}));const Y2={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},X2=it.INFO,W2={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},Z2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=W2[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ly{constructor(e){this.name=e,this._logLevel=X2,this._logHandler=Z2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const J2=(n,e)=>e.some(t=>n instanceof t);let Mw,Pw;function eN(){return Mw||(Mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tN(){return Pw||(Pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gS=new WeakMap,Lg=new WeakMap,yS=new WeakMap,cg=new WeakMap,Vy=new WeakMap;function nN(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(oa(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&gS.set(t,n)}).catch(()=>{}),Vy.set(e,n),e}function rN(n){if(Lg.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Lg.set(n,e)}let Vg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Lg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return oa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function iN(n){Vg=n(Vg)}function sN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(dg(this),e,...t);return yS.set(r,e.sort?e.sort():[e]),oa(r)}:tN().includes(n)?function(...e){return n.apply(dg(this),e),oa(gS.get(this))}:function(...e){return oa(n.apply(dg(this),e))}}function aN(n){return typeof n=="function"?sN(n):(n instanceof IDBTransaction&&rN(n),J2(n,eN())?new Proxy(n,Vg):n)}function oa(n){if(n instanceof IDBRequest)return nN(n);if(cg.has(n))return cg.get(n);const e=aN(n);return e!==n&&(cg.set(n,e),Vy.set(e,n)),e}const dg=n=>Vy.get(n);function oN(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),d=oa(c);return r&&c.addEventListener("upgradeneeded",h=>{r(oa(c.result),h.oldVersion,h.newVersion,oa(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const lN=["get","getKey","getAll","getAllKeys","count"],uN=["put","add","delete","clear"],fg=new Map;function Lw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fg.get(e))return fg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=uN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||lN.includes(t)))return;const o=async function(c,...d){const h=this.transaction(c,a?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&h.done]))[0]};return fg.set(e,o),o}iN(n=>({...n,get:(e,t,r)=>Lw(e,t)||n.get(e,t,r),has:(e,t)=>!!Lw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dN(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function dN(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kg="@firebase/app",Vw="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new Ly("@firebase/app"),fN="@firebase/app-compat",hN="@firebase/analytics-compat",mN="@firebase/analytics",pN="@firebase/app-check-compat",gN="@firebase/app-check",yN="@firebase/auth",vN="@firebase/auth-compat",_N="@firebase/database",bN="@firebase/data-connect",wN="@firebase/database-compat",EN="@firebase/functions",TN="@firebase/functions-compat",SN="@firebase/installations",xN="@firebase/installations-compat",AN="@firebase/messaging",RN="@firebase/messaging-compat",CN="@firebase/performance",IN="@firebase/performance-compat",NN="@firebase/remote-config",DN="@firebase/remote-config-compat",ON="@firebase/storage",MN="@firebase/storage-compat",PN="@firebase/firestore",LN="@firebase/vertexai",VN="@firebase/firestore-compat",kN="firebase",jN="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="[DEFAULT]",UN={[kg]:"fire-core",[fN]:"fire-core-compat",[mN]:"fire-analytics",[hN]:"fire-analytics-compat",[gN]:"fire-app-check",[pN]:"fire-app-check-compat",[yN]:"fire-auth",[vN]:"fire-auth-compat",[_N]:"fire-rtdb",[bN]:"fire-data-connect",[wN]:"fire-rtdb-compat",[EN]:"fire-fn",[TN]:"fire-fn-compat",[SN]:"fire-iid",[xN]:"fire-iid-compat",[AN]:"fire-fcm",[RN]:"fire-fcm-compat",[CN]:"fire-perf",[IN]:"fire-perf-compat",[NN]:"fire-rc",[DN]:"fire-rc-compat",[ON]:"fire-gcs",[MN]:"fire-gcs-compat",[PN]:"fire-fst",[VN]:"fire-fst-compat",[LN]:"fire-vertex","fire-js":"fire-js",[kN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,zN=new Map,Ug=new Map;function kw(n,e){try{n.container.addComponent(e)}catch(t){os.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Gl(n){const e=n.name;if(Ug.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;Ug.set(e,n);for(const t of ih.values())kw(t,n);for(const t of zN.values())kw(t,n);return!0}function ky(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function qr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},la=new Zc("app","Firebase",BN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=jN;function vS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jg,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw la.create("bad-app-name",{appName:String(a)});if(t||(t=mS()),!t)throw la.create("no-options");const o=ih.get(a);if(o){if(ho(t,o.options)&&ho(r,o.config))return o;throw la.create("duplicate-app",{appName:a})}const c=new K2(a);for(const h of Ug.values())c.addComponent(h);const d=new FN(t,r,c);return ih.set(a,d),d}function _S(n=jg){const e=ih.get(n);if(!e&&n===jg&&mS())return vS();if(!e)throw la.create("no-app",{appName:n});return e}function ua(n,e,t){var r;let a=(r=UN[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}Gl(new mo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="firebase-heartbeat-database",HN=1,Oc="firebase-heartbeat-store";let hg=null;function bS(){return hg||(hg=oN(qN,HN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Oc)}catch(t){console.warn(t)}}}}).catch(n=>{throw la.create("idb-open",{originalErrorMessage:n.message})})),hg}async function GN(n){try{const t=(await bS()).transaction(Oc),r=await t.objectStore(Oc).get(wS(n));return await t.done,r}catch(e){if(e instanceof fs)os.warn(e.message);else{const t=la.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});os.warn(t.message)}}}async function jw(n,e){try{const r=(await bS()).transaction(Oc,"readwrite");await r.objectStore(Oc).put(e,wS(n)),await r.done}catch(t){if(t instanceof fs)os.warn(t.message);else{const r=la.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});os.warn(r.message)}}}function wS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=1024,QN=30;class KN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new XN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Uw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>QN){const c=WN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Uw(),{heartbeatsToSend:r,unsentEntries:a}=YN(this._heartbeatsCache.heartbeats),o=rh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return os.warn(t),""}}}function Uw(){return new Date().toISOString().substring(0,10)}function YN(n,e=$N){const t=[];let r=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),zw(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),zw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class XN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V2()?k2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await GN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return jw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return jw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function zw(n){return rh(JSON.stringify({version:2,heartbeats:n})).length}function WN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(n){Gl(new mo("platform-logger",e=>new cN(e),"PRIVATE")),Gl(new mo("heartbeat",e=>new KN(e),"PRIVATE")),ua(kg,Vw,n),ua(kg,Vw,"esm2017"),ua("fire-js","")}ZN("");var Bw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ca,ES;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,I){function A(){}A.prototype=I.prototype,j.D=I.prototype,j.prototype=new A,j.prototype.constructor=j,j.C=function(M,V,z){for(var k=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)k[_e-2]=arguments[_e];return I.prototype[V].apply(M,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,I,A){A||(A=0);var M=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)M[V]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(V=0;16>V;++V)M[V]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=j.g[0],A=j.g[1],V=j.g[2];var z=j.g[3],k=I+(z^A&(V^z))+M[0]+3614090360&4294967295;I=A+(k<<7&4294967295|k>>>25),k=z+(V^I&(A^V))+M[1]+3905402710&4294967295,z=I+(k<<12&4294967295|k>>>20),k=V+(A^z&(I^A))+M[2]+606105819&4294967295,V=z+(k<<17&4294967295|k>>>15),k=A+(I^V&(z^I))+M[3]+3250441966&4294967295,A=V+(k<<22&4294967295|k>>>10),k=I+(z^A&(V^z))+M[4]+4118548399&4294967295,I=A+(k<<7&4294967295|k>>>25),k=z+(V^I&(A^V))+M[5]+1200080426&4294967295,z=I+(k<<12&4294967295|k>>>20),k=V+(A^z&(I^A))+M[6]+2821735955&4294967295,V=z+(k<<17&4294967295|k>>>15),k=A+(I^V&(z^I))+M[7]+4249261313&4294967295,A=V+(k<<22&4294967295|k>>>10),k=I+(z^A&(V^z))+M[8]+1770035416&4294967295,I=A+(k<<7&4294967295|k>>>25),k=z+(V^I&(A^V))+M[9]+2336552879&4294967295,z=I+(k<<12&4294967295|k>>>20),k=V+(A^z&(I^A))+M[10]+4294925233&4294967295,V=z+(k<<17&4294967295|k>>>15),k=A+(I^V&(z^I))+M[11]+2304563134&4294967295,A=V+(k<<22&4294967295|k>>>10),k=I+(z^A&(V^z))+M[12]+1804603682&4294967295,I=A+(k<<7&4294967295|k>>>25),k=z+(V^I&(A^V))+M[13]+4254626195&4294967295,z=I+(k<<12&4294967295|k>>>20),k=V+(A^z&(I^A))+M[14]+2792965006&4294967295,V=z+(k<<17&4294967295|k>>>15),k=A+(I^V&(z^I))+M[15]+1236535329&4294967295,A=V+(k<<22&4294967295|k>>>10),k=I+(V^z&(A^V))+M[1]+4129170786&4294967295,I=A+(k<<5&4294967295|k>>>27),k=z+(A^V&(I^A))+M[6]+3225465664&4294967295,z=I+(k<<9&4294967295|k>>>23),k=V+(I^A&(z^I))+M[11]+643717713&4294967295,V=z+(k<<14&4294967295|k>>>18),k=A+(z^I&(V^z))+M[0]+3921069994&4294967295,A=V+(k<<20&4294967295|k>>>12),k=I+(V^z&(A^V))+M[5]+3593408605&4294967295,I=A+(k<<5&4294967295|k>>>27),k=z+(A^V&(I^A))+M[10]+38016083&4294967295,z=I+(k<<9&4294967295|k>>>23),k=V+(I^A&(z^I))+M[15]+3634488961&4294967295,V=z+(k<<14&4294967295|k>>>18),k=A+(z^I&(V^z))+M[4]+3889429448&4294967295,A=V+(k<<20&4294967295|k>>>12),k=I+(V^z&(A^V))+M[9]+568446438&4294967295,I=A+(k<<5&4294967295|k>>>27),k=z+(A^V&(I^A))+M[14]+3275163606&4294967295,z=I+(k<<9&4294967295|k>>>23),k=V+(I^A&(z^I))+M[3]+4107603335&4294967295,V=z+(k<<14&4294967295|k>>>18),k=A+(z^I&(V^z))+M[8]+1163531501&4294967295,A=V+(k<<20&4294967295|k>>>12),k=I+(V^z&(A^V))+M[13]+2850285829&4294967295,I=A+(k<<5&4294967295|k>>>27),k=z+(A^V&(I^A))+M[2]+4243563512&4294967295,z=I+(k<<9&4294967295|k>>>23),k=V+(I^A&(z^I))+M[7]+1735328473&4294967295,V=z+(k<<14&4294967295|k>>>18),k=A+(z^I&(V^z))+M[12]+2368359562&4294967295,A=V+(k<<20&4294967295|k>>>12),k=I+(A^V^z)+M[5]+4294588738&4294967295,I=A+(k<<4&4294967295|k>>>28),k=z+(I^A^V)+M[8]+2272392833&4294967295,z=I+(k<<11&4294967295|k>>>21),k=V+(z^I^A)+M[11]+1839030562&4294967295,V=z+(k<<16&4294967295|k>>>16),k=A+(V^z^I)+M[14]+4259657740&4294967295,A=V+(k<<23&4294967295|k>>>9),k=I+(A^V^z)+M[1]+2763975236&4294967295,I=A+(k<<4&4294967295|k>>>28),k=z+(I^A^V)+M[4]+1272893353&4294967295,z=I+(k<<11&4294967295|k>>>21),k=V+(z^I^A)+M[7]+4139469664&4294967295,V=z+(k<<16&4294967295|k>>>16),k=A+(V^z^I)+M[10]+3200236656&4294967295,A=V+(k<<23&4294967295|k>>>9),k=I+(A^V^z)+M[13]+681279174&4294967295,I=A+(k<<4&4294967295|k>>>28),k=z+(I^A^V)+M[0]+3936430074&4294967295,z=I+(k<<11&4294967295|k>>>21),k=V+(z^I^A)+M[3]+3572445317&4294967295,V=z+(k<<16&4294967295|k>>>16),k=A+(V^z^I)+M[6]+76029189&4294967295,A=V+(k<<23&4294967295|k>>>9),k=I+(A^V^z)+M[9]+3654602809&4294967295,I=A+(k<<4&4294967295|k>>>28),k=z+(I^A^V)+M[12]+3873151461&4294967295,z=I+(k<<11&4294967295|k>>>21),k=V+(z^I^A)+M[15]+530742520&4294967295,V=z+(k<<16&4294967295|k>>>16),k=A+(V^z^I)+M[2]+3299628645&4294967295,A=V+(k<<23&4294967295|k>>>9),k=I+(V^(A|~z))+M[0]+4096336452&4294967295,I=A+(k<<6&4294967295|k>>>26),k=z+(A^(I|~V))+M[7]+1126891415&4294967295,z=I+(k<<10&4294967295|k>>>22),k=V+(I^(z|~A))+M[14]+2878612391&4294967295,V=z+(k<<15&4294967295|k>>>17),k=A+(z^(V|~I))+M[5]+4237533241&4294967295,A=V+(k<<21&4294967295|k>>>11),k=I+(V^(A|~z))+M[12]+1700485571&4294967295,I=A+(k<<6&4294967295|k>>>26),k=z+(A^(I|~V))+M[3]+2399980690&4294967295,z=I+(k<<10&4294967295|k>>>22),k=V+(I^(z|~A))+M[10]+4293915773&4294967295,V=z+(k<<15&4294967295|k>>>17),k=A+(z^(V|~I))+M[1]+2240044497&4294967295,A=V+(k<<21&4294967295|k>>>11),k=I+(V^(A|~z))+M[8]+1873313359&4294967295,I=A+(k<<6&4294967295|k>>>26),k=z+(A^(I|~V))+M[15]+4264355552&4294967295,z=I+(k<<10&4294967295|k>>>22),k=V+(I^(z|~A))+M[6]+2734768916&4294967295,V=z+(k<<15&4294967295|k>>>17),k=A+(z^(V|~I))+M[13]+1309151649&4294967295,A=V+(k<<21&4294967295|k>>>11),k=I+(V^(A|~z))+M[4]+4149444226&4294967295,I=A+(k<<6&4294967295|k>>>26),k=z+(A^(I|~V))+M[11]+3174756917&4294967295,z=I+(k<<10&4294967295|k>>>22),k=V+(I^(z|~A))+M[2]+718787259&4294967295,V=z+(k<<15&4294967295|k>>>17),k=A+(z^(V|~I))+M[9]+3951481745&4294967295,j.g[0]=j.g[0]+I&4294967295,j.g[1]=j.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,j.g[2]=j.g[2]+V&4294967295,j.g[3]=j.g[3]+z&4294967295}r.prototype.u=function(j,I){I===void 0&&(I=j.length);for(var A=I-this.blockSize,M=this.B,V=this.h,z=0;z<I;){if(V==0)for(;z<=A;)a(this,j,z),z+=this.blockSize;if(typeof j=="string"){for(;z<I;)if(M[V++]=j.charCodeAt(z++),V==this.blockSize){a(this,M),V=0;break}}else for(;z<I;)if(M[V++]=j[z++],V==this.blockSize){a(this,M),V=0;break}}this.h=V,this.o+=I},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var I=1;I<j.length-8;++I)j[I]=0;var A=8*this.o;for(I=j.length-8;I<j.length;++I)j[I]=A&255,A/=256;for(this.u(j),j=Array(16),I=A=0;4>I;++I)for(var M=0;32>M;M+=8)j[A++]=this.g[I]>>>M&255;return j};function o(j,I){var A=d;return Object.prototype.hasOwnProperty.call(A,j)?A[j]:A[j]=I(j)}function c(j,I){this.h=I;for(var A=[],M=!0,V=j.length-1;0<=V;V--){var z=j[V]|0;M&&z==I||(A[V]=z,M=!1)}this.g=A}var d={};function h(j){return-128<=j&&128>j?o(j,function(I){return new c([I|0],0>I?-1:0)}):new c([j|0],0>j?-1:0)}function p(j){if(isNaN(j)||!isFinite(j))return v;if(0>j)return L(p(-j));for(var I=[],A=1,M=0;j>=A;M++)I[M]=j/A|0,A*=4294967296;return new c(I,0)}function g(j,I){if(j.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(j.charAt(0)=="-")return L(g(j.substring(1),I));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(I,8)),M=v,V=0;V<j.length;V+=8){var z=Math.min(8,j.length-V),k=parseInt(j.substring(V,V+z),I);8>z?(z=p(Math.pow(I,z)),M=M.j(z).add(p(k))):(M=M.j(A),M=M.add(p(k)))}return M}var v=h(0),b=h(1),T=h(16777216);n=c.prototype,n.m=function(){if(D(this))return-L(this).m();for(var j=0,I=1,A=0;A<this.g.length;A++){var M=this.i(A);j+=(0<=M?M:4294967296+M)*I,I*=4294967296}return j},n.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(x(this))return"0";if(D(this))return"-"+L(this).toString(j);for(var I=p(Math.pow(j,6)),A=this,M="";;){var V=B(A,I).g;A=O(A,V.j(I));var z=((0<A.g.length?A.g[0]:A.h)>>>0).toString(j);if(A=V,x(A))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},n.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function x(j){if(j.h!=0)return!1;for(var I=0;I<j.g.length;I++)if(j.g[I]!=0)return!1;return!0}function D(j){return j.h==-1}n.l=function(j){return j=O(this,j),D(j)?-1:x(j)?0:1};function L(j){for(var I=j.g.length,A=[],M=0;M<I;M++)A[M]=~j.g[M];return new c(A,~j.h).add(b)}n.abs=function(){return D(this)?L(this):this},n.add=function(j){for(var I=Math.max(this.g.length,j.g.length),A=[],M=0,V=0;V<=I;V++){var z=M+(this.i(V)&65535)+(j.i(V)&65535),k=(z>>>16)+(this.i(V)>>>16)+(j.i(V)>>>16);M=k>>>16,z&=65535,k&=65535,A[V]=k<<16|z}return new c(A,A[A.length-1]&-2147483648?-1:0)};function O(j,I){return j.add(L(I))}n.j=function(j){if(x(this)||x(j))return v;if(D(this))return D(j)?L(this).j(L(j)):L(L(this).j(j));if(D(j))return L(this.j(L(j)));if(0>this.l(T)&&0>j.l(T))return p(this.m()*j.m());for(var I=this.g.length+j.g.length,A=[],M=0;M<2*I;M++)A[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<j.g.length;V++){var z=this.i(M)>>>16,k=this.i(M)&65535,_e=j.i(V)>>>16,we=j.i(V)&65535;A[2*M+2*V]+=k*we,C(A,2*M+2*V),A[2*M+2*V+1]+=z*we,C(A,2*M+2*V+1),A[2*M+2*V+1]+=k*_e,C(A,2*M+2*V+1),A[2*M+2*V+2]+=z*_e,C(A,2*M+2*V+2)}for(M=0;M<I;M++)A[M]=A[2*M+1]<<16|A[2*M];for(M=I;M<2*I;M++)A[M]=0;return new c(A,0)};function C(j,I){for(;(j[I]&65535)!=j[I];)j[I+1]+=j[I]>>>16,j[I]&=65535,I++}function R(j,I){this.g=j,this.h=I}function B(j,I){if(x(I))throw Error("division by zero");if(x(j))return new R(v,v);if(D(j))return I=B(L(j),I),new R(L(I.g),L(I.h));if(D(I))return I=B(j,L(I)),new R(L(I.g),I.h);if(30<j.g.length){if(D(j)||D(I))throw Error("slowDivide_ only works with positive integers.");for(var A=b,M=I;0>=M.l(j);)A=q(A),M=q(M);var V=U(A,1),z=U(M,1);for(M=U(M,2),A=U(A,2);!x(M);){var k=z.add(M);0>=k.l(j)&&(V=V.add(A),z=k),M=U(M,1),A=U(A,1)}return I=O(j,V.j(I)),new R(V,I)}for(V=v;0<=j.l(I);){for(A=Math.max(1,Math.floor(j.m()/I.m())),M=Math.ceil(Math.log(A)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=p(A),k=z.j(I);D(k)||0<k.l(j);)A-=M,z=p(A),k=z.j(I);x(z)&&(z=b),V=V.add(z),j=O(j,k)}return new R(V,j)}n.A=function(j){return B(this,j).h},n.and=function(j){for(var I=Math.max(this.g.length,j.g.length),A=[],M=0;M<I;M++)A[M]=this.i(M)&j.i(M);return new c(A,this.h&j.h)},n.or=function(j){for(var I=Math.max(this.g.length,j.g.length),A=[],M=0;M<I;M++)A[M]=this.i(M)|j.i(M);return new c(A,this.h|j.h)},n.xor=function(j){for(var I=Math.max(this.g.length,j.g.length),A=[],M=0;M<I;M++)A[M]=this.i(M)^j.i(M);return new c(A,this.h^j.h)};function q(j){for(var I=j.g.length+1,A=[],M=0;M<I;M++)A[M]=j.i(M)<<1|j.i(M-1)>>>31;return new c(A,j.h)}function U(j,I){var A=I>>5;I%=32;for(var M=j.g.length-A,V=[],z=0;z<M;z++)V[z]=0<I?j.i(z+A)>>>I|j.i(z+A+1)<<32-I:j.i(z+A);return new c(V,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ES=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=g,ca=c}).apply(typeof Bw<"u"?Bw:typeof self<"u"?self:typeof window<"u"?window:{});var Cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TS,_c,SS,Uf,zg,xS,AS,RS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,E){return f==Array.prototype||f==Object.prototype||(f[_]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cf=="object"&&Cf];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function a(f,_){if(_)e:{var E=r;f=f.split(".");for(var P=0;P<f.length-1;P++){var Z=f[P];if(!(Z in E))break e;E=E[Z]}f=f[f.length-1],P=E[f],_=_(P),_!=P&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}function o(f,_){f instanceof String&&(f+="");var E=0,P=!1,Z={next:function(){if(!P&&E<f.length){var ie=E++;return{value:_(ie,f[ie]),done:!1}}return P=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(f){return f||function(){return o(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function h(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function p(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function g(f,_,E){return f.call.apply(f.bind,arguments)}function v(f,_,E){if(!f)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,P),f.apply(_,Z)}}return function(){return f.apply(_,arguments)}}function b(f,_,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,b.apply(null,arguments)}function T(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function x(f,_){function E(){}E.prototype=_.prototype,f.aa=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(P,Z,ie){for(var ve=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)ve[ut-2]=arguments[ut];return _.prototype[Z].apply(P,ve)}}function D(f){const _=f.length;if(0<_){const E=Array(_);for(let P=0;P<_;P++)E[P]=f[P];return E}return[]}function L(f,_){for(let E=1;E<arguments.length;E++){const P=arguments[E];if(h(P)){const Z=f.length||0,ie=P.length||0;f.length=Z+ie;for(let ve=0;ve<ie;ve++)f[Z+ve]=P[ve]}else f.push(P)}}class O{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function C(f){return/^[\s\xa0]*$/.test(f)}function R(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function B(f){return B[" "](f),f}B[" "]=function(){};var q=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function U(f,_,E){for(const P in f)_.call(E,f[P],P,f)}function j(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function I(f){const _={};for(const E in f)_[E]=f[E];return _}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,_){let E,P;for(let Z=1;Z<arguments.length;Z++){P=arguments[Z];for(E in P)f[E]=P[E];for(let ie=0;ie<A.length;ie++)E=A[ie],Object.prototype.hasOwnProperty.call(P,E)&&(f[E]=P[E])}}function V(f){var _=1;f=f.split(":");const E=[];for(;0<_&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function z(f){d.setTimeout(()=>{throw f},0)}function k(){var f=ye;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class _e{constructor(){this.h=this.g=null}add(_,E){const P=we.get();P.set(_,E),this.h?this.h.next=P:this.g=P,this.h=P}}var we=new O(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,le=!1,ye=new _e,F=()=>{const f=d.Promise.resolve(void 0);oe=()=>{f.then(se)}};var se=()=>{for(var f;f=k();){try{f.h.call(f.g)}catch(E){z(E)}var _=we;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}le=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};d.addEventListener("test",E,_),d.removeEventListener("test",E,_)}catch{}return f}();function qe(f,_){if(me.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(q){e:{try{B(_.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(_=null)}}else E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement);this.relatedTarget=_,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ee[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&qe.aa.h.call(this)}}x(qe,me);var Ee={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),rt=0;function Ht(f,_,E,P,Z){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!P,this.ha=Z,this.key=++rt,this.da=this.fa=!1}function Mt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Sn(f){this.src=f,this.g={},this.h=0}Sn.prototype.add=function(f,_,E,P,Z){var ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);var ve=Ii(f,_,P,Z);return-1<ve?(_=f[ve],E||(_.fa=!1)):(_=new Ht(_,this.src,ie,!!P,Z),_.fa=E,f.push(_)),_};function Zr(f,_){var E=_.type;if(E in f.g){var P=f.g[E],Z=Array.prototype.indexOf.call(P,_,void 0),ie;(ie=0<=Z)&&Array.prototype.splice.call(P,Z,1),ie&&(Mt(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Ii(f,_,E,P){for(var Z=0;Z<f.length;++Z){var ie=f[Z];if(!ie.da&&ie.listener==_&&ie.capture==!!E&&ie.ha==P)return Z}return-1}var Ln="closure_lm_"+(1e6*Math.random()|0),Ta={};function No(f,_,E,P,Z){if(Array.isArray(_)){for(var ie=0;ie<_.length;ie++)No(f,_[ie],E,P,Z);return null}return E=ps(E),f&&f[Ot]?f.K(_,E,p(P)?!!P.capture:!1,Z):Vn(f,_,E,!1,P,Z)}function Vn(f,_,E,P,Z,ie){if(!_)throw Error("Invalid event type");var ve=p(Z)?!!Z.capture:!!Z,ut=hr(f);if(ut||(f[Ln]=ut=new Sn(f)),E=ut.add(_,E,P,ve,ie),E.proxy)return E;if(P=cu(),E.proxy=P,P.src=f,P.listener=E,f.addEventListener)Ae||(Z=ve),Z===void 0&&(Z=!1),f.addEventListener(_.toString(),P,Z);else if(f.attachEvent)f.attachEvent(Ni(_.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function cu(){function f(E){return _.call(f.src,f.listener,E)}const _=Pr;return f}function Sa(f,_,E,P,Z){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)Sa(f,_[ie],E,P,Z);else P=p(P)?!!P.capture:!!P,E=ps(E),f&&f[Ot]?(f=f.i,_=String(_).toString(),_ in f.g&&(ie=f.g[_],E=Ii(ie,E,P,Z),-1<E&&(Mt(ie[E]),Array.prototype.splice.call(ie,E,1),ie.length==0&&(delete f.g[_],f.h--)))):f&&(f=hr(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Ii(_,E,P,Z)),(E=-1<f?_[f]:null)&&hs(E))}function hs(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Ot])Zr(_.i,f);else{var E=f.type,P=f.proxy;_.removeEventListener?_.removeEventListener(E,P,f.capture):_.detachEvent?_.detachEvent(Ni(E),P):_.addListener&&_.removeListener&&_.removeListener(P),(E=hr(_))?(Zr(E,f),E.h==0&&(E.src=null,_[Ln]=null)):Mt(f)}}}function Ni(f){return f in Ta?Ta[f]:Ta[f]="on"+f}function Pr(f,_){if(f.da)f=!0;else{_=new qe(_,this);var E=f.listener,P=f.ha||f.src;f.fa&&hs(f),f=E.call(P,_)}return f}function hr(f){return f=f[Ln],f instanceof Sn?f:null}var ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function ps(f){return typeof f=="function"?f:(f[ms]||(f[ms]=function(_){return f.handleEvent(_)}),f[ms])}function pt(){ge.call(this),this.i=new Sn(this),this.M=this,this.F=null}x(pt,ge),pt.prototype[Ot]=!0,pt.prototype.removeEventListener=function(f,_,E,P){Sa(this,f,_,E,P)};function Ke(f,_){var E,P=f.F;if(P)for(E=[];P;P=P.F)E.push(P);if(f=f.M,P=_.type||_,typeof _=="string")_=new me(_,f);else if(_ instanceof me)_.target=_.target||f;else{var Z=_;_=new me(P,f),M(_,Z)}if(Z=!0,E)for(var ie=E.length-1;0<=ie;ie--){var ve=_.g=E[ie];Z=xn(ve,P,!0,_)&&Z}if(ve=_.g=f,Z=xn(ve,P,!0,_)&&Z,Z=xn(ve,P,!1,_)&&Z,E)for(ie=0;ie<E.length;ie++)ve=_.g=E[ie],Z=xn(ve,P,!1,_)&&Z}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var E=f.g[_],P=0;P<E.length;P++)Mt(E[P]);delete f.g[_],f.h--}}this.F=null},pt.prototype.K=function(f,_,E,P){return this.i.add(String(f),_,!1,E,P)},pt.prototype.L=function(f,_,E,P){return this.i.add(String(f),_,!0,E,P)};function xn(f,_,E,P){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var Z=!0,ie=0;ie<_.length;++ie){var ve=_[ie];if(ve&&!ve.da&&ve.capture==E){var ut=ve.listener,Jt=ve.ha||ve.src;ve.fa&&Zr(f.i,ve),Z=ut.call(Jt,P)!==!1&&Z}}return Z&&!P.defaultPrevented}function Gt(f,_,E){if(typeof f=="function")E&&(f=b(f,E));else if(f&&typeof f.handleEvent=="function")f=b(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(f,_||0)}function Do(f){f.g=Gt(()=>{f.g=null,f.i&&(f.i=!1,Do(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class mr extends ge{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Do(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jr(f){ge.call(this),this.h=f,this.g={}}x(Jr,ge);var ei=[];function ti(f){U(f.g,function(_,E){this.g.hasOwnProperty(E)&&hs(_)},f),f.g={}}Jr.prototype.N=function(){Jr.aa.N.call(this),ti(this)},Jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=d.JSON.stringify,Di=d.JSON.parse,pr=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function gs(){}gs.prototype.h=null;function Oi(f){return f.h||(f.h=f.i())}function xa(){}var gr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lr(){me.call(this,"d")}x(Lr,me);function ys(){me.call(this,"c")}x(ys,me);var kn={},ni=null;function ri(){return ni=ni||new pt}kn.La="serverreachability";function vs(f){me.call(this,kn.La,f)}x(vs,me);function G(f){const _=ri();Ke(_,new vs(_))}kn.STAT_EVENT="statevent";function W(f,_){me.call(this,kn.STAT_EVENT,f),this.stat=_}x(W,me);function ee(f){const _=ri();Ke(_,new W(_,f))}kn.Ma="timingevent";function de(f,_){me.call(this,kn.Ma,f),this.size=_}x(de,me);function pe(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},_)}function Se(){this.g=!0}Se.prototype.xa=function(){this.g=!1};function Pe(f,_,E,P,Z,ie){f.info(function(){if(f.g)if(ie)for(var ve="",ut=ie.split("&"),Jt=0;Jt<ut.length;Jt++){var ct=ut[Jt].split("=");if(1<ct.length){var ln=ct[0];ct=ct[1];var en=ln.split("_");ve=2<=en.length&&en[1]=="type"?ve+(ln+"="+ct+"&"):ve+(ln+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+P+") [attempt "+Z+"]: "+_+`
`+E+`
`+ve})}function xe(f,_,E,P,Z,ie,ve){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Z+"]: "+_+`
`+E+`
`+ie+" "+ve})}function Ie(f,_,E,P){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Le(f,E)+(P?" "+P:"")})}function De(f,_){f.info(function(){return"TIMEOUT: "+_})}Se.prototype.info=function(){};function Le(f,_){if(!f.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var P=E[f];if(!(2>P.length)){var Z=P[1];if(Array.isArray(Z)&&!(1>Z.length)){var ie=Z[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<Z.length;ve++)Z[ve]=""}}}}return Jn(E)}catch{return _}}var Ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ke={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Je;function yt(){}x(yt,gs),yt.prototype.g=function(){return new XMLHttpRequest},yt.prototype.i=function(){return{}},Je=new yt;function ht(f,_,E,P){this.j=f,this.i=_,this.l=E,this.R=P||1,this.U=new Jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new at}function at(){this.i=null,this.g="",this.h=!1}var We={},yr={};function Zt(f,_,E){f.L=1,f.v=Ca(nr(_)),f.m=E,f.P=!0,jn(f,null)}function jn(f,_){f.F=Date.now(),er(f),f.A=nr(f.v);var E=f.A,P=f.R;Array.isArray(P)||(P=[String(P)]),pu(E.i,"t",P),f.C=0,E=f.j.J,f.h=new at,f.g=_d(f.j,E?_:null,!f.m),0<f.O&&(f.M=new mr(b(f.Y,f,f.g),f.O)),_=f.U,E=f.g,P=f.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(ei[0]=Z.toString()),Z=ei);for(var ie=0;ie<Z.length;ie++){var ve=No(E,Z[ie],P||_.handleEvent,!1,_.h||_);if(!ve)break;_.g[ve.key]=ve}_=f.H?I(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),G(),Pe(f.i,f.u,f.A,f.l,f.R,f.m)}ht.prototype.ca=function(f){f=f.target;const _=this.M;_&&Er(f)==3?_.j():this.Y(f)},ht.prototype.Y=function(f){try{if(f==this.g)e:{const en=Er(this.g);var _=this.g.Ba();const zi=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||dd(this.g)))){this.J||en!=4||_==7||(_==8||0>=zi?G(3):G(2)),An(this);var E=this.g.Z();this.X=E;t:if(mn(this)){var P=dd(this.g);f="";var Z=P.length,ie=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){He(this),Un(this);var ve="";break t}this.h.i=new d.TextDecoder}for(_=0;_<Z;_++)this.h.h=!0,f+=this.h.i.decode(P[_],{stream:!(ie&&_==Z-1)});P.length=0,this.h.g+=f,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=E==200,xe(this.i,this.u,this.A,this.l,this.R,en,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,Jt=this.g;if((ut=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(ut)){var ct=ut;break t}}ct=null}if(E=ct)Ie(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$t(this,E);else{this.o=!1,this.s=3,ee(12),He(this),Un(this);break e}}if(this.P){E=!0;let gn;for(;!this.J&&this.C<ve.length;)if(gn=ii(this,ve),gn==yr){en==4&&(this.s=4,ee(14),E=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==We){this.s=4,ee(15),Ie(this.i,this.l,ve,"[Invalid Chunk]"),E=!1;break}else Ie(this.i,this.l,gn,null),$t(this,gn);if(mn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||ve.length!=0||this.h.h||(this.s=1,ee(16),E=!1),this.o=this.o&&E,!E)Ie(this.i,this.l,ve,"[Invalid Chunked Response]"),He(this),Un(this);else if(0<ve.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Va(ln),ln.M=!0,ee(11))}}else Ie(this.i,this.l,ve,null),$t(this,ve);en==4&&He(this),this.o&&!this.J&&(en==4?gd(this.j,this):(this.o=!1,er(this)))}else sm(this.g),E==400&&0<ve.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),He(this),Un(this)}}}catch{}finally{}};function mn(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ii(f,_){var E=f.C,P=_.indexOf(`
`,E);return P==-1?yr:(E=Number(_.substring(E,P)),isNaN(E)?We:(P+=1,P+E>_.length?yr:(_=_.slice(P,P+E),f.C=P+E,_)))}ht.prototype.cancel=function(){this.J=!0,He(this)};function er(f){f.S=Date.now()+f.I,_s(f,f.I)}function _s(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=pe(b(f.ba,f),_)}function An(f){f.B&&(d.clearTimeout(f.B),f.B=null)}ht.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(De(this.i,this.A),this.L!=2&&(G(),ee(17)),He(this),this.s=2,Un(this)):_s(this,this.S-f)};function Un(f){f.j.G==0||f.J||gd(f.j,f)}function He(f){An(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,ti(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function $t(f,_){try{var E=f.j;if(E.G!=0&&(E.g==f||vr(E.h,f))){if(!f.K&&vr(E.h,f)&&E.G==3){try{var P=E.Da.g.parse(_)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Z=P;if(Z[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)zo(E),jo(E);else break e;bu(E),ee(18)}}else E.za=Z[1],0<E.za-E.T&&37500>Z[2]&&E.F&&E.v==0&&!E.C&&(E.C=pe(b(E.Za,E),6e3));if(1>=Rt(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ui(E,11)}else if((f.K||E.g==f)&&zo(E),!C(_))for(Z=E.Da.g.parse(_),_=0;_<Z.length;_++){let ct=Z[_];if(E.T=ct[0],ct=ct[1],E.G==2)if(ct[0]=="c"){E.K=ct[1],E.ia=ct[2];const ln=ct[3];ln!=null&&(E.la=ln,E.j.info("VER="+E.la));const en=ct[4];en!=null&&(E.Aa=en,E.j.info("SVER="+E.Aa));const zi=ct[5];zi!=null&&typeof zi=="number"&&0<zi&&(P=1.5*zi,E.L=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const gn=f.g;if(gn){const fi=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fi){var ie=P.h;ie.g||fi.indexOf("spdy")==-1&&fi.indexOf("quic")==-1&&fi.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Mi(ie,ie.h),ie.h=null))}if(P.D){const Eu=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Eu&&(P.ya=Eu,Tt(P.I,P.D,Eu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),P=E;var ve=f;if(P.qa=vd(P,P.J?P.ia:null,P.W),ve.K){pn(P.h,ve);var ut=ve,Jt=P.L;Jt&&(ut.I=Jt),ut.B&&(An(ut),er(ut)),P.g=ve}else md(P);0<E.i.length&&Uo(E)}else ct[0]!="stop"&&ct[0]!="close"||Ui(E,7);else E.G==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?Ui(E,7):vu(E):ct[0]!="noop"&&E.l&&E.l.ta(ct),E.v=0)}}G(4)}catch{}}var tr=class{constructor(f,_){this.g=f,this.map=_}};function Gn(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function si(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Rt(f){return f.h?1:f.g?f.g.size:0}function vr(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Mi(f,_){f.g?f.g.add(_):f.h=_}function pn(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Gn.prototype.cancel=function(){if(this.i=du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function du(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.D);return _}return D(f.i)}function tm(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var _=[],E=f.length,P=0;P<E;P++)_.push(f[P]);return _}_=[],E=0;for(P in f)_[E++]=f[P];return _}function Oo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var _=[];f=f.length;for(var E=0;E<f;E++)_.push(E);return _}_=[],E=0;for(const P in f)_[E++]=P;return _}}}function fu(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var E=Oo(f),P=tm(f),Z=P.length,ie=0;ie<Z;ie++)_.call(void 0,P[ie],E&&E[ie],f)}var Aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nm(f,_){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var P=f[E].indexOf("="),Z=null;if(0<=P){var ie=f[E].substring(0,P);Z=f[E].substring(P+1)}else ie=f[E];_(ie,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Qt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Qt){this.h=f.h,Ra(this,f.j),this.o=f.o,this.g=f.g,bs(this,f.s),this.l=f.l;var _=f.i,E=new Li;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Pi(this,E),this.m=f.m}else f&&(_=String(f).match(Aa))?(this.h=!1,Ra(this,_[1]||"",!0),this.o=_r(_[2]||""),this.g=_r(_[3]||"",!0),bs(this,_[4]),this.l=_r(_[5]||"",!0),Pi(this,_[6]||"",!0),this.m=_r(_[7]||"")):(this.h=!1,this.i=new Li(null,this.h))}Qt.prototype.toString=function(){var f=[],_=this.j;_&&f.push(Ia(_,hu,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Ia(_,hu,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Ia(E,E.charAt(0)=="/"?rm:mu,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Ia(E,Mo)),f.join("")};function nr(f){return new Qt(f)}function Ra(f,_,E){f.j=E?_r(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function bs(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function Pi(f,_,E){_ instanceof Li?(f.i=_,ud(f.i,f.h)):(E||(_=Ia(_,im)),f.i=new Li(_,f.h))}function Tt(f,_,E){f.i.set(_,E)}function Ca(f){return Tt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function _r(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ia(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,ld),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ld(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var hu=/[#\/\?@]/g,mu=/[#\?:]/g,rm=/[#\?]/g,im=/[#\?@]/g,Mo=/#/g;function Li(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function br(f){f.g||(f.g=new Map,f.h=0,f.i&&nm(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Li.prototype,n.add=function(f,_){br(this),this.i=null,f=ai(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function Vi(f,_){br(f),_=ai(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function ki(f,_){return br(f),_=ai(f,_),f.g.has(_)}n.forEach=function(f,_){br(this),this.g.forEach(function(E,P){E.forEach(function(Z){f.call(_,Z,P,this)},this)},this)},n.na=function(){br(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let P=0;P<_.length;P++){const Z=f[P];for(let ie=0;ie<Z.length;ie++)E.push(_[P])}return E},n.V=function(f){br(this);let _=[];if(typeof f=="string")ki(this,f)&&(_=_.concat(this.g.get(ai(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)_=_.concat(f[E])}return _},n.set=function(f,_){return br(this),this.i=null,f=ai(this,f),ki(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function pu(f,_,E){Vi(f,_),0<E.length&&(f.i=null,f.g.set(ai(f,_),D(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var P=_[E];const ie=encodeURIComponent(String(P)),ve=this.V(P);for(P=0;P<ve.length;P++){var Z=ie;ve[P]!==""&&(Z+="="+encodeURIComponent(String(ve[P]))),f.push(Z)}}return this.i=f.join("&")};function ai(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function ud(f,_){_&&!f.j&&(br(f),f.i=null,f.g.forEach(function(E,P){var Z=P.toLowerCase();P!=Z&&(Vi(this,P),pu(this,Z,E))},f)),f.j=_}function Na(f,_){const E=new Se;if(d.Image){const P=new Image;P.onload=T(wr,E,"TestLoadImage: loaded",!0,_,P),P.onerror=T(wr,E,"TestLoadImage: error",!1,_,P),P.onabort=T(wr,E,"TestLoadImage: abort",!1,_,P),P.ontimeout=T(wr,E,"TestLoadImage: timeout",!1,_,P),d.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else _(!1)}function Vr(f,_){const E=new Se,P=new AbortController,Z=setTimeout(()=>{P.abort(),wr(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:P.signal}).then(ie=>{clearTimeout(Z),ie.ok?wr(E,"TestPingServer: ok",!0,_):wr(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Z),wr(E,"TestPingServer: error",!1,_)})}function wr(f,_,E,P,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),P(E)}catch{}}function Da(){this.g=new pr}function oi(f,_,E){const P=E||"";try{fu(f,function(Z,ie){let ve=Z;p(Z)&&(ve=Jn(Z)),_.push(P+ie+"="+encodeURIComponent(ve))})}catch(Z){throw _.push(P+"type="+encodeURIComponent("_badmap")),Z}}function ws(f){this.l=f.Ub||null,this.j=f.eb||!1}x(ws,gs),ws.prototype.g=function(){return new ji(this.l,this.j)},ws.prototype.i=function(f){return function(){return f}}({});function ji(f,_){pt.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ji,pt),n=ji.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,ui(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,li(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gu(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function gu(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?li(this):ui(this),this.readyState==3&&gu(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,li(this))},n.Qa=function(f){this.g&&(this.response=f,li(this))},n.ga=function(){this.g&&li(this)};function li(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ui(f)}n.setRequestHeader=function(f,_){this.u.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function ui(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function yu(f){let _="";return U(f,function(E,P){_+=P,_+=":",_+=E,_+=`\r
`}),_}function on(f,_,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=yu(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Tt(f,_,E))}function vt(f){pt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(vt,pt);var Po=/^https?$/i,Oa=["POST","PUT"];n=vt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,_,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Je.g(),this.v=this.o?Oi(this.o):Oi(Je),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(ie){cd(this,ie);return}if(f=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Z in P)E.set(Z,P[Z]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ie of P.keys())E.set(ie,P.get(ie));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(ie=>ie.toLowerCase()=="content-type"),Z=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Oa,_,void 0))||P||Z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of E)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ma(this),this.u=!0,this.g.send(f),this.u=!1}catch(ie){cd(this,ie)}};function cd(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,Lo(f),ci(f)}function Lo(f){f.A||(f.A=!0,Ke(f,"complete"),Ke(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ke(this,"complete"),Ke(this,"abort"),ci(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ci(this,!0)),vt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Vo(this):this.bb())},n.bb=function(){Vo(this)};function Vo(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Er(f)!=4||f.Z()!=2)){if(f.u&&Er(f)==4)Gt(f.Ea,0,f);else if(Ke(f,"readystatechange"),Er(f)==4){f.h=!1;try{const ve=f.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var P;if(P=ve===0){var Z=String(f.D).match(Aa)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),P=!Po.test(Z?Z.toLowerCase():"")}E=P}if(E)Ke(f,"complete"),Ke(f,"success");else{f.m=6;try{var ie=2<Er(f)?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.Z()+"]",Lo(f)}}finally{ci(f)}}}}function ci(f,_){if(f.g){Ma(f);const E=f.g,P=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||Ke(f,"ready");try{E.onreadystatechange=P}catch{}}}function Ma(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Er(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Di(_)}};function dd(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function sm(f){const _={};f=(f.g&&2<=Er(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(C(f[P]))continue;var E=V(f[P]);const Z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ie=_[Z]||[];_[Z]=ie,ie.push(E)}j(_,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pa(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function ko(f){this.Aa=0,this.i=[],this.j=new Se,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pa("baseRetryDelayMs",5e3,f),this.cb=Pa("retryDelaySeedMs",1e4,f),this.Wa=Pa("forwardChannelMaxRetries",2,f),this.wa=Pa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Gn(f&&f.concurrentRequestLimit),this.Da=new Da,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ko.prototype,n.la=8,n.G=1,n.connect=function(f,_,E,P){ee(0),this.W=f,this.H=_||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.I=vd(this,null,this.W),Uo(this)};function vu(f){if(fd(f),f.G==3){var _=f.U++,E=nr(f.I);if(Tt(E,"SID",f.K),Tt(E,"RID",_),Tt(E,"TYPE","terminate"),La(f,E),_=new ht(f,f.j,_),_.L=2,_.v=Ca(nr(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=_.v,E=!0),E||(_.g=_d(_.j,null),_.g.ea(_.v)),_.F=Date.now(),er(_)}yd(f)}function jo(f){f.g&&(Va(f),f.g.cancel(),f.g=null)}function fd(f){jo(f),f.u&&(d.clearTimeout(f.u),f.u=null),zo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Uo(f){if(!si(f.h)&&!f.s){f.s=!0;var _=f.Ga;oe||F(),le||(oe(),le=!0),ye.add(_,f),f.B=0}}function am(f,_){return Rt(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=pe(b(f.Ga,f,_),wu(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Z=new ht(this,this.j,f);let ie=this.o;if(this.S&&(ie?(ie=I(ie),M(ie,this.S)):ie=this.S),this.m!==null||this.O||(Z.H=ie,ie=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(_+=P,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=hd(this,Z,_),E=nr(this.I),Tt(E,"RID",f),Tt(E,"CVER",22),this.D&&Tt(E,"X-HTTP-Session-Id",this.D),La(this,E),ie&&(this.O?_="headers="+encodeURIComponent(String(yu(ie)))+"&"+_:this.m&&on(E,this.m,ie)),Mi(this.h,Z),this.Ua&&Tt(E,"TYPE","init"),this.P?(Tt(E,"$req",_),Tt(E,"SID","null"),Z.T=!0,Zt(Z,E,null)):Zt(Z,E,_),this.G=2}}else this.G==3&&(f?_u(this,f):this.i.length==0||si(this.h)||_u(this))};function _u(f,_){var E;_?E=_.l:E=f.U++;const P=nr(f.I);Tt(P,"SID",f.K),Tt(P,"RID",E),Tt(P,"AID",f.T),La(f,P),f.m&&f.o&&on(P,f.m,f.o),E=new ht(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),_&&(f.i=_.D.concat(f.i)),_=hd(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Mi(f.h,E),Zt(E,P,_)}function La(f,_){f.H&&U(f.H,function(E,P){Tt(_,P,E)}),f.l&&fu({},function(E,P){Tt(_,P,E)})}function hd(f,_,E){E=Math.min(f.i.length,E);var P=f.l?b(f.l.Na,f.l,f):null;e:{var Z=f.i;let ie=-1;for(;;){const ve=["count="+E];ie==-1?0<E?(ie=Z[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let ut=!0;for(let Jt=0;Jt<E;Jt++){let ct=Z[Jt].g;const ln=Z[Jt].map;if(ct-=ie,0>ct)ie=Math.max(0,Z[Jt].g-100),ut=!1;else try{oi(ln,ve,"req"+ct+"_")}catch{P&&P(ln)}}if(ut){P=ve.join("&");break e}}}return f=f.i.splice(0,E),_.D=f,P}function md(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;oe||F(),le||(oe(),le=!0),ye.add(_,f),f.v=0}}function bu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=pe(b(f.Fa,f),wu(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,pd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=pe(b(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),jo(this),pd(this))};function Va(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function pd(f){f.g=new ht(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=nr(f.qa);Tt(_,"RID","rpc"),Tt(_,"SID",f.K),Tt(_,"AID",f.T),Tt(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&Tt(_,"TO",f.ja),Tt(_,"TYPE","xmlhttp"),La(f,_),f.m&&f.o&&on(_,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Ca(nr(_)),E.m=null,E.P=!0,jn(E,f)}n.Za=function(){this.C!=null&&(this.C=null,jo(this),bu(this),ee(19))};function zo(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function gd(f,_){var E=null;if(f.g==_){zo(f),Va(f),f.g=null;var P=2}else if(vr(f.h,_))E=_.D,pn(f.h,_),P=1;else return;if(f.G!=0){if(_.o)if(P==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var Z=f.B;P=ri(),Ke(P,new de(P,E)),Uo(f)}else md(f);else if(Z=_.s,Z==3||Z==0&&0<_.X||!(P==1&&am(f,_)||P==2&&bu(f)))switch(E&&0<E.length&&(_=f.h,_.i=_.i.concat(E)),Z){case 1:Ui(f,5);break;case 4:Ui(f,10);break;case 3:Ui(f,6);break;default:Ui(f,2)}}}function wu(f,_){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*_}function Ui(f,_){if(f.j.info("Error code "+_),_==2){var E=b(f.fb,f),P=f.Xa;const Z=!P;P=new Qt(P||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ra(P,"https"),Ca(P),Z?Na(P.toString(),E):Vr(P.toString(),E)}else ee(2);f.G=0,f.l&&f.l.sa(_),yd(f),fd(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function yd(f){if(f.G=0,f.ka=[],f.l){const _=du(f.h);(_.length!=0||f.i.length!=0)&&(L(f.ka,_),L(f.ka,f.i),f.h.i.length=0,D(f.i),f.i.length=0),f.l.ra()}}function vd(f,_,E){var P=E instanceof Qt?nr(E):new Qt(E);if(P.g!="")_&&(P.g=_+"."+P.g),bs(P,P.s);else{var Z=d.location;P=Z.protocol,_=_?_+"."+Z.hostname:Z.hostname,Z=+Z.port;var ie=new Qt(null);P&&Ra(ie,P),_&&(ie.g=_),Z&&bs(ie,Z),E&&(ie.l=E),P=ie}return E=f.D,_=f.ya,E&&_&&Tt(P,E,_),Tt(P,"VER",f.la),La(f,P),P}function _d(f,_,E){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new vt(new ws({eb:E})):new vt(f.pa),_.Ha(f.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function bd(){}n=bd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Bo(){}Bo.prototype.g=function(f,_){return new zn(f,_)};function zn(f,_){pt.call(this),this.g=new ko(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!C(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new di(this)}x(zn,pt),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){vu(this.g)},zn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Jn(f),f=E);_.i.push(new tr(_.Ya++,f)),_.G==3&&Uo(_)},zn.prototype.N=function(){this.g.l=null,delete this.j,vu(this.g),delete this.g,zn.aa.N.call(this)};function wd(f){Lr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}x(wd,Lr);function Ed(){ys.call(this),this.status=1}x(Ed,ys);function di(f){this.g=f}x(di,bd),di.prototype.ua=function(){Ke(this.g,"a")},di.prototype.ta=function(f){Ke(this.g,new wd(f))},di.prototype.sa=function(f){Ke(this.g,new Ed)},di.prototype.ra=function(){Ke(this.g,"b")},Bo.prototype.createWebChannel=Bo.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,RS=function(){return new Bo},AS=function(){return ri()},xS=kn,zg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ne.NO_ERROR=0,Ne.TIMEOUT=8,Ne.HTTP_ERROR=6,Uf=Ne,ke.COMPLETE="complete",SS=ke,xa.EventType=gr,gr.OPEN="a",gr.CLOSE="b",gr.ERROR="c",gr.MESSAGE="d",pt.prototype.listen=pt.prototype.K,_c=xa,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,TS=vt}).apply(typeof Cf<"u"?Cf:typeof self<"u"?self:typeof window<"u"?window:{});const Fw="@firebase/firestore",qw="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new Ly("@firebase/firestore");function yl(){return po.logLevel}function Te(n,...e){if(po.logLevel<=it.DEBUG){const t=e.map(jy);po.debug(`Firestore (${ru}): ${n}`,...t)}}function ls(n,...e){if(po.logLevel<=it.ERROR){const t=e.map(jy);po.error(`Firestore (${ru}): ${n}`,...t)}}function $l(n,...e){if(po.logLevel<=it.WARN){const t=e.map(jy);po.warn(`Firestore (${ru}): ${n}`,...t)}}function jy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,CS(n,r,t)}function CS(n,e,t){let r=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ls(r),new Error(r)}function bt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||CS(e,a,r)}function $e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends fs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Dn.UNAUTHENTICATED))}shutdown(){}}class eD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tD{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){bt(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ss,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},d=h=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ss)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string",31837,{l:r}),new IS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class nD{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new nD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){bt(this.o===void 0,3512);const r=o=>{o.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Hw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Hw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=sD(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function Xe(n,e){return n<e?-1:n>e?1:0}function Bg(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return Xe(r,a);{const o=NS(),c=aD(o.encode(Gw(n,t)),o.encode(Gw(e,t)));return c!==0?c:Xe(r,a)}}t+=r>65535?2:1}return Xe(n.length,e.length)}function Gw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function aD(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Xe(n[t],e[t]);return Xe(n.length,e.length)}function Ql(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=-62135596800,Qw=1e6;class sn{static now(){return sn.fromMillis(Date.now())}static fromDate(e){return sn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Qw);return new sn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$w)throw new be(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qw}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$w;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new sn(0,0))}static max(){return new Ge(new sn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="__name__";class vi{constructor(e,t,r){t===void 0?t=0:t>e.length&&ze(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ze(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return vi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=vi.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Xe(e.length,t.length)}static compareSegments(e,t){const r=vi.isNumericId(e),a=vi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?vi.extractNumericId(e).compare(vi.extractNumericId(t)):Bg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ca.fromString(e.substring(4,e.length-2))}}class Dt extends vi{construct(e,t,r){return new Dt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Dt(t)}static emptyPath(){return new Dt([])}}const oD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends vi{construct(e,t,r){return new En(e,t,r)}static isValidIdentifier(e){return oD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kw}static keyField(){return new En([Kw])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new be(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new be(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new be(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(o(),a++)}if(o(),c)throw new be(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(t)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Dt.fromString(e))}static fromName(e){return new Me(Dt.fromString(e).popFirst(5))}static empty(){return new Me(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=-1;function lD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ge.fromTimestamp(r===1e9?new sn(t+1,0):new sn(t,r));return new ma(a,Me.empty(),e)}function uD(n){return new ma(n.readTime,n.key,Mc)}class ma{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ma(Ge.min(),Me.empty(),Mc)}static max(){return new ma(Ge.max(),Me.empty(),Mc)}}function cD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Me.comparator(n.documentKey,e.documentKey),t!==0?t:Xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==dD)throw n;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,r)=>{t(e)})}static reject(e){return new he((t,r)=>{r(e)})}static waitFor(e){return new he((t,r)=>{let a=0,o=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++o,c&&o===a&&t()},h=>r(h))}),c=!0,o===a&&t()})}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next(a=>a?he.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new he((r,a)=>{const o=e.length,c=new Array(o);let d=0;for(let h=0;h<o;h++){const p=h;t(e[p]).next(g=>{c[p]=g,++d,d===o&&r(c)},g=>a(g))}})}static doWhile(e,t){return new he((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function hD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function su(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Mh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=-1;function Ph(n){return n==null}function sh(n){return n===0&&1/n==-1/0}function mD(n){return typeof n=="number"&&Number.isInteger(n)&&!sh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="";function pD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Yw(e)),e=gD(n.get(t),e);return Yw(e)}function gD(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case OS:t+="";break;default:t+=o}}return t}function Yw(n){return n+OS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Eo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function MS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,t){this.comparator=e,this.root=t||bn.EMPTY}insert(e,t){return new Vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new If(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new If(this.root,e,this.comparator,!1)}getReverseIterator(){return new If(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new If(this.root,e,this.comparator,!0)}}class If{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??bn.RED,this.left=a??bn.EMPTY,this.right=o??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new bn(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return bn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new bn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ww(this.data.getIterator())}getIteratorFrom(e){return new Ww(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new an(this.comparator);return t.data=e,t}}class Ww{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new Hr([])}unionWith(e){let t=new an(En.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Hr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ql(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new PS("Invalid base64 string: "+o):o}}(e);return new Tn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o}(e);return new Tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const yD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(n){if(bt(!!n,39018),typeof n=="string"){let e=0;const t=yD.exec(n);if(bt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(n.seconds),nanos:Ft(n.nanos)}}function Ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ga(n){return typeof n=="string"?Tn.fromBase64String(n):Tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="server_timestamp",VS="__type__",kS="__previous_value__",jS="__local_write_time__";function Lh(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[VS])===null||t===void 0?void 0:t.stringValue)===LS}function Vh(n){const e=n.mapValue.fields[kS];return Lh(e)?Vh(e):e}function Pc(n){const e=pa(n.mapValue.fields[jS].timestampValue);return new sn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,t,r,a,o,c,d,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p}}const ah="(default)";class Lc{constructor(e,t){this.projectId=e,this.database=t||ah}static empty(){return new Lc("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="__type__",_D="__max__",Nf={mapValue:{}},zS="__vector__",oh="value";function ya(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Lh(n)?4:wD(n)?9007199254740991:bD(n)?10:11:ze(28295,{value:n})}function Ri(n,e){if(n===e)return!0;const t=ya(n);if(t!==ya(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pc(n).isEqual(Pc(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=pa(a.timestampValue),d=pa(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return ga(a.bytesValue).isEqual(ga(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return Ft(a.geoPointValue.latitude)===Ft(o.geoPointValue.latitude)&&Ft(a.geoPointValue.longitude)===Ft(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return Ft(a.integerValue)===Ft(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Ft(a.doubleValue),d=Ft(o.doubleValue);return c===d?sh(c)===sh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Ql(n.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return function(a,o){const c=a.mapValue.fields||{},d=o.mapValue.fields||{};if(Xw(c)!==Xw(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!Ri(c[h],d[h])))return!1;return!0}(n,e);default:return ze(52216,{left:n})}}function Vc(n,e){return(n.values||[]).find(t=>Ri(t,e))!==void 0}function Kl(n,e){if(n===e)return 0;const t=ya(n),r=ya(e);if(t!==r)return Xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return function(o,c){const d=Ft(o.integerValue||o.doubleValue),h=Ft(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(n,e);case 3:return Zw(n.timestampValue,e.timestampValue);case 4:return Zw(Pc(n),Pc(e));case 5:return Bg(n.stringValue,e.stringValue);case 6:return function(o,c){const d=ga(o),h=ga(c);return d.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),h=c.split("/");for(let p=0;p<d.length&&p<h.length;p++){const g=Xe(d[p],h[p]);if(g!==0)return g}return Xe(d.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const d=Xe(Ft(o.latitude),Ft(c.latitude));return d!==0?d:Xe(Ft(o.longitude),Ft(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Jw(n.arrayValue,e.arrayValue);case 10:return function(o,c){var d,h,p,g;const v=o.fields||{},b=c.fields||{},T=(d=v[oh])===null||d===void 0?void 0:d.arrayValue,x=(h=b[oh])===null||h===void 0?void 0:h.arrayValue,D=Xe(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0);return D!==0?D:Jw(T,x)}(n.mapValue,e.mapValue);case 11:return function(o,c){if(o===Nf.mapValue&&c===Nf.mapValue)return 0;if(o===Nf.mapValue)return 1;if(c===Nf.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),p=c.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const b=Bg(h[v],g[v]);if(b!==0)return b;const T=Kl(d[h[v]],p[g[v]]);if(T!==0)return T}return Xe(h.length,g.length)}(n.mapValue,e.mapValue);default:throw ze(23264,{Pe:t})}}function Zw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xe(n,e);const t=pa(n),r=pa(e),a=Xe(t.seconds,r.seconds);return a!==0?a:Xe(t.nanos,r.nanos)}function Jw(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=Kl(t[a],r[a]);if(o)return o}return Xe(t.length,r.length)}function Yl(n){return Fg(n)}function Fg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=pa(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ga(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Me.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=Fg(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${Fg(t.fields[c])}`;return a+"}"}(n.mapValue):ze(61005,{value:n})}function zf(n){switch(ya(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(n);return e?16+zf(e):16;case 5:return 2*n.stringValue.length;case 6:return ga(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+zf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Eo(r.fields,(o,c)=>{a+=o.length+zf(c)}),a}(n.mapValue);default:throw ze(13486,{value:n})}}function lh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qg(n){return!!n&&"integerValue"in n}function zy(n){return!!n&&"arrayValue"in n}function eE(n){return!!n&&"nullValue"in n}function tE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bf(n){return!!n&&"mapValue"in n}function bD(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[US])===null||t===void 0?void 0:t.stringValue)===zS}function xc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Eo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=xc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function wD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===_D}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.value=e}static empty(){return new Or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Bf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xc(t)}setAll(e){let t=En.emptyPath(),r={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,r,a),r={},a=[],t=d.popLast()}c?r[d.lastSegment()]=xc(c):a.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());Bf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Bf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Eo(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new Or(xc(this.value))}}function BS(n){const e=[];return Eo(n.fields,(t,r)=>{const a=new En([t]);if(Bf(r)){const o=BS(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)}),new Hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,t,r,a,o,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new On(e,0,Ge.min(),Ge.min(),Ge.min(),Or.empty(),0)}static newFoundDocument(e,t,r,a){return new On(e,1,t,Ge.min(),r,a,0)}static newNoDocument(e,t){return new On(e,2,t,Ge.min(),Ge.min(),Or.empty(),0)}static newUnknownDocument(e,t){return new On(e,3,t,Ge.min(),Ge.min(),Or.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,t){this.position=e,this.inclusive=t}}function nE(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?r=Me.comparator(Me.fromName(c.referenceValue),t.key):r=Kl(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function rE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ri(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t="asc"){this.field=e,this.dir=t}}function ED(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{}class Wt extends FS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new SD(e,t,r):t==="array-contains"?new RD(e,r):t==="in"?new CD(e,r):t==="not-in"?new ID(e,r):t==="array-contains-any"?new ND(e,r):new Wt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new xD(e,r):new AD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Kl(t,this.value)):t!==null&&ya(this.value)===ya(t)&&this.matchesComparison(Kl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kr extends FS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Kr(e,t)}matches(e){return qS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qS(n){return n.op==="and"}function HS(n){return TD(n)&&qS(n)}function TD(n){for(const e of n.filters)if(e instanceof Kr)return!1;return!0}function Hg(n){if(n instanceof Wt)return n.field.canonicalString()+n.op.toString()+Yl(n.value);if(HS(n))return n.filters.map(e=>Hg(e)).join(",");{const e=n.filters.map(t=>Hg(t)).join(",");return`${n.op}(${e})`}}function GS(n,e){return n instanceof Wt?function(r,a){return a instanceof Wt&&r.op===a.op&&r.field.isEqual(a.field)&&Ri(r.value,a.value)}(n,e):n instanceof Kr?function(r,a){return a instanceof Kr&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,c,d)=>o&&GS(c,a.filters[d]),!0):!1}(n,e):void ze(19439)}function $S(n){return n instanceof Wt?function(t){return`${t.field.canonicalString()} ${t.op} ${Yl(t.value)}`}(n):n instanceof Kr?function(t){return t.op.toString()+" {"+t.getFilters().map($S).join(" ,")+"}"}(n):"Filter"}class SD extends Wt{constructor(e,t,r){super(e,t,r),this.key=Me.fromName(r.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class xD extends Wt{constructor(e,t){super(e,"in",t),this.keys=QS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AD extends Wt{constructor(e,t){super(e,"not-in",t),this.keys=QS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function QS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Me.fromName(r.referenceValue))}class RD extends Wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zy(t)&&Vc(t.arrayValue,this.value)}}class CD extends Wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Vc(this.value.arrayValue,t)}}class ID extends Wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Vc(this.value.arrayValue,t)}}class ND extends Wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Vc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t=null,r=[],a=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=d,this.Ie=null}}function iE(n,e=null,t=[],r=[],a=null,o=null,c=null){return new DD(n,e,t,r,a,o,c)}function By(n){const e=$e(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Hg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ph(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Yl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Yl(r)).join(",")),e.Ie=t}return e.Ie}function Fy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ED(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!GS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rE(n.startAt,e.startAt)&&rE(n.endAt,e.endAt)}function Gg(n){return Me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,t=null,r=[],a=[],o=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function OD(n,e,t,r,a,o,c,d){return new To(n,e,t,r,a,o,c,d)}function qy(n){return new To(n)}function sE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Hy(n){return n.collectionGroup!==null}function xl(n){const e=$e(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new an(En.comparator);return c.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new kc(o,r))}),t.has(En.keyField().canonicalString())||e.Ee.push(new kc(En.keyField(),r))}return e.Ee}function Ti(n){const e=$e(n);return e.de||(e.de=MD(e,xl(n))),e.de}function MD(n,e){if(n.limitType==="F")return iE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new kc(a.field,o)});const t=n.endAt?new Xl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Xl(n.startAt.position,n.startAt.inclusive):null;return iE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $g(n,e){const t=n.filters.concat([e]);return new To(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function uh(n,e,t){return new To(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kh(n,e){return Fy(Ti(n),Ti(e))&&n.limitType===e.limitType}function KS(n){return`${By(Ti(n))}|lt:${n.limitType}`}function vl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>$S(a)).join(", ")}]`),Ph(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Yl(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Yl(a)).join(",")),`Target(${r})`}(Ti(n))}; limitType=${n.limitType})`}function jh(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Me.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of xl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(c,d,h){const p=nE(c,d,h);return c.inclusive?p<=0:p<0}(r.startAt,xl(r),a)||r.endAt&&!function(c,d,h){const p=nE(c,d,h);return c.inclusive?p>=0:p>0}(r.endAt,xl(r),a))}(n,e)}function PD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function YS(n){return(e,t)=>{let r=!1;for(const a of xl(n)){const o=LD(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function LD(n,e,t){const r=n.field.isKeyField()?Me.comparator(e.key,t.key):function(o,c,d){const h=c.data.field(o),p=d.data.field(o);return h!==null&&p!==null?Kl(h,p):ze(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Eo(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return MS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=new Vt(Me.comparator);function us(){return VD}const XS=new Vt(Me.comparator);function bc(...n){let e=XS;for(const t of n)e=e.insert(t.key,t);return e}function WS(n){let e=XS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function to(){return Ac()}function ZS(){return Ac()}function Ac(){return new So(n=>n.toString(),(n,e)=>n.isEqual(e))}const kD=new Vt(Me.comparator),jD=new an(Me.comparator);function st(...n){let e=jD;for(const t of n)e=e.add(t);return e}const UD=new an(Xe);function zD(){return UD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function JS(n){return{integerValue:""+n}}function BD(n,e){return mD(e)?JS(e):Gy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function FD(n,e,t){return n instanceof jc?function(a,o){const c={fields:{[VS]:{stringValue:LS},[jS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Lh(o)&&(o=Vh(o)),o&&(c.fields[kS]=o),{mapValue:c}}(t,e):n instanceof Uc?tx(n,e):n instanceof zc?nx(n,e):function(a,o){const c=ex(a,o),d=aE(c)+aE(a.Re);return qg(c)&&qg(a.Re)?JS(d):Gy(a.serializer,d)}(n,e)}function qD(n,e,t){return n instanceof Uc?tx(n,e):n instanceof zc?nx(n,e):t}function ex(n,e){return n instanceof ch?function(r){return qg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class jc extends Uh{}class Uc extends Uh{constructor(e){super(),this.elements=e}}function tx(n,e){const t=rx(e);for(const r of n.elements)t.some(a=>Ri(a,r))||t.push(r);return{arrayValue:{values:t}}}class zc extends Uh{constructor(e){super(),this.elements=e}}function nx(n,e){let t=rx(e);for(const r of n.elements)t=t.filter(a=>!Ri(a,r));return{arrayValue:{values:t}}}class ch extends Uh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function aE(n){return Ft(n.integerValue||n.doubleValue)}function rx(n){return zy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,t){this.field=e,this.transform=t}}function GD(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof Uc&&a instanceof Uc||r instanceof zc&&a instanceof zc?Ql(r.elements,a.elements,Ri):r instanceof ch&&a instanceof ch?Ri(r.Re,a.Re):r instanceof jc&&a instanceof jc}(n.transform,e.transform)}class $D{constructor(e,t){this.version=e,this.transformResults=t}}class as{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new as}static exists(e){return new as(void 0,e)}static updateTime(e){return new as(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ff(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}let zh=class{};function ix(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ax(n.key,as.none()):new ed(n.key,n.data,as.none());{const t=n.data,r=Or.empty();let a=new an(En.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new xo(n.key,r,new Hr(a.toArray()),as.none())}}function QD(n,e,t){n instanceof ed?function(a,o,c){const d=a.value.clone(),h=lE(a.fieldTransforms,o,c.transformResults);d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof xo?function(a,o,c){if(!Ff(a.precondition,o))return void o.convertToUnknownDocument(c.version);const d=lE(a.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(sx(a)),h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Rc(n,e,t,r){return n instanceof ed?function(o,c,d,h){if(!Ff(o.precondition,c))return d;const p=o.value.clone(),g=uE(o.fieldTransforms,h,c);return p.setAll(g),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof xo?function(o,c,d,h){if(!Ff(o.precondition,c))return d;const p=uE(o.fieldTransforms,h,c),g=c.data;return g.setAll(sx(o)),g.setAll(p),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,c,d){return Ff(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function KD(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=ex(r.transform,a||null);o!=null&&(t===null&&(t=Or.empty()),t.set(r.field,o))}return t||null}function oE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ql(r,a,(o,c)=>GD(o,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ed extends zh{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class xo extends zh{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function sx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function lE(n,e,t){const r=new Map;bt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,d=e.data.field(o.field);r.set(o.field,qD(c,d,t[a]))}return r}function uE(n,e,t){const r=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);r.set(a.field,FD(o,c,e))}return r}class ax extends zh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YD extends zh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&QD(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Rc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Rc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ZS();return this.mutations.forEach(a=>{const o=e.get(a.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=t.has(a.key)?null:d;const h=ix(c,d);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Ge.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),st())}isEqual(e){return this.batchId===e.batchId&&Ql(this.mutations,e.mutations,(t,r)=>oE(t,r))&&Ql(this.baseMutations,e.baseMutations,(t,r)=>oE(t,r))}}class $y{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){bt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return kD}();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new $y(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,ft;function JD(n){switch(n){case ue.OK:return ze(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return ze(15467,{code:n})}}function ox(n){if(n===void 0)return ls("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Xt.OK:return ue.OK;case Xt.CANCELLED:return ue.CANCELLED;case Xt.UNKNOWN:return ue.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return ue.INTERNAL;case Xt.UNAVAILABLE:return ue.UNAVAILABLE;case Xt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Xt.NOT_FOUND:return ue.NOT_FOUND;case Xt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Xt.ABORTED:return ue.ABORTED;case Xt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Xt.DATA_LOSS:return ue.DATA_LOSS;default:return ze(39323,{code:n})}}(ft=Xt||(Xt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=new ca([4294967295,4294967295],0);function cE(n){const e=NS().encode(n),t=new ES;return t.update(e),new Uint8Array(t.digest())}function dE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ca([t,r],0),new ca([a,o],0)]}class Qy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new wc(`Invalid padding: ${t}`);if(r<0)throw new wc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new wc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ca.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(ca.fromNumber(r)));return a.compare(eO)===1&&(a=new ca([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=cE(e),[r,a]=dE(t);for(let o=0;o<this.hashCount;o++){const c=this.we(r,a,o);if(!this.be(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Qy(o,a,t);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=cE(e),[r,a]=dE(t);for(let o=0;o<this.hashCount;o++){const c=this.we(r,a,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,td.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Bh(Ge.min(),a,new Vt(Xe),us(),st())}}class td{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new td(r,t,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class lx{constructor(e,t){this.targetId=e,this.Ce=t}}class ux{constructor(e,t,r=Tn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class fE{constructor(){this.Fe=0,this.Me=hE(),this.xe=Tn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=st(),t=st(),r=st();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:ze(38017,{changeType:o})}}),new td(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=hE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,bt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class tO{constructor(e){this.ze=e,this.je=new Map,this.He=us(),this.Je=Df(),this.Ye=Df(),this.Ze=new Vt(Xe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(Gg(o))if(r===0){const c=new Me(o.path);this.tt(t,c,On.newNoDocument(c,Ge.min()))}else bt(r===1,20013,{expectedCount:r});else{const c=this.ut(t);if(c!==r){const d=this.ct(e),h=d?this.lt(d,e,c):1;if(h!==0){this.st(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let c,d;try{c=ga(r).toUint8Array()}catch(h){if(h instanceof PS)return $l("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Qy(c,a,o)}catch(h){return $l(h instanceof wc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.pe===0?null:d}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,c)=>{const d=this._t(c);if(d){if(o.current&&Gg(d.target)){const h=new Me(d.target.path);this.Et(h).has(c)||this.dt(c,h)||this.tt(c,h,On.newNoDocument(h,e))}o.Le&&(t.set(c,o.qe()),o.Qe())}});let r=st();this.Ye.forEach((o,c)=>{let d=!0;c.forEachWhile(h=>{const p=this._t(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.He.forEach((o,c)=>c.setReadTime(e));const a=new Bh(e,t,this.Ze,this.He,r);return this.He=us(),this.Je=Df(),this.Ye=Df(),this.Ze=new Vt(Xe),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new fE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new an(Xe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new an(Xe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new fE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Df(){return new Vt(Me.comparator)}function hE(){return new Vt(Me.comparator)}const nO={asc:"ASCENDING",desc:"DESCENDING"},rO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iO={and:"AND",or:"OR"};class sO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qg(n,e){return n.useProto3Json||Ph(e)?e:{value:e}}function dh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function aO(n,e){return dh(n,e.toTimestamp())}function Si(n){return bt(!!n,49232),Ge.fromTimestamp(function(t){const r=pa(t);return new sn(r.seconds,r.nanos)}(n))}function Ky(n,e){return Kg(n,e).canonicalString()}function Kg(n,e){const t=function(a){return new Dt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function dx(n){const e=Dt.fromString(n);return bt(gx(e),10190,{key:e.toString()}),e}function Yg(n,e){return Ky(n.databaseId,e.path)}function mg(n,e){const t=dx(e);if(t.get(1)!==n.databaseId.projectId)throw new be(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Me(hx(t))}function fx(n,e){return Ky(n.databaseId,e)}function oO(n){const e=dx(n);return e.length===4?Dt.emptyPath():hx(e)}function Xg(n){return new Dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hx(n){return bt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function mE(n,e,t){return{name:Yg(n,e),fields:t.value.mapValue.fields}}function lO(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ze(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(p,g){return p.useProto3Json?(bt(g===void 0||typeof g=="string",58123),Tn.fromBase64String(g||"")):(bt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Tn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const g=p.code===void 0?ue.UNKNOWN:ox(p.code);return new be(g,p.message||"")}(c);t=new ux(r,a,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=mg(n,r.document.name),o=Si(r.document.updateTime),c=r.document.createTime?Si(r.document.createTime):Ge.min(),d=new Or({mapValue:{fields:r.document.fields}}),h=On.newFoundDocument(a,o,c,d),p=r.targetIds||[],g=r.removedTargetIds||[];t=new qf(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=mg(n,r.document),o=r.readTime?Si(r.readTime):Ge.min(),c=On.newNoDocument(a,o),d=r.removedTargetIds||[];t=new qf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=mg(n,r.document),o=r.removedTargetIds||[];t=new qf([],o,a,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new ZD(a,o),d=r.targetId;t=new lx(d,c)}}return t}function uO(n,e){let t;if(e instanceof ed)t={update:mE(n,e.key,e.value)};else if(e instanceof ax)t={delete:Yg(n,e.key)};else if(e instanceof xo)t={update:mE(n,e.key,e.data),updateMask:vO(e.fieldMask)};else{if(!(e instanceof YD))return ze(16599,{ft:e.type});t={verify:Yg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const d=c.transform;if(d instanceof jc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Uc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof zc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ch)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw ze(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:aO(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ze(27497)}(n,e.precondition)),t}function cO(n,e){return n&&n.length>0?(bt(e!==void 0,14353),n.map(t=>function(a,o){let c=a.updateTime?Si(a.updateTime):Si(o);return c.isEqual(Ge.min())&&(c=Si(o)),new $D(c,a.transformResults||[])}(t,e))):[]}function dO(n,e){return{documents:[fx(n,e.path)]}}function fO(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=fx(n,a);const o=function(p){if(p.length!==0)return px(Kr.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const c=function(p){if(p.length!==0)return p.map(g=>function(b){return{field:_l(b.field),direction:pO(b.dir)}}(g))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Qg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function hO(n){let e=oO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){bt(r===1,65062);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(v){const b=mx(v);return b instanceof Kr&&HS(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(v){return v.map(b=>function(x){return new kc(bl(x.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(v){let b;return b=typeof v=="object"?v.value:v,Ph(b)?null:b}(t.limit));let h=null;t.startAt&&(h=function(v){const b=!!v.before,T=v.values||[];return new Xl(T,b)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const b=!v.before,T=v.values||[];return new Xl(T,b)}(t.endAt)),OD(e,a,c,o,d,"F",h,p)}function mO(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=bl(t.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=bl(t.unaryFilter.field);return Wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=bl(t.unaryFilter.field);return Wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=bl(t.unaryFilter.field);return Wt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}(n):n.fieldFilter!==void 0?function(t){return Wt.create(bl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Kr.create(t.compositeFilter.filters.map(r=>mx(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}(t.compositeFilter.op))}(n):ze(30097,{filter:n})}function pO(n){return nO[n]}function gO(n){return rO[n]}function yO(n){return iO[n]}function _l(n){return{fieldPath:n.canonicalString()}}function bl(n){return En.fromServerFormat(n.fieldPath)}function px(n){return n instanceof Wt?function(t){if(t.op==="=="){if(tE(t.value))return{unaryFilter:{field:_l(t.field),op:"IS_NAN"}};if(eE(t.value))return{unaryFilter:{field:_l(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tE(t.value))return{unaryFilter:{field:_l(t.field),op:"IS_NOT_NAN"}};if(eE(t.value))return{unaryFilter:{field:_l(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_l(t.field),op:gO(t.op),value:t.value}}}(n):n instanceof Kr?function(t){const r=t.getFilters().map(a=>px(a));return r.length===1?r[0]:{compositeFilter:{op:yO(t.op),filters:r}}}(n):ze(54877,{filter:n})}function vO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t,r,a,o=Ge.min(),c=Ge.min(),d=Tn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.wt=e}}function bO(n){const e=hO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?uh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.yn=new EO}addToCollectionParentIndex(e,t){return this.yn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(ma.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(ma.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class EO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new an(Dt.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new an(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yx=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(yx,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Wl(0)}static ir(){return new Wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="LruGarbageCollector",TO=1048576;function yE([n,e],[t,r]){const a=Xe(n,t);return a===0?Xe(e,r):a}class SO{constructor(e){this.cr=e,this.buffer=new an(yE),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();yE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Te(gE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){su(t)?Te(gE,"Ignoring IndexedDB error during garbage collection: ",t):await iu(t)}await this.Ir(3e5)})}}class AO{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return he.resolve(Mh.le);const r=new SO(t);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(pE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,a,o,c,d,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(r=v,d=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),yl()<=it.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v})))}}function RO(n,e){return new AO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.changes=new So(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&Rc(r.mutation,a,Hr.empty(),sn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,t,r=st()){const a=to();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let c=bc();return o.forEach((d,h)=>{c=c.insert(d,h.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=to();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,st()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,r,a){let o=us();const c=Ac(),d=function(){return Ac()}();return t.forEach((h,p)=>{const g=r.get(p.key);a.has(p.key)&&(g===void 0||g.mutation instanceof xo)?o=o.insert(p.key,p):g!==void 0?(c.set(p.key,g.mutation.getFieldMask()),Rc(g.mutation,p,g.mutation.getFieldMask(),sn.now())):c.set(p.key,Hr.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((p,g)=>c.set(p,g)),t.forEach((p,g)=>{var v;return d.set(p,new IO(g,(v=c.get(p))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(e,t){const r=Ac();let a=new Vt((c,d)=>c-d),o=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||Hr.empty();g=d.applyToLocalView(p,g),r.set(h,g);const v=(a.get(d.batchId)||st()).add(h);a=a.insert(d.batchId,v)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,g=h.value,v=ZS();g.forEach(b=>{if(!o.has(b)){const T=ix(t.get(b),r.get(b));T!==null&&v.set(b,T),o=o.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return he.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(c){return Me.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):he.resolve(to());let d=Mc,h=o;return c.next(p=>he.forEach(p,(g,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),o.get(g)?he.resolve():this.remoteDocumentCache.getEntry(e,g).next(b=>{h=h.insert(g,b)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,h,p,st())).next(g=>({batchId:d,changes:WS(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next(r=>{let a=bc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let c=bc();return this.indexManager.getCollectionParents(e,o).next(d=>he.forEach(d,h=>{const p=function(v,b){return new To(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(g=>{g.forEach((v,b)=>{c=c.insert(v,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(c=>{o.forEach((h,p)=>{const g=p.getKey();c.get(g)===null&&(c=c.insert(g,On.newInvalidDocument(g)))});let d=bc();return c.forEach((h,p)=>{const g=o.get(h);g!==void 0&&Rc(g.mutation,p,Hr.empty(),sn.now()),jh(t,p)&&(d=d.insert(h,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return he.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Si(a.createTime)}}(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:bO(a.bundledQuery),readTime:Si(a.readTime)}}(t)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.overlays=new Vt(Me.comparator),this.Or=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=to();return he.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.St(e,t,o)}),he.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const a=to(),o=t.length+1,c=new Me(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return he.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Vt((p,g)=>p-g);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=o.get(p.largestBatchId);g===null&&(g=to(),o=o.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=to(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>d.set(p,g)),!(d.size()>=a)););return he.resolve(d)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new WD(t,r));let o=this.Or.get(t);o===void 0&&(o=st(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.Nr=new an(fn.Br),this.Lr=new an(fn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new fn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new fn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Me(new Dt([])),r=new fn(t,e),a=new fn(t,e+1),o=[];return this.Lr.forEachInRange([r,a],c=>{this.Qr(c),o.push(c.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Me(new Dt([])),r=new fn(t,e),a=new fn(t,e+1);let o=st();return this.Lr.forEachInRange([r,a],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new fn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class fn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Me.comparator(e.key,t.key)||Xe(e.Gr,t.Gr)}static kr(e,t){return Xe(e.Gr,t.Gr)||Me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new an(fn.Br)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new XD(o,t,r,a);this.mutationQueue.push(c);for(const d of a)this.zr=this.zr.add(new fn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,t){return he.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Hr(r),o=a<0?0:a;return he.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?Uy:this.Jn-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new fn(t,0),a=new fn(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,a],c=>{const d=this.jr(c.Gr);o.push(d)}),he.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new an(Xe);return t.forEach(a=>{const o=new fn(a,0),c=new fn(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,c],d=>{r=r.add(d.Gr)})}),he.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Me.isDocumentKey(o)||(o=o.child(""));const c=new fn(new Me(o),0);let d=new an(Xe);return this.zr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(h.Gr)),!0)},c),he.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){bt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return he.forEach(t.mutations,a=>{const o=new fn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new fn(t,0),a=this.zr.firstAfterOrEqual(r);return he.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.Zr=e,this.docs=function(){return new Vt(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,c=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():On.newInvalidDocument(t))}getEntries(e,t){let r=us();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():On.newInvalidDocument(a))}),he.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=us();const c=t.path,d=new Me(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||cD(uD(g),r)<=0||(a.has(g.key)||jh(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return he.resolve(o)}getAllFromCollectionGroup(e,t,r,a){ze(9500)}Xr(e,t){return he.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new VO(this)}getSize(e){return he.resolve(this.size)}}class VO extends CO{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),he.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.persistence=e,this.ei=new So(t=>By(t),Fy),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.ti=0,this.ni=new Yy,this.targetCount=0,this.ri=Wl.rr()}forEachTarget(e,t){return this.ei.forEach((r,a)=>t(a)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),he.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Wl(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.ar(t),he.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ei.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),he.waitFor(o).next(()=>a)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(c=>{o.push(a.markPotentiallyOrphaned(e,c))}),he.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t){this.ii={},this.overlays={},this.si=new Mh(0),this.oi=!1,this.oi=!0,this._i=new MO,this.referenceDelegate=e(this),this.ai=new kO(this),this.indexManager=new wO,this.remoteDocumentCache=function(a){return new LO(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new _O(t),this.ci=new DO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new PO(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Te("MemoryPersistence","Starting transaction:",e);const a=new jO(this.si.next());return this.referenceDelegate.li(),r(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,t){return he.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class jO extends fD{constructor(e){super(),this.currentSequenceNumber=e}}class Xy{constructor(e){this.persistence=e,this.Ti=new Yy,this.Ii=null}static Ei(e){return new Xy(e)}get di(){if(this.Ii)return this.Ii;throw ze(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),he.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.di,r=>{const a=Me.fromPath(r);return this.Ai(e,a).next(o=>{o||t.removeEntry(a,Ge.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return he.or([()=>he.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class fh{constructor(e,t){this.persistence=e,this.Ri=new So(r=>pD(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=RO(this,t)}static Ei(e,t){return new fh(e,t)}li(){}hi(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return he.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(o=>o?he.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,c=>this.gr(e,c,t).next(d=>{d||(r++,o.removeEntry(c,Ge.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),he.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zf(e.data.value)),t}gr(e,t,r){return he.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return he.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=a}static Ps(e,t){let r=st(),a=st();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Wy(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return L2()?8:hD(Mn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.Rs(e,t).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Vs(e,t,a,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new UO;return this.fs(e,t,c).next(d=>{if(o.result=d,this.Is)return this.gs(e,t,c,d.size)})}).next(()=>o.result)}gs(e,t,r,a){return r.documentReadCount<this.Es?(yl()<=it.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",vl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),he.resolve()):(yl()<=it.DEBUG&&Te("QueryEngine","Query:",vl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(yl()<=it.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",vl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(t))):he.resolve())}Rs(e,t){if(sE(t))return he.resolve(null);let r=Ti(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=uh(t,null,"F"),r=Ti(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=st(...o);return this.As.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.ps(t,d);return this.ys(t,p,c,h.readTime)?this.Rs(e,uh(t,null,"F")):this.ws(e,p,t,h)}))})))}Vs(e,t,r,a){return sE(t)||a.isEqual(Ge.min())?he.resolve(null):this.As.getDocuments(e,r).next(o=>{const c=this.ps(t,o);return this.ys(t,c,r,a)?he.resolve(null):(yl()<=it.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),vl(t)),this.ws(e,c,t,lD(a,Mc)).next(d=>d))})}ps(e,t){let r=new an(YS(e));return t.forEach((a,o)=>{jh(e,o)&&(r=r.add(o))}),r}ys(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,t,r){return yl()<=it.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",vl(t)),this.As.getDocumentsMatchingQuery(e,t,ma.min(),r)}ws(e,t,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="LocalStore",BO=3e8;class FO{constructor(e,t,r,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new Vt(Xe),this.Ds=new So(o=>By(o),Fy),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NO(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function qO(n,e,t,r){return new FO(n,e,t,r)}async function _x(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],d=[];let h=st();for(const p of a){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of o){d.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Ms:p,removedBatchIds:c,addedBatchIds:d}))})})}function HO(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,h,p,g){const v=p.batch,b=v.keys();let T=he.resolve();return b.forEach(x=>{T=T.next(()=>g.getEntry(h,x)).next(D=>{const L=p.docVersions.get(x);bt(L!==null,48541),D.version.compareTo(L)<0&&(v.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),g.addEntry(D)))})}),T.next(()=>d.mutationQueue.removeMutationBatch(h,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let h=st();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function bx(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function GO(n,e){const t=$e(n),r=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const d=[];e.targetChanges.forEach((g,v)=>{const b=a.get(v);if(!b)return;d.push(t.ai.removeMatchingKeys(o,g.removedDocuments,v).next(()=>t.ai.addMatchingKeys(o,g.addedDocuments,v)));let T=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(Tn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),a=a.insert(v,T),function(D,L,O){return D.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=BO?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(b,T,g)&&d.push(t.ai.updateTargetData(o,T))});let h=us(),p=st();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),d.push($O(o,c,e.documentUpdates).next(g=>{h=g.xs,p=g.Os})),!r.isEqual(Ge.min())){const g=t.ai.getLastRemoteSnapshotVersion(o).next(v=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(g)}return he.waitFor(d).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(t.Ss=a,o))}function $O(n,e,t){let r=st(),a=st();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let c=us();return t.forEach((d,h)=>{const p=o.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(Ge.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):Te(Zy,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)}),{xs:c,Os:a}})}function QO(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Uy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function KO(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ai.getTargetData(r,e).next(o=>o?(a=o,he.resolve(a)):t.ai.allocateTargetId(r).next(c=>(a=new sa(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function Wg(n,e,t){const r=$e(n),a=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!su(c))throw c;Te(Zy,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function vE(n,e,t){const r=$e(n);let a=Ge.min(),o=st();return r.persistence.runTransaction("Execute query","readwrite",c=>function(h,p,g){const v=$e(h),b=v.Ds.get(g);return b!==void 0?he.resolve(v.Ss.get(b)):v.ai.getTargetData(p,g)}(r,c,Ti(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(c,d.targetId).next(h=>{o=h})}).next(()=>r.bs.getDocumentsMatchingQuery(c,e,t?a:Ge.min(),t?o:st())).next(d=>(YO(r,PD(e),d),{documents:d,Ns:o})))}function YO(n,e,t){let r=n.vs.get(e)||Ge.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class _E{constructor(){this.activeTargetIds=zD()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XO{constructor(){this.So=new _E,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new _E,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="ConnectivityMonitor";class wE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Te(bE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Te(bE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Of=null;function Zg(){return Of===null?Of=function(){return 268435456+Math.round(2147483648*Math.random())}():Of++,"0x"+Of.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="RestConnection",ZO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JO{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===ah?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,t,r,a,o){const c=Zg(),d=this.$o(e,t.toUriEncodedString());Te(pg,`Sending RPC '${e}' ${c}:`,d,r);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(h,a,o),this.Ko(e,d,h,r).then(p=>(Te(pg,`Received RPC '${e}' ${c}: `,p),p),p=>{throw $l(pg,`RPC '${e}' ${c} failed with error: `,p,"url: ",d,"request:",r),p})}Wo(e,t,r,a,o,c){return this.Qo(e,t,r,a,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ru}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}$o(e,t){const r=ZO[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class tM extends JO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,a){const o=Zg();return new Promise((c,d)=>{const h=new TS;h.setWithCredentials(!0),h.listenOnce(SS.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Uf.NO_ERROR:const g=h.getResponseJson();Te(In,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case Uf.TIMEOUT:Te(In,`RPC '${e}' ${o} timed out`),d(new be(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Uf.HTTP_ERROR:const v=h.getStatus();if(Te(In,`RPC '${e}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const T=b==null?void 0:b.error;if(T&&T.status&&T.message){const x=function(L){const O=L.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(O)>=0?O:ue.UNKNOWN}(T.status);d(new be(x,T.message))}else d(new be(ue.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new be(ue.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{s_:e,streamId:o,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{Te(In,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(a);Te(In,`RPC '${e}' ${o} sending request:`,a),h.send(t,"POST",p,r,15)})}a_(e,t,r){const a=Zg(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=RS(),d=AS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=o.join("");Te(In,`Creating RPC '${e}' stream ${a}: ${g}`,h);const v=c.createWebChannel(g,h);let b=!1,T=!1;const x=new eM({Go:L=>{T?Te(In,`Not sending because RPC '${e}' stream ${a} is closed:`,L):(b||(Te(In,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),Te(In,`RPC '${e}' stream ${a} sending:`,L),v.send(L))},zo:()=>v.close()}),D=(L,O,C)=>{L.listen(O,R=>{try{C(R)}catch(B){setTimeout(()=>{throw B},0)}})};return D(v,_c.EventType.OPEN,()=>{T||(Te(In,`RPC '${e}' stream ${a} transport opened.`),x.t_())}),D(v,_c.EventType.CLOSE,()=>{T||(T=!0,Te(In,`RPC '${e}' stream ${a} transport closed`),x.r_())}),D(v,_c.EventType.ERROR,L=>{T||(T=!0,$l(In,`RPC '${e}' stream ${a} transport errored. Name:`,L.name,"Message:",L.message),x.r_(new be(ue.UNAVAILABLE,"The operation could not be completed")))}),D(v,_c.EventType.MESSAGE,L=>{var O;if(!T){const C=L.data[0];bt(!!C,16349);const R=C,B=(R==null?void 0:R.error)||((O=R[0])===null||O===void 0?void 0:O.error);if(B){Te(In,`RPC '${e}' stream ${a} received error:`,B);const q=B.status;let U=function(A){const M=Xt[A];if(M!==void 0)return ox(M)}(q),j=B.message;U===void 0&&(U=ue.INTERNAL,j="Unknown error status: "+q+" with message "+B.message),T=!0,x.r_(new be(U,j)),v.close()}else Te(In,`RPC '${e}' stream ${a} received:`,C),x.i_(C)}}),D(d,xS.STAT_EVENT,L=>{L.stat===zg.PROXY?Te(In,`RPC '${e}' stream ${a} detected buffering proxy`):L.stat===zg.NOPROXY&&Te(In,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{x.n_()},0),x}}function gg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(n){return new sO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,t,r=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-r);a>0&&Te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="PersistentStream";class Ex{constructor(e,t,r,a,o,c,d,h){this.bi=e,this.R_=r,this.V_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new wx(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(ls(t.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===t&&this.B_(r,a)},r=>{e(()=>{const a=new be(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Te(EE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Te(EE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nM extends Ex{constructor(e,t,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=lO(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ge.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ge.min():c.readTime?Si(c.readTime):Ge.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=Xg(this.serializer),t.addTarget=function(o,c){let d;const h=c.target;if(d=Gg(h)?{documents:dO(o,h)}:{query:fO(o,h).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=cx(o,c.resumeToken);const p=Qg(o,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ge.min())>0){d.readTime=dh(o,c.snapshotVersion.toTimestamp());const p=Qg(o,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=mO(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=Xg(this.serializer),t.removeTarget=e,this.F_(t)}}class rM extends Ex{constructor(e,t,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=cO(e.writeResults,e.commitTime),r=Si(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=Xg(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>uO(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{}class sM extends iM{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new be(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Qo(e,Kg(t,r),a,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(ue.UNKNOWN,o.toString())})}Wo(e,t,r,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,Kg(t,r),a,c,d,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new be(ue.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class aM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ls(t),this.ea=!1):Te("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="RemoteStore";class oM{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(c=>{r.enqueueAndForget(async()=>{Ao(this)&&(Te(go,"Restarting streams for network reachability change."),await async function(h){const p=$e(h);p.aa.add(4),await nd(p),p.la.set("Unknown"),p.aa.delete(4),await qh(p)}(this))})}),this.la=new aM(r,a)}}async function qh(n){if(Ao(n))for(const e of n.ua)await e(!0)}async function nd(n){for(const e of n.ua)await e(!1)}function Tx(n,e){const t=$e(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),nv(t)?tv(t):au(t).b_()&&ev(t,e))}function Jy(n,e){const t=$e(n),r=au(t);t._a.delete(e),r.b_()&&Sx(t,e),t._a.size===0&&(r.b_()?r.v_():Ao(t)&&t.la.set("Unknown"))}function ev(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}au(n).U_(e)}function Sx(n,e){n.ha.Ke(e),au(n).K_(e)}function tv(n){n.ha=new tO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),au(n).start(),n.la.ta()}function nv(n){return Ao(n)&&!au(n).w_()&&n._a.size>0}function Ao(n){return $e(n).aa.size===0}function xx(n){n.ha=void 0}async function lM(n){n.la.set("Online")}async function uM(n){n._a.forEach((e,t)=>{ev(n,e)})}async function cM(n,e){xx(n),nv(n)?(n.la.ia(e),tv(n)):n.la.set("Unknown")}async function dM(n,e,t){if(n.la.set("Online"),e instanceof ux&&e.state===2&&e.cause)try{await async function(a,o){const c=o.cause;for(const d of o.targetIds)a._a.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a._a.delete(d),a.ha.removeTarget(d))}(n,e)}catch(r){Te(go,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hh(n,r)}else if(e instanceof qf?n.ha.Xe(e):e instanceof lx?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ge.min()))try{const r=await bx(n.localStore);t.compareTo(r)>=0&&await function(o,c){const d=o.ha.It(c);return d.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=o._a.get(p);g&&o._a.set(p,g.withResumeToken(h.resumeToken,c))}}),d.targetMismatches.forEach((h,p)=>{const g=o._a.get(h);if(!g)return;o._a.set(h,g.withResumeToken(Tn.EMPTY_BYTE_STRING,g.snapshotVersion)),Sx(o,h);const v=new sa(g.target,h,p,g.sequenceNumber);ev(o,v)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){Te(go,"Failed to raise snapshot:",r),await hh(n,r)}}async function hh(n,e,t){if(!su(e))throw e;n.aa.add(1),await nd(n),n.la.set("Offline"),t||(t=()=>bx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Te(go,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await qh(n)})}function Ax(n,e){return e().catch(t=>hh(n,t,e))}async function Hh(n){const e=$e(n),t=va(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Uy;for(;fM(e);)try{const a=await QO(e.localStore,r);if(a===null){e.oa.length===0&&t.v_();break}r=a.batchId,hM(e,a)}catch(a){await hh(e,a)}Rx(e)&&Cx(e)}function fM(n){return Ao(n)&&n.oa.length<10}function hM(n,e){n.oa.push(e);const t=va(n);t.b_()&&t.W_&&t.G_(e.mutations)}function Rx(n){return Ao(n)&&!va(n).w_()&&n.oa.length>0}function Cx(n){va(n).start()}async function mM(n){va(n).H_()}async function pM(n){const e=va(n);for(const t of n.oa)e.G_(t.mutations)}async function gM(n,e,t){const r=n.oa.shift(),a=$y.from(r,e,t);await Ax(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Hh(n)}async function yM(n,e){e&&va(n).W_&&await async function(r,a){if(function(c){return JD(c)&&c!==ue.ABORTED}(a.code)){const o=r.oa.shift();va(r).D_(),await Ax(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await Hh(r)}}(n,e),Rx(n)&&Cx(n)}async function TE(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Te(go,"RemoteStore received new credentials");const r=Ao(t);t.aa.add(3),await nd(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await qh(t)}async function vM(n,e){const t=$e(n);e?(t.aa.delete(2),await qh(t)):e||(t.aa.add(2),await nd(t),t.la.set("Unknown"))}function au(n){return n.Pa||(n.Pa=function(t,r,a){const o=$e(t);return o.Y_(),new nM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:lM.bind(null,n),Jo:uM.bind(null,n),Zo:cM.bind(null,n),Q_:dM.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),nv(n)?tv(n):n.la.set("Unknown")):(await n.Pa.stop(),xx(n))})),n.Pa}function va(n){return n.Ta||(n.Ta=function(t,r,a){const o=$e(t);return o.Y_(),new rM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:mM.bind(null,n),Zo:yM.bind(null,n),z_:pM.bind(null,n),j_:gM.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Hh(n)):(await n.Ta.stop(),n.oa.length>0&&(Te(go,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const c=Date.now()+r,d=new rv(e,t,c,a,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iv(n,e){if(ls("AsyncQueue",`${e}: ${n}`),su(n))return new be(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{static emptySet(e){return new Al(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Me.comparator(t.key,r.key):(t,r)=>Me.comparator(t.key,r.key),this.keyedMap=bc(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Al)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Al;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.Ia=new Vt(Me.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):ze(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class Zl{constructor(e,t,r,a,o,c,d,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,o){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Zl(e,t,Al.emptySet(t),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class bM{constructor(){this.queries=xE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const a=$e(t),o=a.queries;a.queries=xE(),o.forEach((c,d)=>{for(const h of d.Ra)h.onError(r)})})(this,new be(ue.ABORTED,"Firestore shutting down"))}}function xE(){return new So(n=>KS(n),kh)}async function Ix(n,e){const t=$e(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Va()&&e.ma()&&(r=2):(o=new _M,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(a,!0);break;case 1:o.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=iv(c,`Initialization of query '${vl(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&sv(t)}async function Nx(n,e){const t=$e(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const c=o.Ra.indexOf(e);c>=0&&(o.Ra.splice(c,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function wM(n,e){const t=$e(n);let r=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const d of c.Ra)d.pa(a)&&(r=!0);c.Aa=a}}r&&sv(t)}function EM(n,e,t){const r=$e(n),a=r.queries.get(e);if(a)for(const o of a.Ra)o.onError(t);r.queries.delete(e)}function sv(n){n.fa.forEach(e=>{e.next()})}var Jg,AE;(AE=Jg||(Jg={})).ya="default",AE.Cache="cache";class Dx{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Zl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Jg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.key=e}}class Mx{constructor(e){this.key=e}}class TM{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=st(),this.mutatedKeys=st(),this.Ua=YS(e),this.Ka=new Al(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new SE,a=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,v)=>{const b=a.get(g),T=jh(this.query,v)?v:null,x=!!b&&this.mutatedKeys.has(b.key),D=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let L=!1;b&&T?b.data.isEqual(T.data)?x!==D&&(r.track({type:3,doc:T}),L=!0):this.ja(b,T)||(r.track({type:2,doc:T}),L=!0,(h&&this.Ua(T,h)>0||p&&this.Ua(T,p)<0)&&(d=!0)):!b&&T?(r.track({type:0,doc:T}),L=!0):b&&!T&&(r.track({type:1,doc:b}),L=!0,(h||p)&&(d=!0)),L&&(T?(c=c.add(T),o=D?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Ka:c,za:r,ys:d,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((g,v)=>function(T,x){const D=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:L})}};return D(T)-D(x)}(g.type,v.type)||this.Ua(g.doc,v.doc)),this.Ha(r),a=a!=null&&a;const d=t&&!a?this.Ja():[],h=this.$a.size===0&&this.current&&!a?1:0,p=h!==this.Qa;return this.Qa=h,c.length!==0||p?{snapshot:new Zl(this.query,e.Ka,o,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new SE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=st(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new Mx(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new Ox(r))}),t}Xa(e){this.qa=e.Ns,this.$a=st();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Zl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const av="SyncEngine";class SM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class xM{constructor(e){this.key=e,this.tu=!1}}class AM{constructor(e,t,r,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new So(d=>KS(d),kh),this.iu=new Map,this.su=new Set,this.ou=new Vt(Me.comparator),this._u=new Map,this.au=new Yy,this.uu={},this.cu=new Map,this.lu=Wl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function RM(n,e,t=!0){const r=Ux(n);let a;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await Px(r,e,t,!0),a}async function CM(n,e){const t=Ux(n);await Px(t,e,!0,!1)}async function Px(n,e,t,r){const a=await KO(n.localStore,Ti(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let d;return r&&(d=await IM(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&Tx(n.remoteStore,a),d}async function IM(n,e,t,r,a){n.Pu=(v,b,T)=>async function(D,L,O,C){let R=L.view.Ga(O);R.ys&&(R=await vE(D.localStore,L.query,!1).then(({documents:j})=>L.view.Ga(j,R)));const B=C&&C.targetChanges.get(L.targetId),q=C&&C.targetMismatches.get(L.targetId)!=null,U=L.view.applyChanges(R,D.isPrimaryClient,B,q);return CE(D,L.targetId,U.Ya),U.snapshot}(n,v,b,T);const o=await vE(n.localStore,e,!0),c=new TM(e,o.Ns),d=c.Ga(o.documents),h=td.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=c.applyChanges(d,n.isPrimaryClient,h);CE(n,t,p.Ya);const g=new SM(e,t,c);return n.ru.set(e,g),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function NM(n,e,t){const r=$e(n),a=r.ru.get(e),o=r.iu.get(a.targetId);if(o.length>1)return r.iu.set(a.targetId,o.filter(c=>!kh(c,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Wg(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Jy(r.remoteStore,a.targetId),ey(r,a.targetId)}).catch(iu)):(ey(r,a.targetId),await Wg(r.localStore,a.targetId,!0))}async function DM(n,e){const t=$e(n),r=t.ru.get(e),a=t.iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Jy(t.remoteStore,r.targetId))}async function OM(n,e,t){const r=UM(n);try{const a=await function(c,d){const h=$e(c),p=sn.now(),g=d.reduce((T,x)=>T.add(x.key),st());let v,b;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let x=us(),D=st();return h.Cs.getEntries(T,g).next(L=>{x=L,x.forEach((O,C)=>{C.isValidDocument()||(D=D.add(O))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,x)).next(L=>{v=L;const O=[];for(const C of d){const R=KD(C,v.get(C.key).overlayedDocument);R!=null&&O.push(new xo(C.key,R,BS(R.value.mapValue),as.exists(!0)))}return h.mutationQueue.addMutationBatch(T,p,O,d)}).next(L=>{b=L;const O=L.applyToLocalDocumentSet(v,D);return h.documentOverlayCache.saveOverlays(T,L.batchId,O)})}).then(()=>({batchId:b.batchId,changes:WS(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,d,h){let p=c.uu[c.currentUser.toKey()];p||(p=new Vt(Xe)),p=p.insert(d,h),c.uu[c.currentUser.toKey()]=p}(r,a.batchId,t),await rd(r,a.changes),await Hh(r.remoteStore)}catch(a){const o=iv(a,"Failed to persist write");t.reject(o)}}async function Lx(n,e){const t=$e(n);try{const r=await GO(t.localStore,e);e.targetChanges.forEach((a,o)=>{const c=t._u.get(o);c&&(bt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.tu=!0:a.modifiedDocuments.size>0?bt(c.tu,14607):a.removedDocuments.size>0&&(bt(c.tu,42227),c.tu=!1))}),await rd(t,r,e)}catch(r){await iu(r)}}function RE(n,e,t){const r=$e(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ru.forEach((o,c)=>{const d=c.view.ga(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const h=$e(c);h.onlineState=d;let p=!1;h.queries.forEach((g,v)=>{for(const b of v.Ra)b.ga(d)&&(p=!0)}),p&&sv(h)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function MM(n,e,t){const r=$e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r._u.get(e),o=a&&a.key;if(o){let c=new Vt(Me.comparator);c=c.insert(o,On.newNoDocument(o,Ge.min()));const d=st().add(o),h=new Bh(Ge.min(),new Map,new Vt(Xe),c,d);await Lx(r,h),r.ou=r.ou.remove(o),r._u.delete(e),ov(r)}else await Wg(r.localStore,e,!1).then(()=>ey(r,e,t)).catch(iu)}async function PM(n,e){const t=$e(n),r=e.batch.batchId;try{const a=await HO(t.localStore,e);kx(t,r,null),Vx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await rd(t,a)}catch(a){await iu(a)}}async function LM(n,e,t){const r=$e(n);try{const a=await function(c,d){const h=$e(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,d).next(v=>(bt(v!==null,37113),g=v.keys(),h.mutationQueue.removeMutationBatch(p,v))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);kx(r,e,t),Vx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await rd(r,a)}catch(a){await iu(a)}}function Vx(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function kx(n,e,t){const r=$e(n);let a=r.uu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function ey(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||jx(n,r)})}function jx(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Jy(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),ov(n))}function CE(n,e,t){for(const r of t)r instanceof Ox?(n.au.addReference(r.key,e),VM(n,r)):r instanceof Mx?(Te(av,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||jx(n,r.key)):ze(19791,{Iu:r})}function VM(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Te(av,"New document in limbo: "+t),n.su.add(r),ov(n))}function ov(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Me(Dt.fromString(e)),r=n.lu.next();n._u.set(r,new xM(t)),n.ou=n.ou.insert(t,r),Tx(n.remoteStore,new sa(Ti(qy(t.path)),r,"TargetPurposeLimboResolution",Mh.le))}}async function rd(n,e,t){const r=$e(n),a=[],o=[],c=[];r.ru.isEmpty()||(r.ru.forEach((d,h)=>{c.push(r.Pu(h,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){a.push(p);const v=Wy.Ps(h.targetId,p);o.push(v)}}))}),await Promise.all(c),r.nu.Q_(a),await async function(h,p){const g=$e(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>he.forEach(p,b=>he.forEach(b.ls,T=>g.persistence.referenceDelegate.addReference(v,b.targetId,T)).next(()=>he.forEach(b.hs,T=>g.persistence.referenceDelegate.removeReference(v,b.targetId,T)))))}catch(v){if(!su(v))throw v;Te(Zy,"Failed to update sequence numbers: "+v)}for(const v of p){const b=v.targetId;if(!v.fromCache){const T=g.Ss.get(b),x=T.snapshotVersion,D=T.withLastLimboFreeSnapshotVersion(x);g.Ss=g.Ss.insert(b,D)}}}(r.localStore,o))}async function kM(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Te(av,"User change. New user:",e.toKey());const r=await _x(t.localStore,e);t.currentUser=e,function(o,c){o.cu.forEach(d=>{d.forEach(h=>{h.reject(new be(ue.CANCELLED,c))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rd(t,r.Ms)}}function jM(n,e){const t=$e(n),r=t._u.get(e);if(r&&r.tu)return st().add(r.key);{let a=st();const o=t.iu.get(e);if(!o)return a;for(const c of o){const d=t.ru.get(c);a=a.unionWith(d.view.Wa)}return a}}function Ux(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MM.bind(null,e),e.nu.Q_=wM.bind(null,e.eventManager),e.nu.Tu=EM.bind(null,e.eventManager),e}function UM(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LM.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return qO(this.persistence,new zO,e.initialUser,this.serializer)}Ru(e){return new vx(Xy.Ei,this.serializer)}Au(e){return new XO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class zM extends mh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){bt(this.persistence.referenceDelegate instanceof fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xO(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new vx(r=>fh.Ei(r,t),this.serializer)}}class ty{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kM.bind(null,this.syncEngine),await vM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bM}()}createDatastore(e){const t=Fh(e.databaseInfo.databaseId),r=function(o){return new tM(o)}(e.databaseInfo);return function(o,c,d,h){return new sM(o,c,d,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,c,d){return new oM(r,a,o,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>RE(this.syncEngine,t,0),function(){return wE.C()?new wE:new WO}())}createSyncEngine(e,t){return function(a,o,c,d,h,p,g){const v=new AM(a,o,c,d,h,p);return g&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=$e(a);Te(go,"RemoteStore shutting down."),o.aa.add(5),await nd(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ty.provider={build:()=>new ty};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="FirestoreClient";class BM{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Dn.UNAUTHENTICATED,this.clientId=DS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{Te(_a,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(Te(_a,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=iv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yg(n,e){n.asyncQueue.verifyOperationInProgress(),Te(_a,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await _x(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function IE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await FM(n);Te(_a,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>TE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>TE(e.remoteStore,a)),n._onlineComponents=e}async function FM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(_a,"Using user provided OfflineComponentProvider");try{await yg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;$l("Error using user provided cache. Falling back to memory cache: "+t),await yg(n,new mh)}}else Te(_a,"Using default OfflineComponentProvider"),await yg(n,new zM(void 0));return n._offlineComponents}async function Bx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(_a,"Using user provided OnlineComponentProvider"),await IE(n,n._uninitializedComponentsProvider._online)):(Te(_a,"Using default OnlineComponentProvider"),await IE(n,new ty))),n._onlineComponents}function qM(n){return Bx(n).then(e=>e.syncEngine)}async function Fx(n){const e=await Bx(n),t=e.eventManager;return t.onListen=RM.bind(null,e.syncEngine),t.onUnlisten=NM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=CM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=DM.bind(null,e.syncEngine),t}function HM(n,e,t={}){const r=new ss;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,d,h,p){const g=new zx({next:b=>{g.yu(),c.enqueueAndForget(()=>Nx(o,v));const T=b.docs.has(d);!T&&b.fromCache?p.reject(new be(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&b.fromCache&&h&&h.source==="server"?p.reject(new be(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),v=new Dx(qy(d.path),g,{includeMetadataChanges:!0,Fa:!0});return Ix(o,v)}(await Fx(n),n.asyncQueue,e,t,r)),r.promise}function GM(n,e,t={}){const r=new ss;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,d,h,p){const g=new zx({next:b=>{g.yu(),c.enqueueAndForget(()=>Nx(o,v)),b.fromCache&&h.source==="server"?p.reject(new be(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),v=new Dx(d,g,{includeMetadataChanges:!0,Fa:!0});return Ix(o,v)}(await Fx(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(n,e,t){if(!t)throw new be(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $M(n,e,t,r){if(e===!0&&r===!0)throw new be(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function DE(n){if(!Me.isDocumentKey(n))throw new be(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function OE(n){if(Me.isDocumentKey(n))throw new be(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Gh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ze(12329,{type:typeof n})}function yo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Gh(n);throw new be(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="firestore.googleapis.com",ME=!0;class PE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gx,this.ssl=ME}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ME;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TO)throw new be(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$M("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new JN;switch(r.type){case"firstParty":return new rD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=NE.get(t);r&&(Te("ComponentProvider","Removing Datastore"),NE.delete(t),r.terminate())}(this),Promise.resolve()}}function QM(n,e,t,r={}){var a;const o=(n=yo(n,$h))._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;o.host!==Gx&&o.host!==d&&$l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:d,ssl:!1,emulatorOptions:r});if(!ho(h,c)&&(n._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Dn.MOCK_USER;else{p=C2(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new be(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Dn(v)}n._authCredentials=new eD(new IS(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro=class $x{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $x(this.firestore,e,this._query)}};class Zn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class da extends Ro{constructor(e,t,r){super(e,t,qy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new Me(e))}withConverter(e){return new da(this.firestore,e,this._path)}}function cs(n,e,...t){if(n=Pn(n),Hx("collection","path",e),n instanceof $h){const r=Dt.fromString(e,...t);return OE(r),new da(n,null,r)}{if(!(n instanceof Zn||n instanceof da))throw new be(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Dt.fromString(e,...t));return OE(r),new da(n.firestore,null,r)}}function Qx(n,e,...t){if(n=Pn(n),arguments.length===1&&(e=DS.newId()),Hx("doc","path",e),n instanceof $h){const r=Dt.fromString(e,...t);return DE(r),new Zn(n,null,new Me(r))}{if(!(n instanceof Zn||n instanceof da))throw new be(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Dt.fromString(e,...t));return DE(r),new Zn(n.firestore,n instanceof da?n.converter:null,new Me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="AsyncQueue";class VE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new wx(this,"async_queue_retry"),this.ju=()=>{const r=gg();r&&Te(LE,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=gg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=gg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new ss;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!su(e))throw e;Te(LE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,ls("INTERNAL UNHANDLED ERROR: ",kE(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=rv.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&ze(47125,{ec:kE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function kE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Qh extends $h{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new VE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VE(e),this._firestoreClient=void 0,await e}}}function KM(n,e){const t=typeof n=="object"?n:_S(),r=typeof n=="string"?n:ah,a=ky(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=A2("firestore");o&&QM(a,...o)}return a}function lv(n){if(n._terminated)throw new be(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||YM(n),n._firestoreClient}function YM(n){var e,t,r;const a=n._freezeSettings(),o=function(d,h,p,g){return new vD(d,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,qx(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new BM(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jl(Tn.fromBase64String(e))}catch(t){throw new be(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jl(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=/^__.*__$/;class WM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new xo(e,this.data,this.fieldMask,t,this.fieldTransforms):new ed(e,this.data,t,this.fieldTransforms)}}function Kx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{oc:n})}}class hv{constructor(e,t,r,a,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new hv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return ph(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Kx(this.oc)&&XM.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class ZM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Fh(e)}dc(e,t,r,a=!1){return new hv({oc:e,methodName:t,Ec:r,path:En.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mv(n){const e=n._freezeSettings(),t=Fh(n._databaseId);return new ZM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function JM(n,e,t,r,a,o={}){const c=n.dc(o.merge||o.mergeFields?2:0,e,t,a);Zx("Data must be an object, but it was:",c,r);const d=Xx(r,c);let h,p;if(o.merge)h=new Hr(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const b=eP(e,v,t);if(!c.contains(b))throw new be(ue.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);nP(g,b)||g.push(b)}h=new Hr(g),p=c.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,p=c.fieldTransforms;return new WM(new Or(d),h,p)}class pv extends cv{_toFieldTransform(e){return new HD(e.path,new jc)}isEqual(e){return e instanceof pv}}function Yx(n,e,t,r=!1){return gv(t,n.dc(r?4:3,e))}function gv(n,e){if(Wx(n=Pn(n)))return Zx("Unsupported field value:",e,n),Xx(n,e);if(n instanceof cv)return function(r,a){if(!Kx(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const o=[];let c=0;for(const d of r){let h=gv(d,a.Pc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=Pn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BD(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=sn.fromDate(r);return{timestampValue:dh(a.serializer,o)}}if(r instanceof sn){const o=new sn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dh(a.serializer,o)}}if(r instanceof dv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jl)return{bytesValue:cx(a.serializer,r._byteString)};if(r instanceof Zn){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ky(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof fv)return function(c,d){return{mapValue:{fields:{[US]:{stringValue:zS},[oh]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Tc("VectorValues must only contain numeric values.");return Gy(d.serializer,p)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${Gh(r)}`)}(n,e)}function Xx(n,e){const t={};return MS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Eo(n,(r,a)=>{const o=gv(a,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Wx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof sn||n instanceof dv||n instanceof Jl||n instanceof Zn||n instanceof cv||n instanceof fv)}function Zx(n,e,t){if(!Wx(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=Gh(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function eP(n,e,t){if((e=Pn(e))instanceof uv)return e._internalPath;if(typeof e=="string")return Jx(n,e);throw ph("Field path arguments must be of type string or ",n,!1,void 0,t)}const tP=new RegExp("[~\\*/\\[\\]]");function Jx(n,e,t){if(e.search(tP)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uv(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ph(n,e,t,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new be(ue.INVALID_ARGUMENT,d+n+h)}function nP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rP extends yv{data(){return super.data()}}function Kh(n,e){return typeof e=="string"?Jx(n,e):e instanceof uv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new be(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vv{}class Yh extends vv{}function eu(n,e,...t){let r=[];e instanceof vv&&r.push(e),r=r.concat(t),function(o){const c=o.filter(h=>h instanceof _v).length,d=o.filter(h=>h instanceof Xh).length;if(c>1||c>0&&d>0)throw new be(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class Xh extends Yh{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Xh(e,t,r)}_apply(e){const t=this._parse(e);return t1(e._query,t),new Ro(e.firestore,e.converter,$g(e._query,t))}_parse(e){const t=mv(e.firestore);return function(o,c,d,h,p,g,v){let b;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new be(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){UE(v,g);const x=[];for(const D of v)x.push(jE(h,o,D));b={arrayValue:{values:x}}}else b=jE(h,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||UE(v,g),b=Yx(d,c,v,g==="in"||g==="not-in");return Wt.create(p,g,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function no(n,e,t){const r=e,a=Kh("where",n);return Xh._create(a,r,t)}class _v extends vv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _v(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Kr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let c=a;const d=o.getFlattenedFilters();for(const h of d)t1(c,h),c=$g(c,h)}(e._query,t),new Ro(e.firestore,e.converter,$g(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bv extends Yh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bv(e,t)}_apply(e){const t=function(a,o,c){if(a.startAt!==null)throw new be(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new be(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kc(o,c)}(e._query,this._field,this._direction);return new Ro(e.firestore,e.converter,function(a,o){const c=a.explicitOrderBy.concat([o]);return new To(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function sP(n,e="asc"){const t=e,r=Kh("orderBy",n);return bv._create(r,t)}class wv extends Yh{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new wv(e,t,r)}_apply(e){return new Ro(e.firestore,e.converter,uh(e._query,this._limit,this._limitType))}}function gh(n){return wv._create("limit",n,"F")}class Ev extends Yh{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ev(e,t,r)}_apply(e){const t=aP(e,this.type,this._docOrFields,this._inclusive);return new Ro(e.firestore,e.converter,function(a,o){return new To(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)}(e._query,t))}}function e1(...n){return Ev._create("startAfter",n,!1)}function aP(n,e,t,r){if(t[0]=Pn(t[0]),t[0]instanceof yv)return function(o,c,d,h,p){if(!h)throw new be(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const g=[];for(const v of xl(o))if(v.field.isKeyField())g.push(lh(c,h.key));else{const b=h.data.field(v.field);if(Lh(b))throw new be(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){const T=v.field.canonicalString();throw new be(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(b)}return new Xl(g,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=mv(n.firestore);return function(c,d,h,p,g,v){const b=c.explicitOrderBy;if(g.length>b.length)throw new be(ue.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let x=0;x<g.length;x++){const D=g[x];if(b[x].field.isKeyField()){if(typeof D!="string")throw new be(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof D}`);if(!Hy(c)&&D.indexOf("/")!==-1)throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${D}' contains a slash.`);const L=c.path.child(Dt.fromString(D));if(!Me.isDocumentKey(L))throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${L}' is not because it contains an odd number of segments.`);const O=new Me(L);T.push(lh(d,O))}else{const L=Yx(h,p,D);T.push(L)}}return new Xl(T,v)}(n._query,n.firestore._databaseId,a,e,t,r)}}function jE(n,e,t){if(typeof(t=Pn(t))=="string"){if(t==="")throw new be(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hy(e)&&t.indexOf("/")!==-1)throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Dt.fromString(t));if(!Me.isDocumentKey(r))throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lh(n,new Me(r))}if(t instanceof Zn)return lh(n,t._key);throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(t)}.`)}function UE(n,e){if(!Array.isArray(n)||n.length===0)throw new be(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t1(n,e){const t=function(a,o){for(const c of a)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new be(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class oP{convertValue(e,t="none"){switch(ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Eo(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[oh].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>Ft(c.doubleValue));return new fv(o)}convertGeoPoint(e){return new dv(Ft(e.latitude),Ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Vh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pc(e));default:return null}}convertTimestamp(e){const t=pa(e);return new sn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Dt.fromString(e);bt(gx(r),9688,{name:e});const a=new Lc(r.get(1),r.get(3)),o=new Me(r.popFirst(5));return a.isEqual(t)||ls(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class n1 extends yv{constructor(e,t,r,a,o,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Kh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Hf extends n1{data(e={}){return super.data(e)}}class uP{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ec(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Hf(this._firestore,this._userDataWriter,r.key,r,new Ec(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const h=new Hf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ec(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const h=new Hf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ec(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,g=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:cP(d.type),doc:h,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(n){n=yo(n,Zn);const e=yo(n.firestore,Qh);return HM(lv(e),n._key).then(t=>hP(e,n,t))}class r1 extends oP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}function Co(n){n=yo(n,Ro);const e=yo(n.firestore,Qh),t=lv(e),r=new r1(e);return iP(n._query),GM(t,n._query).then(a=>new uP(e,r,n,a))}function i1(n,e,t){n=yo(n,Zn);const r=yo(n.firestore,Qh),a=lP(n.converter,e,t);return fP(r,[JM(mv(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,as.none())])}function fP(n,e){return function(r,a){const o=new ss;return r.asyncQueue.enqueueAndForget(async()=>OM(await qM(r),a,o)),o.promise}(lv(n),e)}function hP(n,e,t){const r=t.docs.get(e._key),a=new r1(n);return new n1(n,a,e._key,r,new Ec(t.hasPendingWrites,t.fromCache),e.converter)}function mP(){return new pv("serverTimestamp")}(function(e,t=!0){(function(a){ru=a})(nu),Gl(new mo("firestore",(r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new Qh(new tD(r.getProvider("auth-internal")),new iD(c,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new be(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(p.options.projectId,g)}(c,a),c);return o=Object.assign({useFetchStreams:t},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),ua(Fw,qw,e),ua(Fw,qw,"esm2017")})();var pP="firebase",gP="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ua(pP,gP,"app");function Tv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function s1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yP=s1,a1=new Zc("auth","Firebase",s1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Ly("@firebase/auth");function vP(n,...e){yh.logLevel<=it.WARN&&yh.warn(`Auth (${nu}): ${n}`,...e)}function Gf(n,...e){yh.logLevel<=it.ERROR&&yh.error(`Auth (${nu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(n,...e){throw Sv(n,...e)}function xi(n,...e){return Sv(n,...e)}function o1(n,e,t){const r=Object.assign(Object.assign({},yP()),{[e]:t});return new Zc("auth","Firebase",r).create(e,{appName:n.name})}function fa(n){return o1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return a1.create(n,...e)}function Ue(n,e,...t){if(!n)throw Sv(e,...t)}function rs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Gf(e),new Error(e)}function ds(n,e){n||rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function _P(){return zE()==="http:"||zE()==="https:"}function zE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_P()||O2()||"connection"in navigator)?navigator.onLine:!0}function wP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t){this.shortDelay=e,this.longDelay=t,ds(t>e,"Short delay should be less than long delay!"),this.isMobile=I2()||M2()}get(){return bP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(n,e){ds(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SP=new id(3e4,6e4);function Io(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ea(n,e,t,r,a={}){return u1(n,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=Jc(Object.assign({key:n.config.apiKey},c)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},o);return D2()||(p.referrerPolicy="no-referrer"),l1.fetch()(await c1(n,n.config.apiHost,t,d),p)})}async function u1(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},EP),e);try{const a=new AP(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Mf(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mf(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Mf(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw Mf(n,"user-disabled",c);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw o1(n,g,p);Yr(n,g)}}catch(a){if(a instanceof fs)throw a;Yr(n,"network-request-failed",{message:String(a)})}}async function Wh(n,e,t,r,a={}){const o=await Ea(n,e,t,r,a);return"mfaPendingCredential"in o&&Yr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function c1(n,e,t,r){const a=`${e}${t}?${r}`,o=n,c=o.config.emulator?xv(n.config,a):`${n.config.apiScheme}://${a}`;return TP.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function xP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),SP.get())})}}function Mf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=xi(n,e,r);return a.customData._tokenResponse=t,a}function BE(n){return n!==void 0&&n.enterprise!==void 0}class RP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return xP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CP(n,e){return Ea(n,"GET","/v2/recaptchaConfig",Io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(n,e){return Ea(n,"POST","/v1/accounts:delete",e)}async function vh(n,e){return Ea(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NP(n,e=!1){const t=Pn(n),r=await t.getIdToken(e),a=Av(r);Ue(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:Cc(vg(a.auth_time)),issuedAtTime:Cc(vg(a.iat)),expirationTime:Cc(vg(a.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function vg(n){return Number(n)*1e3}function Av(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Gf("JWT malformed, contained fewer than 3 sections"),null;try{const a=fS(t);return a?JSON.parse(a):(Gf("Failed to decode base64 JWT payload"),null)}catch(a){return Gf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function FE(n){const e=Av(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof fs&&DP(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function DP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _h(n){var e;const t=n.auth,r=await n.getIdToken(),a=await Bc(n,vh(t,{idToken:r}));Ue(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?d1(o.providerUserInfo):[],d=PP(n.providerData,c),h=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(d!=null&&d.length),g=h?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new ry(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function MP(n){const e=Pn(n);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PP(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function d1(n){return n.map(e=>{var{providerId:t}=e,r=Tv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(n,e){const t=await u1(n,{},async()=>{const r=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await c1(n,a,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",l1.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function VP(n,e){return Ea(n,"POST","/v2/accounts:revokeToken",Io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=FE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await LP(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,c=new Rl;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Ue(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Ue(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rl,this.toJSON())}_performRefresh(){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Gr{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,o=Tv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ry(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Bc(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return NP(this,e)}reload(){return MP(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await _h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qr(this.auth.app))return Promise.reject(fa(this.auth));const e=await this.getIdToken();return await Bc(this,IP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,o,c,d,h,p,g;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,x=(c=t.photoURL)!==null&&c!==void 0?c:void 0,D=(d=t.tenantId)!==null&&d!==void 0?d:void 0,L=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,O=(p=t.createdAt)!==null&&p!==void 0?p:void 0,C=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:R,emailVerified:B,isAnonymous:q,providerData:U,stsTokenManager:j}=t;Ue(R&&j,e,"internal-error");const I=Rl.fromJSON(this.name,j);Ue(typeof R=="string",e,"internal-error"),qs(v,e.name),qs(b,e.name),Ue(typeof B=="boolean",e,"internal-error"),Ue(typeof q=="boolean",e,"internal-error"),qs(T,e.name),qs(x,e.name),qs(D,e.name),qs(L,e.name),qs(O,e.name),qs(C,e.name);const A=new Gr({uid:R,auth:e,email:b,emailVerified:B,displayName:v,isAnonymous:q,photoURL:x,phoneNumber:T,tenantId:D,stsTokenManager:I,createdAt:O,lastLoginAt:C});return U&&Array.isArray(U)&&(A.providerData=U.map(M=>Object.assign({},M))),L&&(A._redirectEventId=L),A}static async _fromIdTokenResponse(e,t,r=!1){const a=new Rl;a.updateFromServerResponse(t);const o=new Gr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await _h(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Ue(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?d1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),d=new Rl;d.updateFromIdToken(r);const h=new Gr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new ry(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=new Map;function is(n){ds(n instanceof Function,"Expected a class definition");let e=qE.get(n);return e?(ds(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}f1.type="NONE";const HE=f1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(n,e,t){return`firebase:${n}:${e}:${t}`}class Cl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=$f(this.userKey,a.apiKey,o),this.fullPersistenceKey=$f("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await vh(this.auth,{idToken:e}).catch(()=>{});return t?Gr._fromGetAccountInfoResponse(this.auth,t,e):null}return Gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Cl(is(HE),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||is(HE);const c=$f(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const g=await p._get(c);if(g){let v;if(typeof g=="string"){const b=await vh(e,{idToken:g}).catch(()=>{});if(!b)break;v=await Gr._fromGetAccountInfoResponse(e,b,g)}else v=Gr._fromJSON(e,g);p!==o&&(d=v),o=p;break}}catch{}const h=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Cl(o,e,r):(o=h[0],d&&await o._set(c,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new Cl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(g1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v1(e))return"Blackberry";if(_1(e))return"Webos";if(m1(e))return"Safari";if((e.includes("chrome/")||p1(e))&&!e.includes("edge/"))return"Chrome";if(y1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function h1(n=Mn()){return/firefox\//i.test(n)}function m1(n=Mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function p1(n=Mn()){return/crios\//i.test(n)}function g1(n=Mn()){return/iemobile/i.test(n)}function y1(n=Mn()){return/android/i.test(n)}function v1(n=Mn()){return/blackberry/i.test(n)}function _1(n=Mn()){return/webos/i.test(n)}function Rv(n=Mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kP(n=Mn()){var e;return Rv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jP(){return P2()&&document.documentMode===10}function b1(n=Mn()){return Rv(n)||y1(n)||_1(n)||v1(n)||/windows phone/i.test(n)||g1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(n,e=[]){let t;switch(n){case"Browser":t=GE(Mn());break;case"Worker":t=`${GE(Mn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${nu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,d)=>{try{const h=e(o);c(h)}catch(h){d(h)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(n,e={}){return Ea(n,"GET","/v2/passwordPolicy",Io(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=6;class FP{constructor(e){var t,r,a,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:BP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,o,c,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(a=h.containsLowercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $E(this),this.idTokenSubscription=new $E(this),this.beforeStateQueue=new UP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=is(t)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await Cl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await vh(this,{idToken:e}),r=await Gr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(qr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&(h!=null&&h.user)&&(a=h.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qr(this.app))return Promise.reject(fa(this));const t=e?Pn(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qr(this.app)?Promise.reject(fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qr(this.app)?Promise.reject(fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zP(this),t=new FP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await VP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&is(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[is(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&vP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ou(n){return Pn(n)}class $E{constructor(e){this.auth=e,this.observer=null,this.addObserver=F2(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HP(n){Zh=n}function E1(n){return Zh.loadJS(n)}function GP(){return Zh.recaptchaEnterpriseScript}function $P(){return Zh.gapiScript}function QP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class KP{constructor(){this.enterprise=new YP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class YP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const XP="recaptcha-enterprise",T1="NO_RECAPTCHA";class WP{constructor(e){this.type=XP,this.auth=ou(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{CP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new RP(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(h=>{d(h)})})}function a(o,c,d){const h=window.grecaptcha;BE(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c(T1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KP().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(d=>{if(!t&&BE(window.grecaptcha))a(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=GP();h.length!==0&&(h+=d),E1(h).then(()=>{a(d,o,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function QE(n,e,t,r=!1,a=!1){const o=new WP(n);let c;if(a)c=T1;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function KE(n,e,t,r,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await QE(n,e,t,t==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await QE(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(n,e){const t=ky(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(ho(o,e??{}))return a;Yr(a,"already-initialized")}return t.initialize({options:e})}function JP(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(is);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function e4(n,e,t){const r=ou(n);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=S1(e),{host:c,port:d}=t4(e),h=d===null?"":`:${d}`,p={url:`${o}//${c}${h}/`},g=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(ho(p,r.config.emulator)&&ho(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,n4()}function S1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function t4(n){const e=S1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:YE(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:YE(c)}}}function YE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function n4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,t){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function r4(n,e){return Ea(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(n,e){return Wh(n,"POST","/v1/accounts:signInWithPassword",Io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(n,e){return Wh(n,"POST","/v1/accounts:signInWithEmailLink",Io(n,e))}async function a4(n,e){return Wh(n,"POST","/v1/accounts:signInWithEmailLink",Io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends Cv{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Fc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Fc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return KE(e,t,"signInWithPassword",i4);case"emailLink":return s4(e,{email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return KE(e,r,"signUpPassword",r4);case"emailLink":return a4(e,{idToken:t,email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(n,e){return Wh(n,"POST","/v1/accounts:signInWithIdp",Io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="http://localhost";class vo extends Cv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,o=Tv(t,["providerId","signInMethod"]);if(!r||!a)return null;const c=new vo(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Il(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Il(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Il(e,t)}buildRequest(){const e={requestUri:o4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u4(n){const e=yc(vc(n)).link,t=e?yc(vc(e)).deep_link_id:null,r=yc(vc(n)).deep_link_id;return(r?yc(vc(r)).link:null)||r||t||e||n}class Iv{constructor(e){var t,r,a,o,c,d;const h=yc(vc(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,v=l4((a=h.mode)!==null&&a!==void 0?a:null);Ue(p&&g&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=h.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=u4(e);try{return new Iv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(){this.providerId=lu.PROVIDER_ID}static credential(e,t){return Fc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Iv.parseLink(t);return Ue(r,"argument-error"),Fc._fromEmailAndCode(e,r.code,r.tenantId)}}lu.PROVIDER_ID="password";lu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends x1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends sd{constructor(){super("facebook.com")}static credential(e){return vo._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends sd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return vo._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ks.credential(t,r)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends sd{constructor(){super("github.com")}static credential(e){return vo._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends sd{constructor(){super("twitter.com")}static credential(e,t){return vo._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Xs.credential(t,r)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await Gr._fromIdTokenResponse(e,r,a),c=XE(r);return new tu({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=XE(r);return new tu({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function XE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends fs{constructor(e,t,r,a){var o;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new bh(e,t,r,a)}}function A1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(n,o,e,r):o})}async function c4(n,e,t=!1){const r=await Bc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return tu._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(n,e,t=!1){const{auth:r}=n;if(qr(r.app))return Promise.reject(fa(r));const a="reauthenticate";try{const o=await Bc(n,A1(r,a,e,n),t);Ue(o.idToken,r,"internal-error");const c=Av(o.idToken);Ue(c,r,"internal-error");const{sub:d}=c;return Ue(n.uid===d,r,"user-mismatch"),tu._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Yr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(n,e,t=!1){if(qr(n.app))return Promise.reject(fa(n));const r="signIn",a=await A1(n,r,e),o=await tu._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function f4(n,e){return R1(ou(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(n){const e=ou(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function m4(n,e,t){return qr(n.app)?Promise.reject(fa(n)):f4(Pn(n),lu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&h4(n),r})}function p4(n,e,t,r){return Pn(n).onIdTokenChanged(e,t,r)}function g4(n,e,t){return Pn(n).beforeAuthStateChanged(e,t)}function y4(n,e,t,r){return Pn(n).onAuthStateChanged(e,t,r)}function v4(n){return Pn(n).signOut()}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=1e3,b4=10;class I1 extends C1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);jP()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,b4):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},_4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}I1.type="LOCAL";const w4=I1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1 extends C1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}N1.type="SESSION";const D1=N1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Jh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async p=>p(t.origin,o)),h=await E4(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((d,h)=>{const p=Nv("",20);a.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(v){const b=v;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(b.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function S4(n){Ai().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function x4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function R4(){return O1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="firebaseLocalStorageDb",C4=1,Eh="firebaseLocalStorage",P1="fbase_key";class ad{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function em(n,e){return n.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function I4(){const n=indexedDB.deleteDatabase(M1);return new ad(n).toPromise()}function iy(){const n=indexedDB.open(M1,C4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Eh,{keyPath:P1})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Eh)?e(r):(r.close(),await I4(),e(await iy()))})})}async function WE(n,e,t){const r=em(n,!0).put({[P1]:e,value:t});return new ad(r).toPromise()}async function N4(n,e){const t=em(n,!1).get(e),r=await new ad(t).toPromise();return r===void 0?null:r.value}function ZE(n,e){const t=em(n,!0).delete(e);return new ad(t).toPromise()}const D4=800,O4=3;class L1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>O4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(R4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await x4(),!this.activeServiceWorker)return;this.sender=new T4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iy();return await WE(e,wh,"1"),await ZE(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>WE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>N4(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ZE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=em(a,!1).getAll();return new ad(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L1.type="LOCAL";const M4=L1;new id(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(n,e){return e?is(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv extends Cv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Il(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Il(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Il(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function L4(n){return R1(n.auth,new Dv(n),n.bypassAuthState)}function V4(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),d4(t,new Dv(n),n.bypassAuthState)}async function k4(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),c4(t,new Dv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L4;case"linkViaPopup":case"linkViaRedirect":return k4;case"reauthViaPopup":case"reauthViaRedirect":return V4;default:Yr(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=new id(2e3,1e4);class wl extends V1{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,wl.currentPopupAction&&wl.currentPopupAction.cancel(),wl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=Nv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j4.get())};e()}}wl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="pendingRedirect",Qf=new Map;class z4 extends V1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Qf.get(this.auth._key());if(!e){try{const r=await B4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Qf.set(this.auth._key(),e)}return this.bypassAuthState||Qf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B4(n,e){const t=H4(e),r=q4(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function F4(n,e){Qf.set(n._key(),e)}function q4(n){return is(n._redirectPersistence)}function H4(n){return $f(U4,n.config.apiKey,n.name)}async function G4(n,e,t=!1){if(qr(n.app))return Promise.reject(fa(n));const r=ou(n),a=P4(r,e),c=await new z4(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=10*60*1e3;class Q4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!k1(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(xi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$4&&this.cachedEventUids.clear(),this.cachedEventUids.has(JE(e))}saveEventToCache(e){this.cachedEventUids.add(JE(e)),this.lastProcessedEventTime=Date.now()}}function JE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function k1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function K4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(n,e={}){return Ea(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W4=/^https?/;async function Z4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Y4(n);for(const t of e)try{if(J4(t))return}catch{}Yr(n,"unauthorized-domain")}function J4(n){const e=ny(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!W4.test(t))return!1;if(X4.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=new id(3e4,6e4);function eT(){const n=Ai().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function tL(n){return new Promise((e,t)=>{var r,a,o;function c(){eT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eT(),t(xi(n,"network-request-failed"))},timeout:eL.get()})}if(!((a=(r=Ai().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Ai().gapi)===null||o===void 0)&&o.load)c();else{const d=QP("iframefcb");return Ai()[d]=()=>{gapi.load?c():t(xi(n,"network-request-failed"))},E1(`${$P()}?onload=${d}`).catch(h=>t(h))}}).catch(e=>{throw Kf=null,e})}let Kf=null;function nL(n){return Kf=Kf||tL(n),Kf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=new id(5e3,15e3),iL="__/auth/iframe",sL="emulator/auth/iframe",aL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lL(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?xv(e,sL):`https://${n.config.authDomain}/${iL}`,r={apiKey:e.apiKey,appName:n.name,v:nu},a=oL.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Jc(r).slice(1)}`}async function uL(n){const e=await nL(n),t=Ai().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:lL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aL,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=xi(n,"network-request-failed"),d=Ai().setTimeout(()=>{o(c)},rL.get());function h(){Ai().clearTimeout(d),a(r)}r.ping(h).then(h,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dL=500,fL=600,hL="_blank",mL="http://localhost";class tT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pL(n,e,t,r=dL,a=fL){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},cL),{width:r.toString(),height:a.toString(),top:o,left:c}),p=Mn().toLowerCase();t&&(d=p1(p)?hL:t),h1(p)&&(e=e||mL,h.scrollbars="yes");const g=Object.entries(h).reduce((b,[T,x])=>`${b}${T}=${x},`,"");if(kP(p)&&d!=="_self")return gL(e||"",d),new tT(null);const v=window.open(e||"",d,g);Ue(v,n,"popup-blocked");try{v.focus()}catch{}return new tT(v)}function gL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="__/auth/handler",vL="emulator/auth/handler",_L=encodeURIComponent("fac");async function nT(n,e,t,r,a,o){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:nu,eventId:a};if(e instanceof x1){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",B2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))c[g]=v}if(e instanceof sd){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await n._getAppCheckToken(),p=h?`#${_L}=${encodeURIComponent(h)}`:"";return`${bL(n)}?${Jc(d).slice(1)}${p}`}function bL({config:n}){return n.emulator?xv(n,vL):`https://${n.authDomain}/${yL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="webStorageSupport";class wL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D1,this._completeRedirectFn=G4,this._overrideRedirectResult=F4}async _openPopup(e,t,r,a){var o;ds((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await nT(e,t,r,ny(),a);return pL(e,c,Nv())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await nT(e,t,r,ny(),a);return S4(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(ds(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await uL(e),r=new Q4(e);return t.register("authEvent",a=>(Ue(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_g,{type:_g},a=>{var o;const c=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[_g];c!==void 0&&t(!!c),Yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Z4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return b1()||m1()||Rv()}}const EL=wL;var rT="@firebase/auth",iT="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xL(n){Gl(new mo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Ue(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w1(n)},p=new qP(r,a,o,h);return JP(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Gl(new mo("auth-internal",e=>{const t=ou(e.getProvider("auth").getImmediate());return(r=>new TL(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ua(rT,iT,SL(n)),ua(rT,iT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=5*60,RL=pS("authIdTokenMaxAge")||AL;let sT=null;const CL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>RL)return;const a=t==null?void 0:t.token;sT!==a&&(sT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function IL(n=_S()){const e=ky(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ZP(n,{popupRedirectResolver:EL,persistence:[M4,w4,D1]}),r=pS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=CL(o.toString());g4(t,c,()=>c(t.currentUser)),p4(t,d=>c(d))}}const a=hS("auth");return a&&e4(t,`http://${a}`),t}function NL(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}HP({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=xi("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",NL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xL("Browser");const DL={apiKey:"AIzaSyClBJkB2VNBvPDMjxJ49yrv8OluDiOqbPI",authDomain:"mahira-collection.firebaseapp.com",projectId:"mahira-collection",storageBucket:"mahira-collection.firebasestorage.app",messagingSenderId:"849673617672",appId:"1:849673617672:web:beeb003de0c8e64a072cbd"},OL=vS(DL),bg=IL(),Xr=KM(OL),ML=()=>{const[n,e]=Q.useState([]);return Q.useEffect(()=>{(async()=>{try{const r=await Co(cs(Xr,"headline")),a=[];r.forEach(o=>{const c=o.data();c.news&&a.push(c.news)}),e(a)}catch(r){console.error("Error fetching headlines:",r)}})()},[]),w.jsxs("div",{className:"w-[100%] md:w-[75%] mx-auto py-0 md:py-4 flex flex-row justify-between items-center px-2 md:px-0",children:[w.jsx("div",{className:"shrink-0 whitespace-nowrap text-[14px]",children:w.jsx("a",{href:"tel:+8801712345678",children:" +880 1712 345 678"})}),w.jsx("div",{className:"w-full hidden md:block px-4 font-semibold",children:w.jsx(oS,{children:n.map((t,r)=>w.jsx("span",{className:"mx-4",children:t},r))})}),w.jsxs("div",{className:"flex flex-row gap-1 md:gap-2 shrink-0",children:[w.jsx("a",{href:"",children:w.jsx(p2,{})}),w.jsx("a",{href:"",children:w.jsx(y2,{})}),w.jsx("a",{href:"",children:w.jsx(g2,{})})]})]})};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LL=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),aT=n=>{const e=LL(n);return e.charAt(0).toUpperCase()+e.slice(1)},j1=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),VL=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=Q.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...d},h)=>Q.createElement("svg",{ref:h,...kL,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:j1("lucide",a),...!o&&!VL(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,g])=>Q.createElement(p,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=(n,e)=>{const t=Q.forwardRef(({className:r,...a},o)=>Q.createElement(jL,{ref:o,iconNode:e,className:j1(`lucide-${PL(aT(n))}`,`lucide-${n}`,r),...a}));return t.displayName=aT(n),t};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zL=uu("chevron-down",UL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],FL=uu("chevron-up",BL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],HL=uu("menu",qL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],oT=uu("search",GL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],lT=uu("shopping-cart",$L);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],KL=uu("x",QL),YL="/assets/Untitled%20design%20(1)-d8yNnjIf.png",XL=()=>{const[n,e]=Q.useState(!1),[t,r]=Q.useState(!1),[a,o]=Q.useState(null),[c,d]=Q.useState([]),[h,p]=Q.useState(!0);Q.useEffect(()=>{(async()=>{try{const b=eu(cs(Xr,"menu-categories"),sP("order")),T=await Co(b),x=[];T.forEach(D=>{x.push({id:D.id,...D.data()})}),d(x),p(!1)}catch(b){console.error("Error fetching menu items:",b),p(!1)}})()},[]);const g=v=>{o(b=>b===v?null:v)};return h?w.jsx("div",{className:"bg-white border-y border-gray-200 h-16"}):w.jsxs("header",{className:"bg-white border-y border-gray-200 play-regular",children:[w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex justify-between items-center h-16",children:[w.jsxs("div",{className:"hidden md:flex space-x-6 items-center",children:[w.jsx(rn,{to:"/",className:"text-gray-700 hover:text-black",children:"Home"}),c.map(v=>v.type==="dropdown"?w.jsxs("div",{className:"group relative",children:[w.jsx(rn,{to:`/category/${v.id}`,className:"text-gray-700 hover:text-black capitalize",children:v.id}),w.jsx("div",{className:"absolute hidden group-hover:block bg-white shadow-md py-2 px-4 space-y-2 z-20 min-w-[200px] whitespace-nowrap",children:v.items.map(b=>w.jsx(rn,{to:`${b.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:b.name},b.path))})]},v.id):w.jsx(rn,{to:v.path,className:"text-gray-700 hover:text-black capitalize",children:v.id},v.id))]}),w.jsx("div",{className:"flex justify-center items-center z-50",children:w.jsx(rn,{to:"/",children:w.jsx("img",{src:YL,alt:"Brand Logo",className:"h-[120px] md:h-[190px] w-auto"})})}),w.jsxs("div",{className:"hidden md:flex space-x-6 items-center",children:[w.jsxs("div",{className:"group relative",children:[w.jsx(rn,{to:"/all-categories",className:"text-gray-700 hover:text-black",children:"All Category"}),w.jsx("div",{className:"absolute right-[-100px] top-[20px] hidden group-hover:flex bg-white shadow-md py-4 px-6 pt-10 space-x-8 z-20",children:c.filter(v=>v.type==="dropdown").map(v=>w.jsxs("div",{className:"min-w-[200px] whitespace-nowrap",children:[w.jsx("h3",{className:"font-semibold text-gray-800 mb-2 capitalize",children:v.id}),w.jsx("div",{className:"space-y-1",children:v.items.map(b=>w.jsx(rn,{to:`${b.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:b.name},b.path))})]},v.id))})]}),w.jsx(rn,{to:"/orders",className:"text-gray-700 hover:text-black",children:"Orders"}),w.jsx(rn,{to:"/cart",className:"text-gray-700 hover:text-black",children:w.jsx(lT,{size:20})}),w.jsxs("div",{className:"relative flex items-center",children:[w.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 hover:text-black",children:w.jsx(oT,{size:20})}),t&&w.jsx("div",{className:"absolute top-full mt-2 z-50 right-0 bg-white border border-gray-200 shadow-md p-2 rounded",children:w.jsx("input",{type:"text",placeholder:"Search...",className:"px-2 py-1 border border-gray-300 rounded w-48 focus:outline-none"})})]})]}),w.jsx("div",{className:"md:hidden",children:w.jsx("button",{onClick:()=>e(!n),children:n?w.jsx(KL,{size:24}):w.jsx(HL,{size:24})})})]})}),n&&w.jsxs("div",{className:"md:hidden bg-white border-t border-gray-200 px-4 py-4 space-y-4",children:[w.jsx(rn,{to:"/",className:"block font-semibold",children:"Home"}),c.map(v=>v.type==="dropdown"?w.jsxs("div",{children:[w.jsxs("button",{onClick:()=>g(v.id),className:"flex justify-between items-center w-full font-semibold text-left capitalize",children:[v.id,a===v.id?w.jsx(FL,{size:18}):w.jsx(zL,{size:18})]}),a===v.id&&w.jsx("div",{className:"ml-4 mt-2 space-y-1",children:v.items.map(b=>w.jsx(rn,{to:`${b.path}`,className:"block capitalize",children:b.name},b.path))})]},v.id):w.jsx(rn,{to:v.path,className:"block font-semibold capitalize",children:v.id},v.id)),w.jsx(rn,{to:"/orders",className:"block font-semibold",children:"Orders"}),w.jsxs(rn,{to:"/cart",className:"flex items-center space-x-2",children:[w.jsx(lT,{size:20}),w.jsx("span",{children:"Cart"})]}),w.jsxs("div",{children:[w.jsxs("button",{onClick:()=>r(!t),className:"flex items-center space-x-2 text-gray-700",children:[w.jsx(oT,{size:20}),w.jsx("span",{children:"Search"})]}),t&&w.jsx("div",{className:"mt-2",children:w.jsx("input",{type:"text",placeholder:"Search...",className:"w-full px-3 py-1 border border-gray-300 rounded focus:outline-none"})})]})]})]})},WL=()=>w.jsx("div",{children:w.jsx("div",{children:w.jsx("div",{className:"w-full block md:hidden px-4 font-semibold",children:w.jsx(oS,{children:"hnbkjbndsfh;kln"})})})});var od=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_o=typeof window>"u"||"Deno"in globalThis;function Wn(){}function ZL(n,e){return typeof n=="function"?n(e):n}function sy(n){return typeof n=="number"&&n>=0&&n!==1/0}function U1(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Nl(n,e){return typeof n=="function"?n(e):n}function Fr(n,e){return typeof n=="function"?n(e):n}function uT(n,e){const{type:t="all",exact:r,fetchStatus:a,predicate:o,queryKey:c,stale:d}=n;if(c){if(r){if(e.queryHash!==Ov(c,e.options))return!1}else if(!Hc(e.queryKey,c))return!1}if(t!=="all"){const h=e.isActive();if(t==="active"&&!h||t==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||a&&a!==e.state.fetchStatus||o&&!o(e))}function cT(n,e){const{exact:t,status:r,predicate:a,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(t){if(qc(e.options.mutationKey)!==qc(o))return!1}else if(!Hc(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function Ov(n,e){return((e==null?void 0:e.queryKeyHashFn)||qc)(n)}function qc(n){return JSON.stringify(n,(e,t)=>oy(t)?Object.keys(t).sort().reduce((r,a)=>(r[a]=t[a],r),{}):t)}function Hc(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Hc(n[t],e[t])):!1}function z1(n,e){if(n===e)return n;const t=dT(n)&&dT(e);if(t||oy(n)&&oy(e)){const r=t?n:Object.keys(n),a=r.length,o=t?e:Object.keys(e),c=o.length,d=t?[]:{};let h=0;for(let p=0;p<c;p++){const g=t?p:o[p];(!t&&r.includes(g)||t)&&n[g]===void 0&&e[g]===void 0?(d[g]=void 0,h++):(d[g]=z1(n[g],e[g]),d[g]===n[g]&&n[g]!==void 0&&h++)}return a===c&&h===a?n:d}return e}function ay(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function dT(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function oy(n){if(!fT(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!fT(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function fT(n){return Object.prototype.toString.call(n)==="[object Object]"}function JL(n){return new Promise(e=>{setTimeout(e,n)})}function ly(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?z1(n,e):e}function eV(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function tV(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Mv=Symbol();function B1(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Mv?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function nV(n,e){return typeof n=="function"?n(...e):!!n}var ro,Ws,Ol,AT,rV=(AT=class extends od{constructor(){super();Fe(this,ro);Fe(this,Ws);Fe(this,Ol);Ce(this,Ol,e=>{if(!_o&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Y(this,Ws)||this.setEventListener(Y(this,Ol))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Ws))==null||e.call(this),Ce(this,Ws,void 0))}setEventListener(e){var t;Ce(this,Ol,e),(t=Y(this,Ws))==null||t.call(this),Ce(this,Ws,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,ro)!==e&&(Ce(this,ro,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Y(this,ro)=="boolean"?Y(this,ro):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ro=new WeakMap,Ws=new WeakMap,Ol=new WeakMap,AT),Pv=new rV,Ml,Zs,Pl,RT,iV=(RT=class extends od{constructor(){super();Fe(this,Ml,!0);Fe(this,Zs);Fe(this,Pl);Ce(this,Pl,e=>{if(!_o&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,Zs)||this.setEventListener(Y(this,Pl))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Zs))==null||e.call(this),Ce(this,Zs,void 0))}setEventListener(e){var t;Ce(this,Pl,e),(t=Y(this,Zs))==null||t.call(this),Ce(this,Zs,e(this.setOnline.bind(this)))}setOnline(e){Y(this,Ml)!==e&&(Ce(this,Ml,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,Ml)}},Ml=new WeakMap,Zs=new WeakMap,Pl=new WeakMap,RT),Th=new iV;function uy(){let n,e;const t=new Promise((a,o)=>{n=a,e=o});t.status="pending",t.catch(()=>{});function r(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{r({status:"fulfilled",value:a}),n(a)},t.reject=a=>{r({status:"rejected",reason:a}),e(a)},t}function sV(n){return Math.min(1e3*2**n,3e4)}function F1(n){return(n??"online")==="online"?Th.isOnline():!0}var q1=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function wg(n){return n instanceof q1}function H1(n){let e=!1,t=0,r=!1,a;const o=uy(),c=D=>{var L;r||(b(new q1(D)),(L=n.abort)==null||L.call(n))},d=()=>{e=!0},h=()=>{e=!1},p=()=>Pv.isFocused()&&(n.networkMode==="always"||Th.isOnline())&&n.canRun(),g=()=>F1(n.networkMode)&&n.canRun(),v=D=>{var L;r||(r=!0,(L=n.onSuccess)==null||L.call(n,D),a==null||a(),o.resolve(D))},b=D=>{var L;r||(r=!0,(L=n.onError)==null||L.call(n,D),a==null||a(),o.reject(D))},T=()=>new Promise(D=>{var L;a=O=>{(r||p())&&D(O)},(L=n.onPause)==null||L.call(n)}).then(()=>{var D;a=void 0,r||(D=n.onContinue)==null||D.call(n)}),x=()=>{if(r)return;let D;const L=t===0?n.initialPromise:void 0;try{D=L??n.fn()}catch(O){D=Promise.reject(O)}Promise.resolve(D).then(v).catch(O=>{var U;if(r)return;const C=n.retry??(_o?0:3),R=n.retryDelay??sV,B=typeof R=="function"?R(t,O):R,q=C===!0||typeof C=="number"&&t<C||typeof C=="function"&&C(t,O);if(e||!q){b(O);return}t++,(U=n.onFail)==null||U.call(n,t,O),JL(B).then(()=>p()?void 0:T()).then(()=>{e?b(O):x()})})};return{promise:o,cancel:c,continue:()=>(a==null||a(),o),cancelRetry:d,continueRetry:h,canStart:g,start:()=>(g()?x():T().then(x),o)}}var aV=n=>setTimeout(n,0);function oV(){let n=[],e=0,t=d=>{d()},r=d=>{d()},a=aV;const o=d=>{e?n.push(d):a(()=>{t(d)})},c=()=>{const d=n;n=[],d.length&&a(()=>{r(()=>{d.forEach(h=>{t(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},batchCalls:d=>(...h)=>{o(()=>{d(...h)})},schedule:o,setNotifyFunction:d=>{t=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{a=d}}}var wn=oV(),io,CT,G1=(CT=class{constructor(){Fe(this,io)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sy(this.gcTime)&&Ce(this,io,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(_o?1/0:5*60*1e3))}clearGcTimeout(){Y(this,io)&&(clearTimeout(Y(this,io)),Ce(this,io,void 0))}},io=new WeakMap,CT),Ll,Vl,Nr,so,Nn,Gc,ao,zr,es,IT,lV=(IT=class extends G1{constructor(e){super();Fe(this,zr);Fe(this,Ll);Fe(this,Vl);Fe(this,Nr);Fe(this,so);Fe(this,Nn);Fe(this,Gc);Fe(this,ao);Ce(this,ao,!1),Ce(this,Gc,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ce(this,so,e.client),Ce(this,Nr,Y(this,so).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ce(this,Ll,uV(this.options)),this.state=e.state??Y(this,Ll),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,Nn))==null?void 0:e.promise}setOptions(e){this.options={...Y(this,Gc),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Nr).remove(this)}setData(e,t){const r=ly(this.state.data,e,this.options);return ot(this,zr,es).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){ot(this,zr,es).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,a;const t=(r=Y(this,Nn))==null?void 0:r.promise;return(a=Y(this,Nn))==null||a.cancel(e),t?t.then(Wn).catch(Wn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Ll))}isActive(){return this.observers.some(e=>Fr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!U1(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Nn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Nn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,Nr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Y(this,Nn)&&(Y(this,ao)?Y(this,Nn).cancel({revert:!0}):Y(this,Nn).cancelRetry()),this.scheduleGc()),Y(this,Nr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ot(this,zr,es).call(this,{type:"invalidate"})}fetch(e,t){var h,p,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Nn))return Y(this,Nn).continueRetry(),Y(this,Nn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const v=this.observers.find(b=>b.options.queryFn);v&&this.setOptions(v.options)}const r=new AbortController,a=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(Ce(this,ao,!0),r.signal)})},o=()=>{const v=B1(this.options,t),b={client:Y(this,so),queryKey:this.queryKey,meta:this.meta};return a(b),Ce(this,ao,!1),this.options.persister?this.options.persister(v,b,this):v(b)},c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Y(this,so),state:this.state,fetchFn:o};a(c),(h=this.options.behavior)==null||h.onFetch(c,this),Ce(this,Vl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&ot(this,zr,es).call(this,{type:"fetch",meta:(g=c.fetchOptions)==null?void 0:g.meta});const d=v=>{var b,T,x,D;wg(v)&&v.silent||ot(this,zr,es).call(this,{type:"error",error:v}),wg(v)||((T=(b=Y(this,Nr).config).onError)==null||T.call(b,v,this),(D=(x=Y(this,Nr).config).onSettled)==null||D.call(x,this.state.data,v,this)),this.scheduleGc()};return Ce(this,Nn,H1({initialPromise:t==null?void 0:t.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:v=>{var b,T,x,D;if(v===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(L){d(L);return}(T=(b=Y(this,Nr).config).onSuccess)==null||T.call(b,v,this),(D=(x=Y(this,Nr).config).onSettled)==null||D.call(x,v,this.state.error,this),this.scheduleGc()},onError:d,onFail:(v,b)=>{ot(this,zr,es).call(this,{type:"failed",failureCount:v,error:b})},onPause:()=>{ot(this,zr,es).call(this,{type:"pause"})},onContinue:()=>{ot(this,zr,es).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),Y(this,Nn).start()}},Ll=new WeakMap,Vl=new WeakMap,Nr=new WeakMap,so=new WeakMap,Nn=new WeakMap,Gc=new WeakMap,ao=new WeakMap,zr=new WeakSet,es=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...$1(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return wg(a)&&a.revert&&Y(this,Vl)?{...Y(this,Vl),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),wn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,Nr).notify({query:this,type:"updated",action:e})})},IT);function $1(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:F1(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function uV(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var _i,NT,cV=(NT=class extends od{constructor(e={}){super();Fe(this,_i);this.config=e,Ce(this,_i,new Map)}build(e,t,r){const a=t.queryKey,o=t.queryHash??Ov(a,t);let c=this.get(o);return c||(c=new lV({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){Y(this,_i).has(e.queryHash)||(Y(this,_i).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Y(this,_i).get(e.queryHash);t&&(e.destroy(),t===e&&Y(this,_i).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){wn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,_i).get(e)}getAll(){return[...Y(this,_i).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>uT(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>uT(e,r)):t}notify(e){wn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){wn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){wn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},_i=new WeakMap,NT),bi,Fn,oo,wi,Gs,DT,dV=(DT=class extends G1{constructor(e){super();Fe(this,wi);Fe(this,bi);Fe(this,Fn);Fe(this,oo);this.mutationId=e.mutationId,Ce(this,Fn,e.mutationCache),Ce(this,bi,[]),this.state=e.state||fV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,bi).includes(e)||(Y(this,bi).push(e),this.clearGcTimeout(),Y(this,Fn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ce(this,bi,Y(this,bi).filter(t=>t!==e)),this.scheduleGc(),Y(this,Fn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,bi).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Fn).remove(this))}continue(){var e;return((e=Y(this,oo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,c,d,h,p,g,v,b,T,x,D,L,O,C,R,B,q,U,j,I;const t=()=>{ot(this,wi,Gs).call(this,{type:"continue"})};Ce(this,oo,H1({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,M)=>{ot(this,wi,Gs).call(this,{type:"failed",failureCount:A,error:M})},onPause:()=>{ot(this,wi,Gs).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,Fn).canRun(this)}));const r=this.state.status==="pending",a=!Y(this,oo).canStart();try{if(r)t();else{ot(this,wi,Gs).call(this,{type:"pending",variables:e,isPaused:a}),await((c=(o=Y(this,Fn).config).onMutate)==null?void 0:c.call(o,e,this));const M=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,e));M!==this.state.context&&ot(this,wi,Gs).call(this,{type:"pending",context:M,variables:e,isPaused:a})}const A=await Y(this,oo).start();return await((g=(p=Y(this,Fn).config).onSuccess)==null?void 0:g.call(p,A,e,this.state.context,this)),await((b=(v=this.options).onSuccess)==null?void 0:b.call(v,A,e,this.state.context)),await((x=(T=Y(this,Fn).config).onSettled)==null?void 0:x.call(T,A,null,this.state.variables,this.state.context,this)),await((L=(D=this.options).onSettled)==null?void 0:L.call(D,A,null,e,this.state.context)),ot(this,wi,Gs).call(this,{type:"success",data:A}),A}catch(A){try{throw await((C=(O=Y(this,Fn).config).onError)==null?void 0:C.call(O,A,e,this.state.context,this)),await((B=(R=this.options).onError)==null?void 0:B.call(R,A,e,this.state.context)),await((U=(q=Y(this,Fn).config).onSettled)==null?void 0:U.call(q,void 0,A,this.state.variables,this.state.context,this)),await((I=(j=this.options).onSettled)==null?void 0:I.call(j,void 0,A,e,this.state.context)),A}finally{ot(this,wi,Gs).call(this,{type:"error",error:A})}}finally{Y(this,Fn).runNext(this)}}},bi=new WeakMap,Fn=new WeakMap,oo=new WeakMap,wi=new WeakSet,Gs=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),wn.batch(()=>{Y(this,bi).forEach(r=>{r.onMutationUpdate(e)}),Y(this,Fn).notify({mutation:this,type:"updated",action:e})})},DT);function fV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ns,Br,$c,OT,hV=(OT=class extends od{constructor(e={}){super();Fe(this,ns);Fe(this,Br);Fe(this,$c);this.config=e,Ce(this,ns,new Set),Ce(this,Br,new Map),Ce(this,$c,0)}build(e,t,r){const a=new dV({mutationCache:this,mutationId:++Sf(this,$c)._,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){Y(this,ns).add(e);const t=Pf(e);if(typeof t=="string"){const r=Y(this,Br).get(t);r?r.push(e):Y(this,Br).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,ns).delete(e)){const t=Pf(e);if(typeof t=="string"){const r=Y(this,Br).get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&Y(this,Br).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Pf(e);if(typeof t=="string"){const r=Y(this,Br).get(t),a=r==null?void 0:r.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){var r;const t=Pf(e);if(typeof t=="string"){const a=(r=Y(this,Br).get(t))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){wn.batch(()=>{Y(this,ns).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,ns).clear(),Y(this,Br).clear()})}getAll(){return Array.from(Y(this,ns))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>cT(t,r))}findAll(e={}){return this.getAll().filter(t=>cT(e,t))}notify(e){wn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return wn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Wn))))}},ns=new WeakMap,Br=new WeakMap,$c=new WeakMap,OT);function Pf(n){var e;return(e=n.options.scope)==null?void 0:e.id}function Sh(n){return{onFetch:(e,t)=>{var g,v,b,T,x;const r=e.options,a=(b=(v=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:v.fetchMore)==null?void 0:b.direction,o=((T=e.state.data)==null?void 0:T.pages)||[],c=((x=e.state.data)==null?void 0:x.pageParams)||[];let d={pages:[],pageParams:[]},h=0;const p=async()=>{let D=!1;const L=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?D=!0:e.signal.addEventListener("abort",()=>{D=!0}),e.signal)})},O=B1(e.options,e.fetchOptions),C=async(R,B,q)=>{if(D)return Promise.reject();if(B==null&&R.pages.length)return Promise.resolve(R);const U={client:e.client,queryKey:e.queryKey,pageParam:B,direction:q?"backward":"forward",meta:e.options.meta};L(U);const j=await O(U),{maxPages:I}=e.options,A=q?tV:eV;return{pages:A(R.pages,j,I),pageParams:A(R.pageParams,B,I)}};if(a&&o.length){const R=a==="backward",B=R?Q1:cy,q={pages:o,pageParams:c},U=B(r,q);d=await C(q,U,R)}else{const R=n??o.length;do{const B=h===0?c[0]??r.initialPageParam:cy(r,d);if(h>0&&B==null)break;d=await C(d,B),h++}while(h<R)}return d};e.options.persister?e.fetchFn=()=>{var D,L;return(L=(D=e.options).persister)==null?void 0:L.call(D,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=p}}}function cy(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function Q1(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}function mV(n,e){return e?cy(n,e)!=null:!1}function pV(n,e){return!e||!n.getPreviousPageParam?!1:Q1(n,e)!=null}var Ut,Js,ea,kl,jl,ta,Ul,zl,MT,gV=(MT=class{constructor(n={}){Fe(this,Ut);Fe(this,Js);Fe(this,ea);Fe(this,kl);Fe(this,jl);Fe(this,ta);Fe(this,Ul);Fe(this,zl);Ce(this,Ut,n.queryCache||new cV),Ce(this,Js,n.mutationCache||new hV),Ce(this,ea,n.defaultOptions||{}),Ce(this,kl,new Map),Ce(this,jl,new Map),Ce(this,ta,0)}mount(){Sf(this,ta)._++,Y(this,ta)===1&&(Ce(this,Ul,Pv.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,Ut).onFocus())})),Ce(this,zl,Th.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,Ut).onOnline())})))}unmount(){var n,e;Sf(this,ta)._--,Y(this,ta)===0&&((n=Y(this,Ul))==null||n.call(this),Ce(this,Ul,void 0),(e=Y(this,zl))==null||e.call(this),Ce(this,zl,void 0))}isFetching(n){return Y(this,Ut).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Y(this,Js).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,Ut).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Y(this,Ut).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Nl(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Y(this,Ut).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=Y(this,Ut).get(r.queryHash),o=a==null?void 0:a.state.data,c=ZL(e,o);if(c!==void 0)return Y(this,Ut).build(this,r).setData(c,{...t,manual:!0})}setQueriesData(n,e,t){return wn.batch(()=>Y(this,Ut).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,Ut).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Y(this,Ut);wn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Y(this,Ut);return wn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=wn.batch(()=>Y(this,Ut).findAll(n).map(a=>a.cancel(t)));return Promise.all(r).then(Wn).catch(Wn)}invalidateQueries(n,e={}){return wn.batch(()=>(Y(this,Ut).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=wn.batch(()=>Y(this,Ut).findAll(n).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,t);return t.throwOnError||(o=o.catch(Wn)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Wn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Y(this,Ut).build(this,e);return t.isStaleByTime(Nl(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Wn).catch(Wn)}fetchInfiniteQuery(n){return n.behavior=Sh(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Wn).catch(Wn)}ensureInfiniteQueryData(n){return n.behavior=Sh(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Th.isOnline()?Y(this,Js).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Ut)}getMutationCache(){return Y(this,Js)}getDefaultOptions(){return Y(this,ea)}setDefaultOptions(n){Ce(this,ea,n)}setQueryDefaults(n,e){Y(this,kl).set(qc(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Y(this,kl).values()],t={};return e.forEach(r=>{Hc(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Y(this,jl).set(qc(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Y(this,jl).values()],t={};return e.forEach(r=>{Hc(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Y(this,ea).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Ov(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Mv&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Y(this,ea).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Y(this,Ut).clear(),Y(this,Js).clear()}},Ut=new WeakMap,Js=new WeakMap,ea=new WeakMap,kl=new WeakMap,jl=new WeakMap,ta=new WeakMap,Ul=new WeakMap,zl=new WeakMap,MT),Yn,lt,Qc,qn,lo,Bl,na,ra,Kc,Fl,ql,uo,co,ia,Hl,_t,Tc,dy,fy,hy,my,py,gy,yy,Y1,PT,K1=(PT=class extends od{constructor(e,t){super();Fe(this,_t);Fe(this,Yn);Fe(this,lt);Fe(this,Qc);Fe(this,qn);Fe(this,lo);Fe(this,Bl);Fe(this,na);Fe(this,ra);Fe(this,Kc);Fe(this,Fl);Fe(this,ql);Fe(this,uo);Fe(this,co);Fe(this,ia);Fe(this,Hl,new Set);this.options=t,Ce(this,Yn,e),Ce(this,ra,null),Ce(this,na,uy()),this.options.experimental_prefetchInRender||Y(this,na).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,lt).addObserver(this),hT(Y(this,lt),this.options)?ot(this,_t,Tc).call(this):this.updateResult(),ot(this,_t,my).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return vy(Y(this,lt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return vy(Y(this,lt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ot(this,_t,py).call(this),ot(this,_t,gy).call(this),Y(this,lt).removeObserver(this)}setOptions(e){const t=this.options,r=Y(this,lt);if(this.options=Y(this,Yn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fr(this.options.enabled,Y(this,lt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ot(this,_t,yy).call(this),Y(this,lt).setOptions(this.options),t._defaulted&&!ay(this.options,t)&&Y(this,Yn).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,lt),observer:this});const a=this.hasListeners();a&&mT(Y(this,lt),r,this.options,t)&&ot(this,_t,Tc).call(this),this.updateResult(),a&&(Y(this,lt)!==r||Fr(this.options.enabled,Y(this,lt))!==Fr(t.enabled,Y(this,lt))||Nl(this.options.staleTime,Y(this,lt))!==Nl(t.staleTime,Y(this,lt)))&&ot(this,_t,dy).call(this);const o=ot(this,_t,fy).call(this);a&&(Y(this,lt)!==r||Fr(this.options.enabled,Y(this,lt))!==Fr(t.enabled,Y(this,lt))||o!==Y(this,ia))&&ot(this,_t,hy).call(this,o)}getOptimisticResult(e){const t=Y(this,Yn).getQueryCache().build(Y(this,Yn),e),r=this.createResult(t,e);return vV(this,r)&&(Ce(this,qn,r),Ce(this,Bl,this.options),Ce(this,lo,Y(this,lt).state)),r}getCurrentResult(){return Y(this,qn)}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t==null||t(a),Reflect.get(r,a))})}trackProp(e){Y(this,Hl).add(e)}getCurrentQuery(){return Y(this,lt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Y(this,Yn).defaultQueryOptions(e),r=Y(this,Yn).getQueryCache().build(Y(this,Yn),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return ot(this,_t,Tc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,qn)))}createResult(e,t){var A;const r=Y(this,lt),a=this.options,o=Y(this,qn),c=Y(this,lo),d=Y(this,Bl),p=e!==r?e.state:Y(this,Qc),{state:g}=e;let v={...g},b=!1,T;if(t._optimisticResults){const M=this.hasListeners(),V=!M&&hT(e,t),z=M&&mT(e,r,t,a);(V||z)&&(v={...v,...$1(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:x,errorUpdatedAt:D,status:L}=v;T=v.data;let O=!1;if(t.placeholderData!==void 0&&T===void 0&&L==="pending"){let M;o!=null&&o.isPlaceholderData&&t.placeholderData===(d==null?void 0:d.placeholderData)?(M=o.data,O=!0):M=typeof t.placeholderData=="function"?t.placeholderData((A=Y(this,ql))==null?void 0:A.state.data,Y(this,ql)):t.placeholderData,M!==void 0&&(L="success",T=ly(o==null?void 0:o.data,M,t),b=!0)}if(t.select&&T!==void 0&&!O)if(o&&T===(c==null?void 0:c.data)&&t.select===Y(this,Kc))T=Y(this,Fl);else try{Ce(this,Kc,t.select),T=t.select(T),T=ly(o==null?void 0:o.data,T,t),Ce(this,Fl,T),Ce(this,ra,null)}catch(M){Ce(this,ra,M)}Y(this,ra)&&(x=Y(this,ra),T=Y(this,Fl),D=Date.now(),L="error");const C=v.fetchStatus==="fetching",R=L==="pending",B=L==="error",q=R&&C,U=T!==void 0,I={status:L,fetchStatus:v.fetchStatus,isPending:R,isSuccess:L==="success",isError:B,isInitialLoading:q,isLoading:q,data:T,dataUpdatedAt:v.dataUpdatedAt,error:x,errorUpdatedAt:D,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>p.dataUpdateCount||v.errorUpdateCount>p.errorUpdateCount,isFetching:C,isRefetching:C&&!R,isLoadingError:B&&!U,isPaused:v.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:B&&U,isStale:Lv(e,t),refetch:this.refetch,promise:Y(this,na)};if(this.options.experimental_prefetchInRender){const M=k=>{I.status==="error"?k.reject(I.error):I.data!==void 0&&k.resolve(I.data)},V=()=>{const k=Ce(this,na,I.promise=uy());M(k)},z=Y(this,na);switch(z.status){case"pending":e.queryHash===r.queryHash&&M(z);break;case"fulfilled":(I.status==="error"||I.data!==z.value)&&V();break;case"rejected":(I.status!=="error"||I.error!==z.reason)&&V();break}}return I}updateResult(){const e=Y(this,qn),t=this.createResult(Y(this,lt),this.options);if(Ce(this,lo,Y(this,lt).state),Ce(this,Bl,this.options),Y(this,lo).data!==void 0&&Ce(this,ql,Y(this,lt)),ay(t,e))return;Ce(this,qn,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!Y(this,Hl).size)return!0;const c=new Set(o??Y(this,Hl));return this.options.throwOnError&&c.add("error"),Object.keys(Y(this,qn)).some(d=>{const h=d;return Y(this,qn)[h]!==e[h]&&c.has(h)})};ot(this,_t,Y1).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ot(this,_t,my).call(this)}},Yn=new WeakMap,lt=new WeakMap,Qc=new WeakMap,qn=new WeakMap,lo=new WeakMap,Bl=new WeakMap,na=new WeakMap,ra=new WeakMap,Kc=new WeakMap,Fl=new WeakMap,ql=new WeakMap,uo=new WeakMap,co=new WeakMap,ia=new WeakMap,Hl=new WeakMap,_t=new WeakSet,Tc=function(e){ot(this,_t,yy).call(this);let t=Y(this,lt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Wn)),t},dy=function(){ot(this,_t,py).call(this);const e=Nl(this.options.staleTime,Y(this,lt));if(_o||Y(this,qn).isStale||!sy(e))return;const r=U1(Y(this,qn).dataUpdatedAt,e)+1;Ce(this,uo,setTimeout(()=>{Y(this,qn).isStale||this.updateResult()},r))},fy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,lt)):this.options.refetchInterval)??!1},hy=function(e){ot(this,_t,gy).call(this),Ce(this,ia,e),!(_o||Fr(this.options.enabled,Y(this,lt))===!1||!sy(Y(this,ia))||Y(this,ia)===0)&&Ce(this,co,setInterval(()=>{(this.options.refetchIntervalInBackground||Pv.isFocused())&&ot(this,_t,Tc).call(this)},Y(this,ia)))},my=function(){ot(this,_t,dy).call(this),ot(this,_t,hy).call(this,ot(this,_t,fy).call(this))},py=function(){Y(this,uo)&&(clearTimeout(Y(this,uo)),Ce(this,uo,void 0))},gy=function(){Y(this,co)&&(clearInterval(Y(this,co)),Ce(this,co,void 0))},yy=function(){const e=Y(this,Yn).getQueryCache().build(Y(this,Yn),this.options);if(e===Y(this,lt))return;const t=Y(this,lt);Ce(this,lt,e),Ce(this,Qc,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},Y1=function(e){wn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(Y(this,qn))}),Y(this,Yn).getQueryCache().notify({query:Y(this,lt),type:"observerResultsUpdated"})})},PT);function yV(n,e){return Fr(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function hT(n,e){return yV(n,e)||n.state.data!==void 0&&vy(n,e,e.refetchOnMount)}function vy(n,e,t){if(Fr(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&Lv(n,e)}return!1}function mT(n,e,t,r){return(n!==e||Fr(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&Lv(n,t)}function Lv(n,e){return Fr(e.enabled,n)!==!1&&n.isStaleByTime(Nl(e.staleTime,n))}function vV(n,e){return!ay(n.getCurrentResult(),e)}var _V=class extends K1{constructor(n,e){super(n,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n){super.setOptions({...n,behavior:Sh()})}getOptimisticResult(n){return n.behavior=Sh(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,e){var x,D;const{state:t}=n,r=super.createResult(n,e),{isFetching:a,isRefetching:o,isError:c,isRefetchError:d}=r,h=(D=(x=t.fetchMeta)==null?void 0:x.fetchMore)==null?void 0:D.direction,p=c&&h==="forward",g=a&&h==="forward",v=c&&h==="backward",b=a&&h==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:mV(e,t.data),hasPreviousPage:pV(e,t.data),isFetchNextPageError:p,isFetchingNextPage:g,isFetchPreviousPageError:v,isFetchingPreviousPage:b,isRefetchError:d&&!p&&!v,isRefetching:o&&!g&&!b}}},X1=Q.createContext(void 0),bV=n=>{const e=Q.useContext(X1);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},wV=({client:n,children:e})=>(Q.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),w.jsx(X1.Provider,{value:n,children:e})),W1=Q.createContext(!1),EV=()=>Q.useContext(W1);W1.Provider;function TV(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var SV=Q.createContext(TV()),xV=()=>Q.useContext(SV),AV=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},RV=n=>{Q.useEffect(()=>{n.clearReset()},[n])},CV=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:a})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(a&&n.data===void 0||nV(t,[n.error,r])),IV=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},NV=(n,e)=>n.isLoading&&n.isFetching&&!e,DV=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,pT=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function Z1(n,e,t){var v,b,T,x,D;const r=bV(),a=EV(),o=xV(),c=r.defaultQueryOptions(n);(b=(v=r.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||b.call(v,c),c._optimisticResults=a?"isRestoring":"optimistic",IV(c),AV(c,o),RV(o);const d=!r.getQueryCache().get(c.queryHash),[h]=Q.useState(()=>new e(r,c)),p=h.getOptimisticResult(c),g=!a&&n.subscribed!==!1;if(Q.useSyncExternalStore(Q.useCallback(L=>{const O=g?h.subscribe(wn.batchCalls(L)):Wn;return h.updateResult(),O},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),Q.useEffect(()=>{h.setOptions(c)},[c,h]),DV(c,p))throw pT(c,h,o);if(CV({result:p,errorResetBoundary:o,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw p.error;if((x=(T=r.getDefaultOptions().queries)==null?void 0:T._experimental_afterQuery)==null||x.call(T,c,p),c.experimental_prefetchInRender&&!_o&&NV(p,a)){const L=d?pT(c,h,o):(D=r.getQueryCache().get(c.queryHash))==null?void 0:D.promise;L==null||L.catch(Wn).finally(()=>{h.updateResult()})}return c.notifyOnChangeProps?p:h.trackResult(p)}function OV(n,e){return Z1(n,K1)}function J1(n,e){return Z1(n,_V)}const MV=new gV;function PV(){return w.jsx(w.Fragment,{children:w.jsx("div",{children:w.jsxs(wV,{client:MV,children:[w.jsx(ML,{}),w.jsx(WL,{}),w.jsx(XL,{}),w.jsx(_I,{})]})})})}function gT(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Vv(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:gT(e[r])&&gT(n[r])&&Object.keys(e[r]).length>0&&Vv(n[r],e[r])})}const eA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Qr(){const n=typeof document<"u"?document:{};return Vv(n,eA),n}const LV={document:eA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Hn(){const n=typeof window<"u"?window:{};return Vv(n,LV),n}function VV(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function kV(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function _y(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function fo(){return Date.now()}function jV(n){const e=Hn();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function UV(n,e){e===void 0&&(e="x");const t=Hn();let r,a,o;const c=jV(n);return t.WebKitCSSMatrix?(a=c.transform||c.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(d=>d.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(a==="none"?"":a)):(o=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?a=o.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?a=o.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function Sc(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function zV(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function fr(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!zV(r)){const a=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,c=a.length;o<c;o+=1){const d=a[o],h=Object.getOwnPropertyDescriptor(r,d);h!==void 0&&h.enumerable&&(Sc(n[d])&&Sc(r[d])?r[d].__swiper__?n[d]=r[d]:fr(n[d],r[d]):!Sc(n[d])&&Sc(r[d])?(n[d]={},r[d].__swiper__?n[d]=r[d]:fr(n[d],r[d])):n[d]=r[d])}}}return n}function Lf(n,e,t){n.style.setProperty(e,t)}function tA(n){let{swiper:e,targetPosition:t,side:r}=n;const a=Hn(),o=-e.translate;let c=null,d;const h=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const p=t>o?"next":"prev",g=(b,T)=>p==="next"&&b>=T||p==="prev"&&b<=T,v=()=>{d=new Date().getTime(),c===null&&(c=d);const b=Math.max(Math.min((d-c)/h,1),0),T=.5-Math.cos(b*Math.PI)/2;let x=o+T*(t-o);if(g(x,t)&&(x=t),e.wrapperEl.scrollTo({[r]:x}),g(x,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:x})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(v)};v()}function $r(n,e){e===void 0&&(e="");const t=Hn(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(a=>a.matches(e)):r}function BV(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function FV(n,e){const t=Hn();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=BV(n,e))),r}function xh(n){try{console.warn(n);return}catch{}}function Ah(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:VV(e)),t}function qV(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function HV(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function aa(n,e){return Hn().getComputedStyle(n,null).getPropertyValue(e)}function Rh(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function nA(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function Eg(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function by(n,e,t){const r=Hn();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function hn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let Tg;function GV(){const n=Hn(),e=Qr();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function rA(){return Tg||(Tg=GV()),Tg}let Sg;function $V(n){let{userAgent:e}=n===void 0?{}:n;const t=rA(),r=Hn(),a=r.navigator.platform,o=e||r.navigator.userAgent,c={ios:!1,android:!1},d=r.screen.width,h=r.screen.height,p=o.match(/(Android);?[\s\/]+([\d.]+)?/);let g=o.match(/(iPad).*OS\s([\d_]+)/);const v=o.match(/(iPod)(.*OS\s([\d_]+))?/),b=!g&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),T=a==="Win32";let x=a==="MacIntel";const D=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&x&&t.touch&&D.indexOf(`${d}x${h}`)>=0&&(g=o.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),x=!1),p&&!T&&(c.os="android",c.android=!0),(g||b||v)&&(c.os="ios",c.ios=!0),c}function iA(n){return n===void 0&&(n={}),Sg||(Sg=$V(n)),Sg}let xg;function QV(){const n=Hn(),e=iA();let t=!1;function r(){const d=n.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(r()){const d=String(n.navigator.userAgent);if(d.includes("Version/")){const[h,p]=d.split("Version/")[1].split(" ")[0].split(".").map(g=>Number(g));t=h<16||h===16&&p<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),c=o||a&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:c,isWebView:a}}function sA(){return xg||(xg=QV()),xg}function KV(n){let{swiper:e,on:t,emit:r}=n;const a=Hn();let o=null,c=null;const d=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},h=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(v=>{c=a.requestAnimationFrame(()=>{const{width:b,height:T}=e;let x=b,D=T;v.forEach(L=>{let{contentBoxSize:O,contentRect:C,target:R}=L;R&&R!==e.el||(x=C?C.width:(O[0]||O).inlineSize,D=C?C.height:(O[0]||O).blockSize)}),(x!==b||D!==T)&&d()})}),o.observe(e.el))},p=()=>{c&&a.cancelAnimationFrame(c),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},g=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver<"u"){h();return}a.addEventListener("resize",d),a.addEventListener("orientationchange",g)}),t("destroy",()=>{p(),a.removeEventListener("resize",d),a.removeEventListener("orientationchange",g)})}function YV(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o=[],c=Hn(),d=function(g,v){v===void 0&&(v={});const b=c.MutationObserver||c.WebkitMutationObserver,T=new b(x=>{if(e.__preventObserver__)return;if(x.length===1){a("observerUpdate",x[0]);return}const D=function(){a("observerUpdate",x[0])};c.requestAnimationFrame?c.requestAnimationFrame(D):c.setTimeout(D,0)});T.observe(g,{attributes:typeof v.attributes>"u"?!0:v.attributes,childList:e.isElement||(typeof v.childList>"u"?!0:v).childList,characterData:typeof v.characterData>"u"?!0:v.characterData}),o.push(T)},h=()=>{if(e.params.observer){if(e.params.observeParents){const g=nA(e.hostEl);for(let v=0;v<g.length;v+=1)d(g[v])}d(e.hostEl,{childList:e.params.observeSlideChildren}),d(e.wrapperEl,{attributes:!1})}},p=()=>{o.forEach(g=>{g.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",h),r("destroy",p)}var XV={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const a=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][a](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function a(){r.off(n,a),a.__emitterProxy&&delete a.__emitterProxy;for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];e.apply(r,c)}return a.__emitterProxy=e,r.on(n,a,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((a,o)=>{(a===e||a.__emitterProxy&&a.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(h=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(p=>{p.apply(r,[h,...t])}),n.eventsListeners&&n.eventsListeners[h]&&n.eventsListeners[h].forEach(p=>{p.apply(r,t)})}),n}};function WV(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(aa(r,"padding-left")||0,10)-parseInt(aa(r,"padding-right")||0,10),t=t-parseInt(aa(r,"padding-top")||0,10)-parseInt(aa(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function ZV(){const n=this;function e(M,V){return parseFloat(M.getPropertyValue(n.getDirectionLabel(V))||0)}const t=n.params,{wrapperEl:r,slidesEl:a,size:o,rtlTranslate:c,wrongRTL:d}=n,h=n.virtual&&t.virtual.enabled,p=h?n.virtual.slides.length:n.slides.length,g=$r(a,`.${n.params.slideClass}, swiper-slide`),v=h?n.virtual.slides.length:g.length;let b=[];const T=[],x=[];let D=t.slidesOffsetBefore;typeof D=="function"&&(D=t.slidesOffsetBefore.call(n));let L=t.slidesOffsetAfter;typeof L=="function"&&(L=t.slidesOffsetAfter.call(n));const O=n.snapGrid.length,C=n.slidesGrid.length;let R=t.spaceBetween,B=-D,q=0,U=0;if(typeof o>"u")return;typeof R=="string"&&R.indexOf("%")>=0?R=parseFloat(R.replace("%",""))/100*o:typeof R=="string"&&(R=parseFloat(R)),n.virtualSize=-R,g.forEach(M=>{c?M.style.marginLeft="":M.style.marginRight="",M.style.marginBottom="",M.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Lf(r,"--swiper-centered-offset-before",""),Lf(r,"--swiper-centered-offset-after",""));const j=t.grid&&t.grid.rows>1&&n.grid;j?n.grid.initSlides(g):n.grid&&n.grid.unsetSlides();let I;const A=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(M=>typeof t.breakpoints[M].slidesPerView<"u").length>0;for(let M=0;M<v;M+=1){I=0;let V;if(g[M]&&(V=g[M]),j&&n.grid.updateSlide(M,V,g),!(g[M]&&aa(V,"display")==="none")){if(t.slidesPerView==="auto"){A&&(g[M].style[n.getDirectionLabel("width")]="");const z=getComputedStyle(V),k=V.style.transform,_e=V.style.webkitTransform;if(k&&(V.style.transform="none"),_e&&(V.style.webkitTransform="none"),t.roundLengths)I=n.isHorizontal()?by(V,"width"):by(V,"height");else{const we=e(z,"width"),$=e(z,"padding-left"),oe=e(z,"padding-right"),le=e(z,"margin-left"),ye=e(z,"margin-right"),F=z.getPropertyValue("box-sizing");if(F&&F==="border-box")I=we+le+ye;else{const{clientWidth:se,offsetWidth:ge}=V;I=we+$+oe+le+ye+(ge-se)}}k&&(V.style.transform=k),_e&&(V.style.webkitTransform=_e),t.roundLengths&&(I=Math.floor(I))}else I=(o-(t.slidesPerView-1)*R)/t.slidesPerView,t.roundLengths&&(I=Math.floor(I)),g[M]&&(g[M].style[n.getDirectionLabel("width")]=`${I}px`);g[M]&&(g[M].swiperSlideSize=I),x.push(I),t.centeredSlides?(B=B+I/2+q/2+R,q===0&&M!==0&&(B=B-o/2-R),M===0&&(B=B-o/2-R),Math.abs(B)<1/1e3&&(B=0),t.roundLengths&&(B=Math.floor(B)),U%t.slidesPerGroup===0&&b.push(B),T.push(B)):(t.roundLengths&&(B=Math.floor(B)),(U-Math.min(n.params.slidesPerGroupSkip,U))%n.params.slidesPerGroup===0&&b.push(B),T.push(B),B=B+I+R),n.virtualSize+=I+R,q=I,U+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+L,c&&d&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+R}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+R}px`),j&&n.grid.updateWrapperSize(I,b),!t.centeredSlides){const M=[];for(let V=0;V<b.length;V+=1){let z=b[V];t.roundLengths&&(z=Math.floor(z)),b[V]<=n.virtualSize-o&&M.push(z)}b=M,Math.floor(n.virtualSize-o)-Math.floor(b[b.length-1])>1&&b.push(n.virtualSize-o)}if(h&&t.loop){const M=x[0]+R;if(t.slidesPerGroup>1){const V=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),z=M*t.slidesPerGroup;for(let k=0;k<V;k+=1)b.push(b[b.length-1]+z)}for(let V=0;V<n.virtual.slidesBefore+n.virtual.slidesAfter;V+=1)t.slidesPerGroup===1&&b.push(b[b.length-1]+M),T.push(T[T.length-1]+M),n.virtualSize+=M}if(b.length===0&&(b=[0]),R!==0){const M=n.isHorizontal()&&c?"marginLeft":n.getDirectionLabel("marginRight");g.filter((V,z)=>!t.cssMode||t.loop?!0:z!==g.length-1).forEach(V=>{V.style[M]=`${R}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let M=0;x.forEach(z=>{M+=z+(R||0)}),M-=R;const V=M>o?M-o:0;b=b.map(z=>z<=0?-D:z>V?V+L:z)}if(t.centerInsufficientSlides){let M=0;x.forEach(z=>{M+=z+(R||0)}),M-=R;const V=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(M+V<o){const z=(o-M-V)/2;b.forEach((k,_e)=>{b[_e]=k-z}),T.forEach((k,_e)=>{T[_e]=k+z})}}if(Object.assign(n,{slides:g,snapGrid:b,slidesGrid:T,slidesSizesGrid:x}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Lf(r,"--swiper-centered-offset-before",`${-b[0]}px`),Lf(r,"--swiper-centered-offset-after",`${n.size/2-x[x.length-1]/2}px`);const M=-n.snapGrid[0],V=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(z=>z+M),n.slidesGrid=n.slidesGrid.map(z=>z+V)}if(v!==p&&n.emit("slidesLengthChange"),b.length!==O&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),T.length!==C&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!h&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const M=`${t.containerModifierClass}backface-hidden`,V=n.el.classList.contains(M);v<=t.maxBackfaceHiddenSlides?V||n.el.classList.add(M):V&&n.el.classList.remove(M)}}function JV(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let a=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const c=d=>r?e.slides[e.getSlideIndexByData(d)]:e.slides[d];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(d=>{t.push(d)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const d=e.activeIndex+o;if(d>e.slides.length&&!r)break;t.push(c(d))}else t.push(c(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const d=t[o].offsetHeight;a=d>a?d:a}(a||a===0)&&(e.wrapperEl.style.height=`${a}px`)}function ek(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const yT=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function tk(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:a,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let c=-n;a&&(c=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let d=t.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*e.size:typeof d=="string"&&(d=parseFloat(d));for(let h=0;h<r.length;h+=1){const p=r[h];let g=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(g-=r[0].swiperSlideOffset);const v=(c+(t.centeredSlides?e.minTranslate():0)-g)/(p.swiperSlideSize+d),b=(c-o[0]+(t.centeredSlides?e.minTranslate():0)-g)/(p.swiperSlideSize+d),T=-(c-g),x=T+e.slidesSizesGrid[h],D=T>=0&&T<=e.size-e.slidesSizesGrid[h],L=T>=0&&T<e.size-1||x>1&&x<=e.size||T<=0&&x>=e.size;L&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(h)),yT(p,L,t.slideVisibleClass),yT(p,D,t.slideFullyVisibleClass),p.progress=a?-v:v,p.originalProgress=a?-b:b}}function nk(n){const e=this;if(typeof n>"u"){const g=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*g||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:a,isBeginning:o,isEnd:c,progressLoop:d}=e;const h=o,p=c;if(r===0)a=0,o=!0,c=!0;else{a=(n-e.minTranslate())/r;const g=Math.abs(n-e.minTranslate())<1,v=Math.abs(n-e.maxTranslate())<1;o=g||a<=0,c=v||a>=1,g&&(a=0),v&&(a=1)}if(t.loop){const g=e.getSlideIndexByData(0),v=e.getSlideIndexByData(e.slides.length-1),b=e.slidesGrid[g],T=e.slidesGrid[v],x=e.slidesGrid[e.slidesGrid.length-1],D=Math.abs(n);D>=b?d=(D-b)/x:d=(D+x-T)/x,d>1&&(d-=1)}Object.assign(e,{progress:a,progressLoop:d,isBeginning:o,isEnd:c}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!h&&e.emit("reachBeginning toEdge"),c&&!p&&e.emit("reachEnd toEdge"),(h&&!o||p&&!c)&&e.emit("fromEdge"),e.emit("progress",a)}const Ag=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function rk(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:a}=n,o=n.virtual&&t.virtual.enabled,c=n.grid&&t.grid&&t.grid.rows>1,d=v=>$r(r,`.${t.slideClass}${v}, swiper-slide${v}`)[0];let h,p,g;if(o)if(t.loop){let v=a-n.virtual.slidesBefore;v<0&&(v=n.virtual.slides.length+v),v>=n.virtual.slides.length&&(v-=n.virtual.slides.length),h=d(`[data-swiper-slide-index="${v}"]`)}else h=d(`[data-swiper-slide-index="${a}"]`);else c?(h=e.find(v=>v.column===a),g=e.find(v=>v.column===a+1),p=e.find(v=>v.column===a-1)):h=e[a];h&&(c||(g=HV(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!g&&(g=e[0]),p=qV(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(v=>{Ag(v,v===h,t.slideActiveClass),Ag(v,v===g,t.slideNextClass),Ag(v,v===p,t.slidePrevClass)}),n.emitSlidesClasses()}const Yf=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let a=r.querySelector(`.${n.params.lazyPreloaderClass}`);!a&&n.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},Rg=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},wy=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),a=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const c=a,d=[c-e];d.push(...Array.from({length:e}).map((h,p)=>c+r+p)),n.slides.forEach((h,p)=>{d.includes(h.column)&&Rg(n,p)});return}const o=a+r-1;if(n.params.rewind||n.params.loop)for(let c=a-e;c<=o+e;c+=1){const d=(c%t+t)%t;(d<a||d>o)&&Rg(n,d)}else for(let c=Math.max(a-e,0);c<=Math.min(o+e,t-1);c+=1)c!==a&&(c>o||c<a)&&Rg(n,c)};function ik(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let a;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?a=o:r>=e[o]&&r<e[o+1]&&(a=o+1):r>=e[o]&&(a=o);return t.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function sk(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:a,activeIndex:o,realIndex:c,snapIndex:d}=e;let h=n,p;const g=T=>{let x=T-e.virtual.slidesBefore;return x<0&&(x=e.virtual.slides.length+x),x>=e.virtual.slides.length&&(x-=e.virtual.slides.length),x};if(typeof h>"u"&&(h=ik(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const T=Math.min(a.slidesPerGroupSkip,h);p=T+Math.floor((h-T)/a.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),h===o&&!e.params.loop){p!==d&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(h===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=g(h);return}const v=e.grid&&a.grid&&a.grid.rows>1;let b;if(e.virtual&&a.virtual.enabled&&a.loop)b=g(h);else if(v){const T=e.slides.find(D=>D.column===h);let x=parseInt(T.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(e.slides.indexOf(T),0)),b=Math.floor(x/a.grid.rows)}else if(e.slides[h]){const T=e.slides[h].getAttribute("data-swiper-slide-index");T?b=parseInt(T,10):b=h}else b=h;Object.assign(e,{previousSnapIndex:d,snapIndex:p,previousRealIndex:c,realIndex:b,previousIndex:o,activeIndex:h}),e.initialized&&wy(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(c!==b&&e.emit("realIndexChange"),e.emit("slideChange"))}function ak(n,e){const t=this,r=t.params;let a=n.closest(`.${r.slideClass}, swiper-slide`);!a&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(d=>{!a&&d.matches&&d.matches(`.${r.slideClass}, swiper-slide`)&&(a=d)});let o=!1,c;if(a){for(let d=0;d<t.slides.length;d+=1)if(t.slides[d]===a){o=!0,c=d;break}}if(a&&o)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=c;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var ok={updateSize:WV,updateSlides:ZV,updateAutoHeight:JV,updateSlidesOffset:ek,updateSlidesProgress:tk,updateProgress:nk,updateSlidesClasses:rk,updateActiveIndex:sk,updateClickedSlide:ak};function lk(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:a,wrapperEl:o}=e;if(t.virtualTranslate)return r?-a:a;if(t.cssMode)return a;let c=UV(o,n);return c+=e.cssOverflowAdjustment(),r&&(c=-c),c||0}function uk(n,e){const t=this,{rtlTranslate:r,params:a,wrapperEl:o,progress:c}=t;let d=0,h=0;const p=0;t.isHorizontal()?d=r?-n:n:h=n,a.roundLengths&&(d=Math.floor(d),h=Math.floor(h)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?d:h,a.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-d:-h:a.virtualTranslate||(t.isHorizontal()?d-=t.cssOverflowAdjustment():h-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${d}px, ${h}px, ${p}px)`);let g;const v=t.maxTranslate()-t.minTranslate();v===0?g=0:g=(n-t.minTranslate())/v,g!==c&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function ck(){return-this.snapGrid[0]}function dk(){return-this.snapGrid[this.snapGrid.length-1]}function fk(n,e,t,r,a){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:c,wrapperEl:d}=o;if(o.animating&&c.preventInteractionOnTransition)return!1;const h=o.minTranslate(),p=o.maxTranslate();let g;if(r&&n>h?g=h:r&&n<p?g=p:g=n,o.updateProgress(g),c.cssMode){const v=o.isHorizontal();if(e===0)d[v?"scrollLeft":"scrollTop"]=-g;else{if(!o.support.smoothScroll)return tA({swiper:o,targetPosition:-g,side:v?"left":"top"}),!0;d.scrollTo({[v?"left":"top"]:-g,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(g),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(g),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(b){!o||o.destroyed||b.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var hk={getTranslate:lk,setTranslate:uk,minTranslate:ck,maxTranslate:dk,translateTo:fk};function mk(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function aA(n){let{swiper:e,runCallbacks:t,direction:r,step:a}=n;const{activeIndex:o,previousIndex:c}=e;let d=r;if(d||(o>c?d="next":o<c?d="prev":d="reset"),e.emit(`transition${a}`),t&&o!==c){if(d==="reset"){e.emit(`slideResetTransition${a}`);return}e.emit(`slideChangeTransition${a}`),d==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function pk(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),aA({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function gk(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),aA({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var yk={setTransition:mk,transitionStart:pk,transitionEnd:gk};function vk(n,e,t,r,a){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let c=n;c<0&&(c=0);const{params:d,snapGrid:h,slidesGrid:p,previousIndex:g,activeIndex:v,rtlTranslate:b,wrapperEl:T,enabled:x}=o;if(!x&&!r&&!a||o.destroyed||o.animating&&d.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const D=Math.min(o.params.slidesPerGroupSkip,c);let L=D+Math.floor((c-D)/o.params.slidesPerGroup);L>=h.length&&(L=h.length-1);const O=-h[L];if(d.normalizeSlideIndex)for(let j=0;j<p.length;j+=1){const I=-Math.floor(O*100),A=Math.floor(p[j]*100),M=Math.floor(p[j+1]*100);typeof p[j+1]<"u"?I>=A&&I<M-(M-A)/2?c=j:I>=A&&I<M&&(c=j+1):I>=A&&(c=j)}if(o.initialized&&c!==v&&(!o.allowSlideNext&&(b?O>o.translate&&O>o.minTranslate():O<o.translate&&O<o.minTranslate())||!o.allowSlidePrev&&O>o.translate&&O>o.maxTranslate()&&(v||0)!==c))return!1;c!==(g||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(O);let C;c>v?C="next":c<v?C="prev":C="reset";const R=o.virtual&&o.params.virtual.enabled;if(!(R&&a)&&(b&&-O===o.translate||!b&&O===o.translate))return o.updateActiveIndex(c),d.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),d.effect!=="slide"&&o.setTranslate(O),C!=="reset"&&(o.transitionStart(t,C),o.transitionEnd(t,C)),!1;if(d.cssMode){const j=o.isHorizontal(),I=b?O:-O;if(e===0)R&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),R&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{T[j?"scrollLeft":"scrollTop"]=I})):T[j?"scrollLeft":"scrollTop"]=I,R&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return tA({swiper:o,targetPosition:I,side:j?"left":"top"}),!0;T.scrollTo({[j?"left":"top"]:I,behavior:"smooth"})}return!0}const U=sA().isSafari;return R&&!a&&U&&o.isElement&&o.virtual.update(!1,!1,c),o.setTransition(e),o.setTranslate(O),o.updateActiveIndex(c),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,C),e===0?o.transitionEnd(t,C):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(I){!o||o.destroyed||I.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,C))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function _k(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);const o=a.grid&&a.params.grid&&a.params.grid.rows>1;let c=n;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)c=c+a.virtual.slidesBefore;else{let d;if(o){const b=c*a.params.grid.rows;d=a.slides.find(T=>T.getAttribute("data-swiper-slide-index")*1===b).column}else d=a.getSlideIndexByData(c);const h=o?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:p}=a.params;let g=a.params.slidesPerView;g==="auto"?g=a.slidesPerViewDynamic():(g=Math.ceil(parseFloat(a.params.slidesPerView,10)),p&&g%2===0&&(g=g+1));let v=h-d<g;if(p&&(v=v||d<Math.ceil(g/2)),r&&p&&a.params.slidesPerView!=="auto"&&!o&&(v=!1),v){const b=p?d<a.activeIndex?"prev":"next":d-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:b,slideTo:!0,activeSlideIndex:b==="next"?d+1:d-h+1,slideRealIndex:b==="next"?a.realIndex:void 0})}if(o){const b=c*a.params.grid.rows;c=a.slides.find(T=>T.getAttribute("data-swiper-slide-index")*1===b).column}else c=a.getSlideIndexByData(c)}return requestAnimationFrame(()=>{a.slideTo(c,e,t,r)}),a}function bk(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:a,params:o,animating:c}=r;if(!a||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let d=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(d=Math.max(r.slidesPerViewDynamic("current",!0),1));const h=r.activeIndex<o.slidesPerGroupSkip?1:d,p=r.virtual&&o.virtual.enabled;if(o.loop){if(c&&!p&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+h,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+h,n,e,t)}function wk(n,e,t){e===void 0&&(e=!0);const r=this,{params:a,snapGrid:o,slidesGrid:c,rtlTranslate:d,enabled:h,animating:p}=r;if(!h||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const g=r.virtual&&a.virtual.enabled;if(a.loop){if(p&&!g&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const v=d?r.translate:-r.translate;function b(C){return C<0?-Math.floor(Math.abs(C)):Math.floor(C)}const T=b(v),x=o.map(C=>b(C)),D=a.freeMode&&a.freeMode.enabled;let L=o[x.indexOf(T)-1];if(typeof L>"u"&&(a.cssMode||D)){let C;o.forEach((R,B)=>{T>=R&&(C=B)}),typeof C<"u"&&(L=D?o[C]:o[C>0?C-1:C])}let O=0;if(typeof L<"u"&&(O=c.indexOf(L),O<0&&(O=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(O=O-r.slidesPerViewDynamic("previous",!0)+1,O=Math.max(O,0))),a.rewind&&r.isBeginning){const C=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(C,n,e,t)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(O,n,e,t)}),!0;return r.slideTo(O,n,e,t)}function Ek(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function Tk(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);let o=a.activeIndex;const c=Math.min(a.params.slidesPerGroupSkip,o),d=c+Math.floor((o-c)/a.params.slidesPerGroup),h=a.rtlTranslate?a.translate:-a.translate;if(h>=a.snapGrid[d]){const p=a.snapGrid[d],g=a.snapGrid[d+1];h-p>(g-p)*r&&(o+=a.params.slidesPerGroup)}else{const p=a.snapGrid[d-1],g=a.snapGrid[d];h-p<=(g-p)*r&&(o-=a.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,a.slidesGrid.length-1),a.slideTo(o,n,e,t)}function Sk(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let a=n.clickedIndex,o;const c=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?a<n.loopedSlides-r/2||a>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),a=n.getSlideIndex($r(t,`${c}[data-swiper-slide-index="${o}"]`)[0]),_y(()=>{n.slideTo(a)})):n.slideTo(a):a>n.slides.length-r?(n.loopFix(),a=n.getSlideIndex($r(t,`${c}[data-swiper-slide-index="${o}"]`)[0]),_y(()=>{n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}var xk={slideTo:vk,slideToLoop:_k,slideNext:bk,slidePrev:wk,slideReset:Ek,slideToClosest:Tk,slideToClickedSlide:Sk};function Ak(n,e){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{$r(a,`.${r.slideClass}, swiper-slide`).forEach((b,T)=>{b.setAttribute("data-swiper-slide-index",T)})},c=t.grid&&r.grid&&r.grid.rows>1,d=r.slidesPerGroup*(c?r.grid.rows:1),h=t.slides.length%d!==0,p=c&&t.slides.length%r.grid.rows!==0,g=v=>{for(let b=0;b<v;b+=1){const T=t.isElement?Ah("swiper-slide",[r.slideBlankClass]):Ah("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(T)}};if(h){if(r.loopAddBlankSlides){const v=d-t.slides.length%d;g(v),t.recalcSlides(),t.updateSlides()}else xh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(p){if(r.loopAddBlankSlides){const v=r.grid.rows-t.slides.length%r.grid.rows;g(v),t.recalcSlides(),t.updateSlides()}else xh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function Rk(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:a,activeSlideIndex:o,initial:c,byController:d,byMousewheel:h}=n===void 0?{}:n;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:g,allowSlidePrev:v,allowSlideNext:b,slidesEl:T,params:x}=p,{centeredSlides:D,initialSlide:L}=x;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&x.virtual.enabled){t&&(!x.centeredSlides&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):x.centeredSlides&&p.snapIndex<x.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=v,p.allowSlideNext=b,p.emit("loopFix");return}let O=x.slidesPerView;O==="auto"?O=p.slidesPerViewDynamic():(O=Math.ceil(parseFloat(x.slidesPerView,10)),D&&O%2===0&&(O=O+1));const C=x.slidesPerGroupAuto?O:x.slidesPerGroup;let R=C;R%C!==0&&(R+=C-R%C),R+=x.loopAdditionalSlides,p.loopedSlides=R;const B=p.grid&&x.grid&&x.grid.rows>1;g.length<O+R||p.params.effect==="cards"&&g.length<O+R*2?xh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):B&&x.grid.fill==="row"&&xh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const q=[],U=[],j=B?Math.ceil(g.length/x.grid.rows):g.length,I=c&&j-L<O&&!D;let A=I?L:p.activeIndex;typeof o>"u"?o=p.getSlideIndex(g.find($=>$.classList.contains(x.slideActiveClass))):A=o;const M=r==="next"||!r,V=r==="prev"||!r;let z=0,k=0;const we=(B?g[o].column:o)+(D&&typeof a>"u"?-O/2+.5:0);if(we<R){z=Math.max(R-we,C);for(let $=0;$<R-we;$+=1){const oe=$-Math.floor($/j)*j;if(B){const le=j-oe-1;for(let ye=g.length-1;ye>=0;ye-=1)g[ye].column===le&&q.push(ye)}else q.push(j-oe-1)}}else if(we+O>j-R){k=Math.max(we-(j-R*2),C),I&&(k=Math.max(k,O-j+L+1));for(let $=0;$<k;$+=1){const oe=$-Math.floor($/j)*j;B?g.forEach((le,ye)=>{le.column===oe&&U.push(ye)}):U.push(oe)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&g.length<O+R*2&&(U.includes(o)&&U.splice(U.indexOf(o),1),q.includes(o)&&q.splice(q.indexOf(o),1)),V&&q.forEach($=>{g[$].swiperLoopMoveDOM=!0,T.prepend(g[$]),g[$].swiperLoopMoveDOM=!1}),M&&U.forEach($=>{g[$].swiperLoopMoveDOM=!0,T.append(g[$]),g[$].swiperLoopMoveDOM=!1}),p.recalcSlides(),x.slidesPerView==="auto"?p.updateSlides():B&&(q.length>0&&V||U.length>0&&M)&&p.slides.forEach(($,oe)=>{p.grid.updateSlide(oe,$,p.slides)}),x.watchSlidesProgress&&p.updateSlidesOffset(),t){if(q.length>0&&V){if(typeof e>"u"){const $=p.slidesGrid[A],le=p.slidesGrid[A+z]-$;h?p.setTranslate(p.translate-le):(p.slideTo(A+Math.ceil(z),0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-le,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-le))}else if(a){const $=B?q.length/x.grid.rows:q.length;p.slideTo(p.activeIndex+$,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(U.length>0&&M)if(typeof e>"u"){const $=p.slidesGrid[A],le=p.slidesGrid[A-k]-$;h?p.setTranslate(p.translate-le):(p.slideTo(A-k,0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-le,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-le))}else{const $=B?U.length/x.grid.rows:U.length;p.slideTo(p.activeIndex-$,0,!1,!0)}}if(p.allowSlidePrev=v,p.allowSlideNext=b,p.controller&&p.controller.control&&!d){const $={slideRealIndex:e,direction:r,setTranslate:a,activeSlideIndex:o,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(oe=>{!oe.destroyed&&oe.params.loop&&oe.loopFix({...$,slideTo:oe.params.slidesPerView===x.slidesPerView?t:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...$,slideTo:p.controller.control.params.slidesPerView===x.slidesPerView?t:!1})}p.emit("loopFix")}function Ck(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(a=>{const o=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[o]=a}),n.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{t.append(a)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var Ik={loopCreate:Ak,loopFix:Rk,loopDestroy:Ck};function Nk(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Dk(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var Ok={setGrabCursor:Nk,unsetGrabCursor:Dk};function Mk(n,e){e===void 0&&(e=this);function t(r){if(!r||r===Qr()||r===Hn())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(n);return!a&&!r.getRootNode?null:a||t(r.getRootNode().host)}return t(e)}function vT(n,e,t){const r=Hn(),{params:a}=n,o=a.edgeSwipeDetection,c=a.edgeSwipeThreshold;return o&&(t<=c||t>=r.innerWidth-c)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function Pk(n){const e=this,t=Qr();let r=n;r.originalEvent&&(r=r.originalEvent);const a=e.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){vT(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:c,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let h=r.target;if(o.touchEventsTarget==="wrapper"&&!FV(h,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const p=!!o.noSwipingClass&&o.noSwipingClass!=="",g=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&g&&(h=g[0]);const v=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,b=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(b?Mk(v,h):h.closest(v))){e.allowClick=!0;return}if(o.swipeHandler&&!h.closest(o.swipeHandler))return;c.currentX=r.pageX,c.currentY=r.pageY;const T=c.currentX,x=c.currentY;if(!vT(e,r,T))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=T,c.startY=x,a.touchStartTime=fo(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(a.allowThresholdMove=!1);let D=!0;h.matches(a.focusableElements)&&(D=!1,h.nodeName==="SELECT"&&(a.isTouched=!1)),t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==h&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!h.matches(a.focusableElements))&&t.activeElement.blur();const L=D&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||L)&&!h.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Lk(n){const e=Qr(),t=this,r=t.touchEventsData,{params:a,touches:o,rtlTranslate:c,enabled:d}=t;if(!d||!a.simulateTouch&&n.pointerType==="mouse")return;let h=n;if(h.originalEvent&&(h=h.originalEvent),h.type==="pointermove"&&(r.touchId!==null||h.pointerId!==r.pointerId))return;let p;if(h.type==="touchmove"){if(p=[...h.changedTouches].find(q=>q.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=h;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",h);return}const g=p.pageX,v=p.pageY;if(h.preventedByNestedSwiper){o.startX=g,o.startY=v;return}if(!t.allowTouchMove){h.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:g,startY:v,currentX:g,currentY:v}),r.touchStartTime=fo());return}if(a.touchReleaseOnEdges&&!a.loop)if(t.isVertical()){if(v<o.startY&&t.translate<=t.maxTranslate()||v>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(c&&(g>o.startX&&-t.translate<=t.maxTranslate()||g<o.startX&&-t.translate>=t.minTranslate()))return;if(!c&&(g<o.startX&&t.translate<=t.maxTranslate()||g>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==h.target&&h.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&h.target===e.activeElement&&h.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",h),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=g,o.currentY=v;const b=o.currentX-o.startX,T=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(b**2+T**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let q;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:b*b+T*T>=25&&(q=Math.atan2(Math.abs(T),Math.abs(b))*180/Math.PI,r.isScrolling=t.isHorizontal()?q>a.touchAngle:90-q>a.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",h),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||h.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!a.cssMode&&h.cancelable&&h.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&h.stopPropagation();let x=t.isHorizontal()?b:T,D=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;a.oneWayMovement&&(x=Math.abs(x)*(c?1:-1),D=Math.abs(D)*(c?1:-1)),o.diff=x,x*=a.touchRatio,c&&(x=-x,D=-D);const L=t.touchesDirection;t.swipeDirection=x>0?"prev":"next",t.touchesDirection=D>0?"prev":"next";const O=t.params.loop&&!a.cssMode,C=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(O&&C&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const q=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(q)}r.allowMomentumBounce=!1,a.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",h)}if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&L!==t.touchesDirection&&O&&C&&Math.abs(x)>=1){Object.assign(o,{startX:g,startY:v,currentX:g,currentY:v,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",h),r.isMoved=!0,r.currentTranslate=x+r.startTranslate;let R=!0,B=a.resistanceRatio;if(a.touchReleaseOnEdges&&(B=0),x>0?(O&&C&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(R=!1,a.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+x)**B))):x<0&&(O&&C&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(a.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(R=!1,a.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-x)**B))),R&&(h.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(x)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&t.freeMode||a.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function Vk(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(q=>q.identifier===t.touchId),!a||a.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:c,touches:d,rtlTranslate:h,slidesGrid:p,enabled:g}=e;if(!g||!c.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&c.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}c.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const v=fo(),b=v-t.touchStartTime;if(e.allowClick){const q=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(q&&q[0]||r.target,q),e.emit("tap click",r),b<300&&v-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=fo(),_y(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||d.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let T;if(c.followFinger?T=h?e.translate:-e.translate:T=-t.currentTranslate,c.cssMode)return;if(c.freeMode&&c.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:T});return}const x=T>=-e.maxTranslate()&&!e.params.loop;let D=0,L=e.slidesSizesGrid[0];for(let q=0;q<p.length;q+=q<c.slidesPerGroupSkip?1:c.slidesPerGroup){const U=q<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof p[q+U]<"u"?(x||T>=p[q]&&T<p[q+U])&&(D=q,L=p[q+U]-p[q]):(x||T>=p[q])&&(D=q,L=p[p.length-1]-p[p.length-2])}let O=null,C=null;c.rewind&&(e.isBeginning?C=c.virtual&&c.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(O=0));const R=(T-p[D])/L,B=D<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(b>c.longSwipesMs){if(!c.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(R>=c.longSwipesRatio?e.slideTo(c.rewind&&e.isEnd?O:D+B):e.slideTo(D)),e.swipeDirection==="prev"&&(R>1-c.longSwipesRatio?e.slideTo(D+B):C!==null&&R<0&&Math.abs(R)>c.longSwipesRatio?e.slideTo(C):e.slideTo(D))}else{if(!c.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(D+B):e.slideTo(D):(e.swipeDirection==="next"&&e.slideTo(O!==null?O:D+B),e.swipeDirection==="prev"&&e.slideTo(C!==null?C:D))}}function _T(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:o}=n,c=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const d=c&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!d?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!c?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=a,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function kk(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function jk(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let a;const o=n.maxTranslate()-n.minTranslate();o===0?a=0:a=(n.translate-n.minTranslate())/o,a!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function Uk(n){const e=this;Yf(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function zk(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const oA=(n,e)=>{const t=Qr(),{params:r,el:a,wrapperEl:o,device:c}=n,d=!!r.nested,h=e==="on"?"addEventListener":"removeEventListener",p=e;!a||typeof a=="string"||(t[h]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:d}),a[h]("touchstart",n.onTouchStart,{passive:!1}),a[h]("pointerdown",n.onTouchStart,{passive:!1}),t[h]("touchmove",n.onTouchMove,{passive:!1,capture:d}),t[h]("pointermove",n.onTouchMove,{passive:!1,capture:d}),t[h]("touchend",n.onTouchEnd,{passive:!0}),t[h]("pointerup",n.onTouchEnd,{passive:!0}),t[h]("pointercancel",n.onTouchEnd,{passive:!0}),t[h]("touchcancel",n.onTouchEnd,{passive:!0}),t[h]("pointerout",n.onTouchEnd,{passive:!0}),t[h]("pointerleave",n.onTouchEnd,{passive:!0}),t[h]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[h]("click",n.onClick,!0),r.cssMode&&o[h]("scroll",n.onScroll),r.updateOnWindowResize?n[p](c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate",_T,!0):n[p]("observerUpdate",_T,!0),a[h]("load",n.onLoad,{capture:!0}))};function Bk(){const n=this,{params:e}=n;n.onTouchStart=Pk.bind(n),n.onTouchMove=Lk.bind(n),n.onTouchEnd=Vk.bind(n),n.onDocumentTouchStart=zk.bind(n),e.cssMode&&(n.onScroll=jk.bind(n)),n.onClick=kk.bind(n),n.onLoad=Uk.bind(n),oA(n,"on")}function Fk(){oA(this,"off")}var qk={attachEvents:Bk,detachEvents:Fk};const bT=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function Hk(){const n=this,{realIndex:e,initialized:t,params:r,el:a}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const c=Qr(),d=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",h=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:c.querySelector(r.breakpointsBase),p=n.getBreakpoint(o,d,h);if(!p||n.currentBreakpoint===p)return;const v=(p in o?o[p]:void 0)||n.originalParams,b=bT(n,r),T=bT(n,v),x=n.params.grabCursor,D=v.grabCursor,L=r.enabled;b&&!T?(a.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!b&&T&&(a.classList.add(`${r.containerModifierClass}grid`),(v.grid.fill&&v.grid.fill==="column"||!v.grid.fill&&r.grid.fill==="column")&&a.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),x&&!D?n.unsetGrabCursor():!x&&D&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(U=>{if(typeof v[U]>"u")return;const j=r[U]&&r[U].enabled,I=v[U]&&v[U].enabled;j&&!I&&n[U].disable(),!j&&I&&n[U].enable()});const O=v.direction&&v.direction!==r.direction,C=r.loop&&(v.slidesPerView!==r.slidesPerView||O),R=r.loop;O&&t&&n.changeDirection(),fr(n.params,v);const B=n.params.enabled,q=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),L&&!B?n.disable():!L&&B&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",v),t&&(C?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!R&&q?(n.loopCreate(e),n.updateSlides()):R&&!q&&n.loopDestroy()),n.emit("breakpoint",v)}function Gk(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const a=Hn(),o=e==="window"?a.innerHeight:t.clientHeight,c=Object.keys(n).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const h=parseFloat(d.substr(1));return{value:o*h,point:d}}return{value:d,point:d}});c.sort((d,h)=>parseInt(d.value,10)-parseInt(h.value,10));for(let d=0;d<c.length;d+=1){const{point:h,value:p}=c[d];e==="window"?a.matchMedia(`(min-width: ${p}px)`).matches&&(r=h):p<=t.clientWidth&&(r=h)}return r||"max"}var $k={setBreakpoint:Hk,getBreakpoint:Gk};function Qk(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&t.push(e+a)}):typeof r=="string"&&t.push(e+r)}),t}function Kk(){const n=this,{classNames:e,params:t,rtl:r,el:a,device:o}=n,c=Qk(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...c),a.classList.add(...e),n.emitContainerClasses()}function Yk(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var Xk={addClasses:Kk,removeClasses:Yk};function Wk(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const a=n.slides.length-1,o=n.slidesGrid[a]+n.slidesSizesGrid[a]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var Zk={checkOverflow:Wk},Ey={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Jk(n,e){return function(r){r===void 0&&(r={});const a=Object.keys(r)[0],o=r[a];if(typeof o!="object"||o===null){fr(e,r);return}if(n[a]===!0&&(n[a]={enabled:!0}),a==="navigation"&&n[a]&&n[a].enabled&&!n[a].prevEl&&!n[a].nextEl&&(n[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&n[a]&&n[a].enabled&&!n[a].el&&(n[a].auto=!0),!(a in n&&"enabled"in o)){fr(e,r);return}typeof n[a]=="object"&&!("enabled"in n[a])&&(n[a].enabled=!0),n[a]||(n[a]={enabled:!1}),fr(e,r)}}const Cg={eventsEmitter:XV,update:ok,translate:hk,transition:yk,slide:xk,loop:Ik,grabCursor:Ok,events:qk,breakpoints:$k,checkOverflow:Zk,classes:Xk},Ig={};let kv=class ts{constructor(){let e,t;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];a.length===1&&a[0].constructor&&Object.prototype.toString.call(a[0]).slice(8,-1)==="Object"?t=a[0]:[e,t]=a,t||(t={}),t=fr({},t),e&&!t.el&&(t.el=e);const c=Qr();if(t.el&&typeof t.el=="string"&&c.querySelectorAll(t.el).length>1){const g=[];return c.querySelectorAll(t.el).forEach(v=>{const b=fr({},t,{el:v});g.push(new ts(b))}),g}const d=this;d.__swiper__=!0,d.support=rA(),d.device=iA({userAgent:t.userAgent}),d.browser=sA(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],t.modules&&Array.isArray(t.modules)&&d.modules.push(...t.modules);const h={};d.modules.forEach(g=>{g({params:t,swiper:d,extendParams:Jk(t,h),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const p=fr({},Ey,h);return d.params=fr({},p,Ig,t),d.originalParams=fr({},d.params),d.passedParams=fr({},t),d.params&&d.params.on&&Object.keys(d.params.on).forEach(g=>{d.on(g,d.params.on[g])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,a=$r(t,`.${r.slideClass}, swiper-slide`),o=Rh(a[0]);return Rh(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=$r(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const a=r.minTranslate(),c=(r.maxTranslate()-a)*e+a;r.translateTo(c,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const a=e.getSlideClasses(r);t.push({slideEl:r,classNames:a}),e.emit("_slideClass",r,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:a,slides:o,slidesGrid:c,slidesSizesGrid:d,size:h,activeIndex:p}=r;let g=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let v=o[p]?Math.ceil(o[p].swiperSlideSize):0,b;for(let T=p+1;T<o.length;T+=1)o[T]&&!b&&(v+=Math.ceil(o[T].swiperSlideSize),g+=1,v>h&&(b=!0));for(let T=p-1;T>=0;T-=1)o[T]&&!b&&(v+=o[T].swiperSlideSize,g+=1,v>h&&(b=!0))}else if(e==="current")for(let v=p+1;v<o.length;v+=1)(t?c[v]+d[v]-c[p]<h:c[v]-c[p]<h)&&(g+=1);else for(let v=p-1;v>=0;v-=1)c[p]-c[v]<h&&(g+=1);return g}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete&&Yf(e,c)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function a(){const c=e.rtlTranslate?e.translate*-1:e.translate,d=Math.min(Math.max(c,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const c=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(c.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||a()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,a=r.params.direction;return e||(e=a==="horizontal"?"vertical":"horizontal"),e===a||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${a}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let c=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):$r(r,a())[0];return!c&&t.params.createElements&&(c=Ah("div",t.params.wrapperClass),r.append(c),$r(r,`.${t.params.slideClass}`).forEach(d=>{c.append(d)})),Object.assign(t,{el:r,wrapperEl:c,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:c,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||aa(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||aa(r,"direction")==="rtl"),wrongRTL:aa(c,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const a=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&a.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(o=>{o.complete?Yf(t,o):o.addEventListener("load",c=>{Yf(t,c.target)})}),wy(t),t.initialized=!0,wy(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:a,el:o,wrapperEl:c,slides:d}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),c&&c.removeAttribute("style"),d&&d.length&&d.forEach(h=>{h.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),h.removeAttribute("style"),h.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(h=>{r.off(h)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),kV(r)),r.destroyed=!0),null}static extendDefaults(e){fr(Ig,e)}static get extendedDefaults(){return Ig}static get defaults(){return Ey}static installModule(e){ts.prototype.__modules__||(ts.prototype.__modules__=[]);const t=ts.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>ts.installModule(t)),ts):(ts.installModule(e),ts)}};Object.keys(Cg).forEach(n=>{Object.keys(Cg[n]).forEach(e=>{kv.prototype[e]=Cg[n][e]})});kv.use([KV,YV]);const lA=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function bo(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Dl(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:bo(e[r])&&bo(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Dl(n[r],e[r]):n[r]=e[r]})}function uA(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function cA(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function dA(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function fA(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function ej(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function tj(n){let{swiper:e,slides:t,passedParams:r,changedParams:a,nextEl:o,prevEl:c,scrollbarEl:d,paginationEl:h}=n;const p=a.filter(A=>A!=="children"&&A!=="direction"&&A!=="wrapperClass"),{params:g,pagination:v,navigation:b,scrollbar:T,virtual:x,thumbs:D}=e;let L,O,C,R,B,q,U,j;a.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&g.thumbs&&(!g.thumbs.swiper||g.thumbs.swiper.destroyed)&&(L=!0),a.includes("controller")&&r.controller&&r.controller.control&&g.controller&&!g.controller.control&&(O=!0),a.includes("pagination")&&r.pagination&&(r.pagination.el||h)&&(g.pagination||g.pagination===!1)&&v&&!v.el&&(C=!0),a.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||d)&&(g.scrollbar||g.scrollbar===!1)&&T&&!T.el&&(R=!0),a.includes("navigation")&&r.navigation&&(r.navigation.prevEl||c)&&(r.navigation.nextEl||o)&&(g.navigation||g.navigation===!1)&&b&&!b.prevEl&&!b.nextEl&&(B=!0);const I=A=>{e[A]&&(e[A].destroy(),A==="navigation"?(e.isElement&&(e[A].prevEl.remove(),e[A].nextEl.remove()),g[A].prevEl=void 0,g[A].nextEl=void 0,e[A].prevEl=void 0,e[A].nextEl=void 0):(e.isElement&&e[A].el.remove(),g[A].el=void 0,e[A].el=void 0))};a.includes("loop")&&e.isElement&&(g.loop&&!r.loop?q=!0:!g.loop&&r.loop?U=!0:j=!0),p.forEach(A=>{if(bo(g[A])&&bo(r[A]))Object.assign(g[A],r[A]),(A==="navigation"||A==="pagination"||A==="scrollbar")&&"enabled"in r[A]&&!r[A].enabled&&I(A);else{const M=r[A];(M===!0||M===!1)&&(A==="navigation"||A==="pagination"||A==="scrollbar")?M===!1&&I(A):g[A]=r[A]}}),p.includes("controller")&&!O&&e.controller&&e.controller.control&&g.controller&&g.controller.control&&(e.controller.control=g.controller.control),a.includes("children")&&t&&x&&g.virtual.enabled?(x.slides=t,x.update(!0)):a.includes("virtual")&&x&&g.virtual.enabled&&(t&&(x.slides=t),x.update(!0)),a.includes("children")&&t&&g.loop&&(j=!0),L&&D.init()&&D.update(!0),O&&(e.controller.control=g.controller.control),C&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-pagination"),h.part.add("pagination"),e.el.appendChild(h)),h&&(g.pagination.el=h),v.init(),v.render(),v.update()),R&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),e.el.appendChild(d)),d&&(g.scrollbar.el=d),T.init(),T.updateSize(),T.setTranslate()),B&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-prev"),c.innerHTML=e.hostEl.constructor.prevButtonSvg,c.part.add("button-prev"),e.el.appendChild(c))),o&&(g.navigation.nextEl=o),c&&(g.navigation.prevEl=c),b.init(),b.update()),a.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),a.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),a.includes("direction")&&e.changeDirection(r.direction,!1),(q||j)&&e.loopDestroy(),(U||j)&&e.loopCreate(),e.update()}function nj(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},a={};Dl(t,Ey),t._emitClasses=!0,t.init=!1;const o={},c=lA.map(h=>h.replace(/_/,"")),d=Object.assign({},n);return Object.keys(d).forEach(h=>{typeof n[h]>"u"||(c.indexOf(h)>=0?bo(n[h])?(t[h]={},a[h]={},Dl(t[h],n[h]),Dl(a[h],n[h])):(t[h]=n[h],a[h]=n[h]):h.search(/on[A-Z]/)===0&&typeof n[h]=="function"?e?r[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:t.on[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:o[h]=n[h])}),["navigation","pagination","scrollbar"].forEach(h=>{t[h]===!0&&(t[h]={}),t[h]===!1&&delete t[h]}),{params:t,passedParams:a,rest:o,events:r}}function rj(n,e){let{el:t,nextEl:r,prevEl:a,paginationEl:o,scrollbarEl:c,swiper:d}=n;uA(e)&&r&&a&&(d.params.navigation.nextEl=r,d.originalParams.navigation.nextEl=r,d.params.navigation.prevEl=a,d.originalParams.navigation.prevEl=a),cA(e)&&o&&(d.params.pagination.el=o,d.originalParams.pagination.el=o),dA(e)&&c&&(d.params.scrollbar.el=c,d.originalParams.scrollbar.el=c),d.init(t)}function ij(n,e,t,r,a){const o=[];if(!e)return o;const c=h=>{o.indexOf(h)<0&&o.push(h)};if(t&&r){const h=r.map(a),p=t.map(a);h.join("")!==p.join("")&&c("children"),r.length!==t.length&&c("children")}return lA.filter(h=>h[0]==="_").map(h=>h.replace(/_/,"")).forEach(h=>{if(h in n&&h in e)if(bo(n[h])&&bo(e[h])){const p=Object.keys(n[h]),g=Object.keys(e[h]);p.length!==g.length?c(h):(p.forEach(v=>{n[h][v]!==e[h][v]&&c(h)}),g.forEach(v=>{n[h][v]!==e[h][v]&&c(h)}))}else n[h]!==e[h]&&c(h)}),o}const sj=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Ch(){return Ch=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ch.apply(this,arguments)}function hA(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function mA(n){const e=[];return Nt.Children.toArray(n).forEach(t=>{hA(t)?e.push(t):t.props&&t.props.children&&mA(t.props.children).forEach(r=>e.push(r))}),e}function aj(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Nt.Children.toArray(n).forEach(r=>{if(hA(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const a=mA(r.props.children);a.length>0?a.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function oj(n,e,t){if(!t)return null;const r=g=>{let v=g;return g<0?v=e.length+g:v>=e.length&&(v=v-e.length),v},a=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:c}=t,d=n.params.loop?-e.length:0,h=n.params.loop?e.length*2:e.length,p=[];for(let g=d;g<h;g+=1)g>=o&&g<=c&&p.push(e[r(g)]);return p.map((g,v)=>Nt.cloneElement(g,{swiper:n,style:a,key:g.props.virtualIndex||g.key||`slide-${v}`}))}function Ic(n,e){return typeof window>"u"?Q.useEffect(n,e):Q.useLayoutEffect(n,e)}const wT=Q.createContext(null),lj=Q.createContext(null),El=Q.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:a="div",children:o,onSwiper:c,...d}=n===void 0?{}:n,h=!1;const[p,g]=Q.useState("swiper"),[v,b]=Q.useState(null),[T,x]=Q.useState(!1),D=Q.useRef(!1),L=Q.useRef(null),O=Q.useRef(null),C=Q.useRef(null),R=Q.useRef(null),B=Q.useRef(null),q=Q.useRef(null),U=Q.useRef(null),j=Q.useRef(null),{params:I,passedParams:A,rest:M,events:V}=nj(d),{slides:z,slots:k}=aj(o),_e=()=>{x(!T)};Object.assign(I.on,{_containerClasses(ye,F){g(F)}});const we=()=>{Object.assign(I.on,V),h=!0;const ye={...I};if(delete ye.wrapperClass,O.current=new kv(ye),O.current.virtual&&O.current.params.virtual.enabled){O.current.virtual.slides=z;const F={cache:!1,slides:z,renderExternal:b,renderExternalUpdate:!1};Dl(O.current.params.virtual,F),Dl(O.current.originalParams.virtual,F)}};L.current||we(),O.current&&O.current.on("_beforeBreakpoint",_e);const $=()=>{h||!V||!O.current||Object.keys(V).forEach(ye=>{O.current.on(ye,V[ye])})},oe=()=>{!V||!O.current||Object.keys(V).forEach(ye=>{O.current.off(ye,V[ye])})};Q.useEffect(()=>()=>{O.current&&O.current.off("_beforeBreakpoint",_e)}),Q.useEffect(()=>{!D.current&&O.current&&(O.current.emitSlidesClasses(),D.current=!0)}),Ic(()=>{if(e&&(e.current=L.current),!!L.current)return O.current.destroyed&&we(),rj({el:L.current,nextEl:B.current,prevEl:q.current,paginationEl:U.current,scrollbarEl:j.current,swiper:O.current},I),c&&!O.current.destroyed&&c(O.current),()=>{O.current&&!O.current.destroyed&&O.current.destroy(!0,!1)}},[]),Ic(()=>{$();const ye=ij(A,C.current,z,R.current,F=>F.key);return C.current=A,R.current=z,ye.length&&O.current&&!O.current.destroyed&&tj({swiper:O.current,slides:z,passedParams:A,changedParams:ye,nextEl:B.current,prevEl:q.current,scrollbarEl:j.current,paginationEl:U.current}),()=>{oe()}}),Ic(()=>{sj(O.current)},[v]);function le(){return I.virtual?oj(O.current,z,v):z.map((ye,F)=>Nt.cloneElement(ye,{swiper:O.current,swiperSlideIndex:F}))}return Nt.createElement(r,Ch({ref:L,className:fA(`${p}${t?` ${t}`:""}`)},M),Nt.createElement(lj.Provider,{value:O.current},k["container-start"],Nt.createElement(a,{className:ej(I.wrapperClass)},k["wrapper-start"],le(),k["wrapper-end"]),uA(I)&&Nt.createElement(Nt.Fragment,null,Nt.createElement("div",{ref:q,className:"swiper-button-prev"}),Nt.createElement("div",{ref:B,className:"swiper-button-next"})),dA(I)&&Nt.createElement("div",{ref:j,className:"swiper-scrollbar"}),cA(I)&&Nt.createElement("div",{ref:U,className:"swiper-pagination"}),k["container-end"]))});El.displayName="Swiper";const Tl=Q.forwardRef(function(n,e){let{tag:t="div",children:r,className:a="",swiper:o,zoom:c,lazy:d,virtualIndex:h,swiperSlideIndex:p,...g}=n===void 0?{}:n;const v=Q.useRef(null),[b,T]=Q.useState("swiper-slide"),[x,D]=Q.useState(!1);function L(B,q,U){q===v.current&&T(U)}Ic(()=>{if(typeof p<"u"&&(v.current.swiperSlideIndex=p),e&&(e.current=v.current),!(!v.current||!o)){if(o.destroyed){b!=="swiper-slide"&&T("swiper-slide");return}return o.on("_slideClass",L),()=>{o&&o.off("_slideClass",L)}}}),Ic(()=>{o&&v.current&&!o.destroyed&&T(o.getSlideClasses(v.current))},[o]);const O={isActive:b.indexOf("swiper-slide-active")>=0,isVisible:b.indexOf("swiper-slide-visible")>=0,isPrev:b.indexOf("swiper-slide-prev")>=0,isNext:b.indexOf("swiper-slide-next")>=0},C=()=>typeof r=="function"?r(O):r,R=()=>{D(!0)};return Nt.createElement(t,Ch({ref:v,className:fA(`${b}${a?` ${a}`:""}`),"data-swiper-slide-index":h,onLoad:R},g),c&&Nt.createElement(wT.Provider,{value:O},Nt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof c=="number"?c:void 0},C(),d&&!x&&Nt.createElement("div",{className:"swiper-lazy-preloader"}))),!c&&Nt.createElement(wT.Provider,{value:O},C(),d&&!x&&Nt.createElement("div",{className:"swiper-lazy-preloader"})))});Tl.displayName="SwiperSlide";function pA(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(a=>{if(!t[a]&&t.auto===!0){let o=$r(n.el,`.${r[a]}`)[0];o||(o=Ah("div",r[a]),o.className=r[a],n.el.append(o)),t[a]=o,e[a]=o}}),t}function Xf(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(x){let D;return x&&typeof x=="string"&&e.isElement&&(D=e.el.querySelector(x)||e.hostEl.querySelector(x),D)?D:(x&&(typeof x=="string"&&(D=[...document.querySelectorAll(x)]),e.params.uniqueNavElements&&typeof x=="string"&&D&&D.length>1&&e.el.querySelectorAll(x).length===1?D=e.el.querySelector(x):D&&D.length===1&&(D=D[0])),x&&!D?x:D)}function c(x,D){const L=e.params.navigation;x=hn(x),x.forEach(O=>{O&&(O.classList[D?"add":"remove"](...L.disabledClass.split(" ")),O.tagName==="BUTTON"&&(O.disabled=D),e.params.watchOverflow&&e.enabled&&O.classList[e.isLocked?"add":"remove"](L.lockClass))})}function d(){const{nextEl:x,prevEl:D}=e.navigation;if(e.params.loop){c(D,!1),c(x,!1);return}c(D,e.isBeginning&&!e.params.rewind),c(x,e.isEnd&&!e.params.rewind)}function h(x){x.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function p(x){x.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function g(){const x=e.params.navigation;if(e.params.navigation=pA(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(x.nextEl||x.prevEl))return;let D=o(x.nextEl),L=o(x.prevEl);Object.assign(e.navigation,{nextEl:D,prevEl:L}),D=hn(D),L=hn(L);const O=(C,R)=>{C&&C.addEventListener("click",R==="next"?p:h),!e.enabled&&C&&C.classList.add(...x.lockClass.split(" "))};D.forEach(C=>O(C,"next")),L.forEach(C=>O(C,"prev"))}function v(){let{nextEl:x,prevEl:D}=e.navigation;x=hn(x),D=hn(D);const L=(O,C)=>{O.removeEventListener("click",C==="next"?p:h),O.classList.remove(...e.params.navigation.disabledClass.split(" "))};x.forEach(O=>L(O,"next")),D.forEach(O=>L(O,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?T():(g(),d())}),r("toEdge fromEdge lock unlock",()=>{d()}),r("destroy",()=>{v()}),r("enable disable",()=>{let{nextEl:x,prevEl:D}=e.navigation;if(x=hn(x),D=hn(D),e.enabled){d();return}[...x,...D].filter(L=>!!L).forEach(L=>L.classList.add(e.params.navigation.lockClass))}),r("click",(x,D)=>{let{nextEl:L,prevEl:O}=e.navigation;L=hn(L),O=hn(O);const C=D.target;let R=O.includes(C)||L.includes(C);if(e.isElement&&!R){const B=D.path||D.composedPath&&D.composedPath();B&&(R=B.find(q=>L.includes(q)||O.includes(q)))}if(e.params.navigation.hideOnClick&&!R){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===C||e.pagination.el.contains(C)))return;let B;L.length?B=L[0].classList.contains(e.params.navigation.hiddenClass):O.length&&(B=O[0].classList.contains(e.params.navigation.hiddenClass)),a(B===!0?"navigationShow":"navigationHide"),[...L,...O].filter(q=>!!q).forEach(q=>q.classList.toggle(e.params.navigation.hiddenClass))}});const b=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),g(),d()},T=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),v()};Object.assign(e.navigation,{enable:b,disable:T,update:d,init:g,destroy:v})}function mc(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function uj(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:C=>C,formatFractionTotal:C=>C,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let c,d=0;function h(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(C,R){const{bulletActiveClass:B}=e.params.pagination;C&&(C=C[`${R==="prev"?"previous":"next"}ElementSibling`],C&&(C.classList.add(`${B}-${R}`),C=C[`${R==="prev"?"previous":"next"}ElementSibling`],C&&C.classList.add(`${B}-${R}-${R}`)))}function g(C,R,B){if(C=C%B,R=R%B,R===C+1)return"next";if(R===C-1)return"previous"}function v(C){const R=C.target.closest(mc(e.params.pagination.bulletClass));if(!R)return;C.preventDefault();const B=Rh(R)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===B)return;const q=g(e.realIndex,B,e.slides.length);q==="next"?e.slideNext():q==="previous"?e.slidePrev():e.slideToLoop(B)}else e.slideTo(B)}function b(){const C=e.rtl,R=e.params.pagination;if(h())return;let B=e.pagination.el;B=hn(B);let q,U;const j=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,I=e.params.loop?Math.ceil(j/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(U=e.previousRealIndex||0,q=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(q=e.snapIndex,U=e.previousSnapIndex):(U=e.previousIndex||0,q=e.activeIndex||0),R.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const A=e.pagination.bullets;let M,V,z;if(R.dynamicBullets&&(c=by(A[0],e.isHorizontal()?"width":"height"),B.forEach(k=>{k.style[e.isHorizontal()?"width":"height"]=`${c*(R.dynamicMainBullets+4)}px`}),R.dynamicMainBullets>1&&U!==void 0&&(d+=q-(U||0),d>R.dynamicMainBullets-1?d=R.dynamicMainBullets-1:d<0&&(d=0)),M=Math.max(q-d,0),V=M+(Math.min(A.length,R.dynamicMainBullets)-1),z=(V+M)/2),A.forEach(k=>{const _e=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(we=>`${R.bulletActiveClass}${we}`)].map(we=>typeof we=="string"&&we.includes(" ")?we.split(" "):we).flat();k.classList.remove(..._e)}),B.length>1)A.forEach(k=>{const _e=Rh(k);_e===q?k.classList.add(...R.bulletActiveClass.split(" ")):e.isElement&&k.setAttribute("part","bullet"),R.dynamicBullets&&(_e>=M&&_e<=V&&k.classList.add(...`${R.bulletActiveClass}-main`.split(" ")),_e===M&&p(k,"prev"),_e===V&&p(k,"next"))});else{const k=A[q];if(k&&k.classList.add(...R.bulletActiveClass.split(" ")),e.isElement&&A.forEach((_e,we)=>{_e.setAttribute("part",we===q?"bullet-active":"bullet")}),R.dynamicBullets){const _e=A[M],we=A[V];for(let $=M;$<=V;$+=1)A[$]&&A[$].classList.add(...`${R.bulletActiveClass}-main`.split(" "));p(_e,"prev"),p(we,"next")}}if(R.dynamicBullets){const k=Math.min(A.length,R.dynamicMainBullets+4),_e=(c*k-c)/2-z*c,we=C?"right":"left";A.forEach($=>{$.style[e.isHorizontal()?we:"top"]=`${_e}px`})}}B.forEach((A,M)=>{if(R.type==="fraction"&&(A.querySelectorAll(mc(R.currentClass)).forEach(V=>{V.textContent=R.formatFractionCurrent(q+1)}),A.querySelectorAll(mc(R.totalClass)).forEach(V=>{V.textContent=R.formatFractionTotal(I)})),R.type==="progressbar"){let V;R.progressbarOpposite?V=e.isHorizontal()?"vertical":"horizontal":V=e.isHorizontal()?"horizontal":"vertical";const z=(q+1)/I;let k=1,_e=1;V==="horizontal"?k=z:_e=z,A.querySelectorAll(mc(R.progressbarFillClass)).forEach(we=>{we.style.transform=`translate3d(0,0,0) scaleX(${k}) scaleY(${_e})`,we.style.transitionDuration=`${e.params.speed}ms`})}R.type==="custom"&&R.renderCustom?(A.innerHTML=R.renderCustom(e,q+1,I),M===0&&a("paginationRender",A)):(M===0&&a("paginationRender",A),a("paginationUpdate",A)),e.params.watchOverflow&&e.enabled&&A.classList[e.isLocked?"add":"remove"](R.lockClass)})}function T(){const C=e.params.pagination;if(h())return;const R=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let B=e.pagination.el;B=hn(B);let q="";if(C.type==="bullets"){let U=e.params.loop?Math.ceil(R/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&U>R&&(U=R);for(let j=0;j<U;j+=1)C.renderBullet?q+=C.renderBullet.call(e,j,C.bulletClass):q+=`<${C.bulletElement} ${e.isElement?'part="bullet"':""} class="${C.bulletClass}"></${C.bulletElement}>`}C.type==="fraction"&&(C.renderFraction?q=C.renderFraction.call(e,C.currentClass,C.totalClass):q=`<span class="${C.currentClass}"></span> / <span class="${C.totalClass}"></span>`),C.type==="progressbar"&&(C.renderProgressbar?q=C.renderProgressbar.call(e,C.progressbarFillClass):q=`<span class="${C.progressbarFillClass}"></span>`),e.pagination.bullets=[],B.forEach(U=>{C.type!=="custom"&&(U.innerHTML=q||""),C.type==="bullets"&&e.pagination.bullets.push(...U.querySelectorAll(mc(C.bulletClass)))}),C.type!=="custom"&&a("paginationRender",B[0])}function x(){e.params.pagination=pA(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const C=e.params.pagination;if(!C.el)return;let R;typeof C.el=="string"&&e.isElement&&(R=e.el.querySelector(C.el)),!R&&typeof C.el=="string"&&(R=[...document.querySelectorAll(C.el)]),R||(R=C.el),!(!R||R.length===0)&&(e.params.uniqueNavElements&&typeof C.el=="string"&&Array.isArray(R)&&R.length>1&&(R=[...e.el.querySelectorAll(C.el)],R.length>1&&(R=R.find(B=>nA(B,".swiper")[0]===e.el))),Array.isArray(R)&&R.length===1&&(R=R[0]),Object.assign(e.pagination,{el:R}),R=hn(R),R.forEach(B=>{C.type==="bullets"&&C.clickable&&B.classList.add(...(C.clickableClass||"").split(" ")),B.classList.add(C.modifierClass+C.type),B.classList.add(e.isHorizontal()?C.horizontalClass:C.verticalClass),C.type==="bullets"&&C.dynamicBullets&&(B.classList.add(`${C.modifierClass}${C.type}-dynamic`),d=0,C.dynamicMainBullets<1&&(C.dynamicMainBullets=1)),C.type==="progressbar"&&C.progressbarOpposite&&B.classList.add(C.progressbarOppositeClass),C.clickable&&B.addEventListener("click",v),e.enabled||B.classList.add(C.lockClass)}))}function D(){const C=e.params.pagination;if(h())return;let R=e.pagination.el;R&&(R=hn(R),R.forEach(B=>{B.classList.remove(C.hiddenClass),B.classList.remove(C.modifierClass+C.type),B.classList.remove(e.isHorizontal()?C.horizontalClass:C.verticalClass),C.clickable&&(B.classList.remove(...(C.clickableClass||"").split(" ")),B.removeEventListener("click",v))})),e.pagination.bullets&&e.pagination.bullets.forEach(B=>B.classList.remove(...C.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const C=e.params.pagination;let{el:R}=e.pagination;R=hn(R),R.forEach(B=>{B.classList.remove(C.horizontalClass,C.verticalClass),B.classList.add(e.isHorizontal()?C.horizontalClass:C.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?O():(x(),T(),b())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&b()}),r("snapIndexChange",()=>{b()}),r("snapGridLengthChange",()=>{T(),b()}),r("destroy",()=>{D()}),r("enable disable",()=>{let{el:C}=e.pagination;C&&(C=hn(C),C.forEach(R=>R.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{b()}),r("click",(C,R)=>{const B=R.target,q=hn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&q&&q.length>0&&!B.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&B===e.navigation.nextEl||e.navigation.prevEl&&B===e.navigation.prevEl))return;const U=q[0].classList.contains(e.params.pagination.hiddenClass);a(U===!0?"paginationShow":"paginationHide"),q.forEach(j=>j.classList.toggle(e.params.pagination.hiddenClass))}});const L=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:C}=e.pagination;C&&(C=hn(C),C.forEach(R=>R.classList.remove(e.params.pagination.paginationDisabledClass))),x(),T(),b()},O=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:C}=e.pagination;C&&(C=hn(C),C.forEach(R=>R.classList.add(e.params.pagination.paginationDisabledClass))),D()};Object.assign(e.pagination,{enable:L,disable:O,render:T,update:b,init:x,destroy:D})}function cj(n){let{swiper:e,extendParams:t,on:r,emit:a,params:o}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let c,d,h=o&&o.autoplay?o.autoplay.delay:3e3,p=o&&o.autoplay?o.autoplay.delay:3e3,g,v=new Date().getTime(),b,T,x,D,L,O,C;function R(le){!e||e.destroyed||!e.wrapperEl||le.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",R),!(C||le.detail&&le.detail.bySwiperTouchMove)&&M())}const B=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?b=!0:b&&(p=g,b=!1);const le=e.autoplay.paused?g:v+p-new Date().getTime();e.autoplay.timeLeft=le,a("autoplayTimeLeft",le,le/h),d=requestAnimationFrame(()=>{B()})},q=()=>{let le;return e.virtual&&e.params.virtual.enabled?le=e.slides.find(F=>F.classList.contains("swiper-slide-active")):le=e.slides[e.activeIndex],le?parseInt(le.getAttribute("data-swiper-autoplay"),10):void 0},U=le=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(d),B();let ye=typeof le>"u"?e.params.autoplay.delay:le;h=e.params.autoplay.delay,p=e.params.autoplay.delay;const F=q();!Number.isNaN(F)&&F>0&&typeof le>"u"&&(ye=F,h=F,p=F),g=ye;const se=e.params.speed,ge=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(se,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,se,!0,!0),a("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(se,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,se,!0,!0),a("autoplay")),e.params.cssMode&&(v=new Date().getTime(),requestAnimationFrame(()=>{U()})))};return ye>0?(clearTimeout(c),c=setTimeout(()=>{ge()},ye)):requestAnimationFrame(()=>{ge()}),ye},j=()=>{v=new Date().getTime(),e.autoplay.running=!0,U(),a("autoplayStart")},I=()=>{e.autoplay.running=!1,clearTimeout(c),cancelAnimationFrame(d),a("autoplayStop")},A=(le,ye)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(c),le||(O=!0);const F=()=>{a("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",R):M()};if(e.autoplay.paused=!0,ye){L&&(g=e.params.autoplay.delay),L=!1,F();return}g=(g||e.params.autoplay.delay)-(new Date().getTime()-v),!(e.isEnd&&g<0&&!e.params.loop)&&(g<0&&(g=0),F())},M=()=>{e.isEnd&&g<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(v=new Date().getTime(),O?(O=!1,U(g)):U(),e.autoplay.paused=!1,a("autoplayResume"))},V=()=>{if(e.destroyed||!e.autoplay.running)return;const le=Qr();le.visibilityState==="hidden"&&(O=!0,A(!0)),le.visibilityState==="visible"&&M()},z=le=>{le.pointerType==="mouse"&&(O=!0,C=!0,!(e.animating||e.autoplay.paused)&&A(!0))},k=le=>{le.pointerType==="mouse"&&(C=!1,e.autoplay.paused&&M())},_e=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",z),e.el.addEventListener("pointerleave",k))},we=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",z),e.el.removeEventListener("pointerleave",k))},$=()=>{Qr().addEventListener("visibilitychange",V)},oe=()=>{Qr().removeEventListener("visibilitychange",V)};r("init",()=>{e.params.autoplay.enabled&&(_e(),$(),j())}),r("destroy",()=>{we(),oe(),e.autoplay.running&&I()}),r("_freeModeStaticRelease",()=>{(x||O)&&M()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?I():A(!0,!0)}),r("beforeTransitionStart",(le,ye,F)=>{e.destroyed||!e.autoplay.running||(F||!e.params.autoplay.disableOnInteraction?A(!0,!0):I())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){I();return}T=!0,x=!1,O=!1,D=setTimeout(()=>{O=!0,x=!0,A(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!T)){if(clearTimeout(D),clearTimeout(c),e.params.autoplay.disableOnInteraction){x=!1,T=!1;return}x&&e.params.cssMode&&M(),x=!1,T=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(L=!0)}),Object.assign(e.autoplay,{start:j,stop:I,pause:A,resume:M})}function ET(n){let{swiper:e,extendParams:t,on:r}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let a=!1,o=!1;e.thumbs={swiper:null};function c(){const p=e.thumbs.swiper;if(!p||p.destroyed)return;const g=p.clickedIndex,v=p.clickedSlide;if(v&&v.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof g>"u"||g===null)return;let b;p.params.loop?b=parseInt(p.clickedSlide.getAttribute("data-swiper-slide-index"),10):b=g,e.params.loop?e.slideToLoop(b):e.slideTo(b)}function d(){const{thumbs:p}=e.params;if(a)return!1;a=!0;const g=e.constructor;if(p.swiper instanceof g){if(p.swiper.destroyed)return a=!1,!1;e.thumbs.swiper=p.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(Sc(p.swiper)){const v=Object.assign({},p.swiper);Object.assign(v,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new g(v),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",c),!0}function h(p){const g=e.thumbs.swiper;if(!g||g.destroyed)return;const v=g.params.slidesPerView==="auto"?g.slidesPerViewDynamic():g.params.slidesPerView;let b=1;const T=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(b=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(b=1),b=Math.floor(b),g.slides.forEach(L=>L.classList.remove(T)),g.params.loop||g.params.virtual&&g.params.virtual.enabled)for(let L=0;L<b;L+=1)$r(g.slidesEl,`[data-swiper-slide-index="${e.realIndex+L}"]`).forEach(O=>{O.classList.add(T)});else for(let L=0;L<b;L+=1)g.slides[e.realIndex+L]&&g.slides[e.realIndex+L].classList.add(T);const x=e.params.thumbs.autoScrollOffset,D=x&&!g.params.loop;if(e.realIndex!==g.realIndex||D){const L=g.activeIndex;let O,C;if(g.params.loop){const R=g.slides.find(B=>B.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);O=g.slides.indexOf(R),C=e.activeIndex>e.previousIndex?"next":"prev"}else O=e.realIndex,C=O>e.previousIndex?"next":"prev";D&&(O+=C==="next"?x:-1*x),g.visibleSlidesIndexes&&g.visibleSlidesIndexes.indexOf(O)<0&&(g.params.centeredSlides?O>L?O=O-Math.floor(v/2)+1:O=O+Math.floor(v/2)-1:O>L&&g.params.slidesPerGroup,g.slideTo(O,p?0:void 0))}}r("beforeInit",()=>{const{thumbs:p}=e.params;if(!(!p||!p.swiper))if(typeof p.swiper=="string"||p.swiper instanceof HTMLElement){const g=Qr(),v=()=>{const T=typeof p.swiper=="string"?g.querySelector(p.swiper):p.swiper;if(T&&T.swiper)p.swiper=T.swiper,d(),h(!0);else if(T){const x=`${e.params.eventsPrefix}init`,D=L=>{p.swiper=L.detail[0],T.removeEventListener(x,D),d(),h(!0),p.swiper.update(),e.update()};T.addEventListener(x,D)}return T},b=()=>{if(e.destroyed)return;v()||requestAnimationFrame(b)};requestAnimationFrame(b)}else d(),h(!0)}),r("slideChange update resize observerUpdate",()=>{h()}),r("setTransition",(p,g)=>{const v=e.thumbs.swiper;!v||v.destroyed||v.setTransition(g)}),r("beforeDestroy",()=>{const p=e.thumbs.swiper;!p||p.destroyed||o&&p.destroy()}),Object.assign(e.thumbs,{init:d,update:h})}function TT(n){let{swiper:e,extendParams:t,emit:r,once:a}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){if(e.params.cssMode)return;const h=e.getTranslate();e.setTranslate(h),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function c(){if(e.params.cssMode)return;const{touchEventsData:h,touches:p}=e;h.velocities.length===0&&h.velocities.push({position:p[e.isHorizontal()?"startX":"startY"],time:h.touchStartTime}),h.velocities.push({position:p[e.isHorizontal()?"currentX":"currentY"],time:fo()})}function d(h){let{currentPos:p}=h;if(e.params.cssMode)return;const{params:g,wrapperEl:v,rtlTranslate:b,snapGrid:T,touchEventsData:x}=e,L=fo()-x.touchStartTime;if(p<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(p>-e.maxTranslate()){e.slides.length<T.length?e.slideTo(T.length-1):e.slideTo(e.slides.length-1);return}if(g.freeMode.momentum){if(x.velocities.length>1){const I=x.velocities.pop(),A=x.velocities.pop(),M=I.position-A.position,V=I.time-A.time;e.velocity=M/V,e.velocity/=2,Math.abs(e.velocity)<g.freeMode.minimumVelocity&&(e.velocity=0),(V>150||fo()-I.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=g.freeMode.momentumVelocityRatio,x.velocities.length=0;let O=1e3*g.freeMode.momentumRatio;const C=e.velocity*O;let R=e.translate+C;b&&(R=-R);let B=!1,q;const U=Math.abs(e.velocity)*20*g.freeMode.momentumBounceRatio;let j;if(R<e.maxTranslate())g.freeMode.momentumBounce?(R+e.maxTranslate()<-U&&(R=e.maxTranslate()-U),q=e.maxTranslate(),B=!0,x.allowMomentumBounce=!0):R=e.maxTranslate(),g.loop&&g.centeredSlides&&(j=!0);else if(R>e.minTranslate())g.freeMode.momentumBounce?(R-e.minTranslate()>U&&(R=e.minTranslate()+U),q=e.minTranslate(),B=!0,x.allowMomentumBounce=!0):R=e.minTranslate(),g.loop&&g.centeredSlides&&(j=!0);else if(g.freeMode.sticky){let I;for(let A=0;A<T.length;A+=1)if(T[A]>-R){I=A;break}Math.abs(T[I]-R)<Math.abs(T[I-1]-R)||e.swipeDirection==="next"?R=T[I]:R=T[I-1],R=-R}if(j&&a("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(b?O=Math.abs((-R-e.translate)/e.velocity):O=Math.abs((R-e.translate)/e.velocity),g.freeMode.sticky){const I=Math.abs((b?-R:R)-e.translate),A=e.slidesSizesGrid[e.activeIndex];I<A?O=g.speed:I<2*A?O=g.speed*1.5:O=g.speed*2.5}}else if(g.freeMode.sticky){e.slideToClosest();return}g.freeMode.momentumBounce&&B?(e.updateProgress(q),e.setTransition(O),e.setTranslate(R),e.transitionStart(!0,e.swipeDirection),e.animating=!0,Eg(v,()=>{!e||e.destroyed||!x.allowMomentumBounce||(r("momentumBounce"),e.setTransition(g.speed),setTimeout(()=>{e.setTranslate(q),Eg(v,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(R),e.setTransition(O),e.setTranslate(R),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,Eg(v,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(R),e.updateActiveIndex(),e.updateSlidesClasses()}else if(g.freeMode.sticky){e.slideToClosest();return}else g.freeMode&&r("_freeModeNoMomentumRelease");(!g.freeMode.momentum||L>=g.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:o,onTouchMove:c,onTouchEnd:d}})}const dj=()=>{const[n,e]=Q.useState([]);return Q.useEffect(()=>{(async()=>{try{const r=await Co(cs(Xr,"hero-slider-images")),a=[];r.forEach(o=>{const c=o.data();c.image&&c.image.url&&a.push(c.image.url)}),e(a)}catch(r){console.error("Error fetching images:",r)}})()},[]),w.jsx("div",{className:"w-full",children:w.jsx(El,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!1,modules:[cj,uj,Xf],className:"mySwiper",children:n.map((t,r)=>w.jsx(Tl,{children:w.jsx("img",{src:t,alt:`Slide ${r+1}`,className:"w-full h-[450px] object-cover"})},r))})})},ST=()=>w.jsx("div",{className:"w-[80%] mx-auto mt-6",children:w.jsx("div",{children:w.jsx(dj,{})})}),fj=Q.createContext(),hj=({children:n})=>{const[e,t]=Q.useState(null),[r,a]=Q.useState(!0);Q.useEffect(()=>{const h=y4(bg,p=>{t(p),a(!1)});return()=>h()},[]);const d={user:e,login:async(h,p)=>{a(!0);try{await m4(bg,h,p)}catch(g){console.error("Login error:",g.message)}finally{a(!1)}},logout:async()=>{await v4(bg)},loading:r};return w.jsx(fj.Provider,{value:d,children:n})},mj=()=>w.jsx("div",{children:w.jsx("p",{children:"this is admin page"})}),xT=()=>{const{gender:n,category:e}=Iy(),t=2,r=async({pageParam:v=null})=>{const b=v?eu(cs(Xr,"products"),no("gender","==",n),no("subcategory","array-contains",e.toLowerCase()),e1(v),gh(t)):eu(cs(Xr,"products"),no("gender","==",n),no("subcategory","array-contains",e.toLowerCase()),gh(t)),T=await Co(b),x=[];return T.forEach(D=>{const L=D.data();L.available&&L.stock>0&&x.push({id:D.id,...L})}),{products:x,lastVisible:T.docs[T.docs.length-1]}},{data:a,fetchNextPage:o,hasNextPage:c,isFetchingNextPage:d,isLoading:h,error:p}=J1({queryKey:["products",n,e],queryFn:r,getNextPageParam:v=>v.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),g=(a==null?void 0:a.pages.flatMap(v=>v.products))||[];return h?w.jsx("div",{className:"flex justify-center items-center h-64",children:w.jsxs("div",{className:"text-center",children:[w.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),w.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):p?w.jsx("div",{className:"text-center py-8",children:"Error loading products"}):w.jsxs("div",{className:"w-[100%] xl:w-[90%] mx-auto px-3 sm:px-0",children:[w.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Showing products for ",n," / ",e]}),g.length===0?w.jsx("p",{children:"No products found in this category."}):w.jsxs(w.Fragment,{children:[w.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-1 for_set-grid",children:g.map(v=>{const b=v.discount&&v.discount>0;return w.jsxs("li",{className:"border border-gray-400 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col mb-6",children:[w.jsxs("div",{className:"p-3 flex-grow flex flex-col",children:[w.jsxs(rn,{to:`/product/${v.productId}`,className:"relative",children:[w.jsx("img",{src:v.mainImage,alt:v.name,className:"w-full h-48 object-cover mb-2"}),b&&w.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[v.discount,"%"]})]}),w.jsx("h3",{className:"text-sm font-medium text-gray-800 line-clamp-2 mb-1",children:v.name}),w.jsx("div",{className:"mt-auto",children:w.jsxs("div",{className:"flex flex-row items-center gap-2 space-y-0",children:[w.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["",v.discount?(v.price-v.price*(v.discount/100)).toFixed(2):v.price]}),v.regularPrice&&w.jsx("div",{className:"text-xs text-gray-500",children:w.jsxs("del",{children:["",v.regularPrice]})})]})})]}),w.jsxs("div",{className:"p-3 pt-2 border-t border-gray-100 space-y-2",children:[w.jsxs("div",{className:"flex gap-2 mb-0",children:[w.jsx("button",{className:"flex-1 border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Add to Cart"}),w.jsx("button",{className:"flex-1 border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),w.jsxs("div",{className:"flex justify-between items-center pt-1",children:[w.jsx("span",{className:`text-xs font-medium ${v.stock>0?"text-green-600":"text-red-500"}`,children:v.stock>0?"In Stock":"Out of Stock"}),v.stock>0&&w.jsxs("span",{className:"text-xs text-gray-500",children:[v.stock," units available"]})]})]})]},v.id)})}),c&&w.jsx("div",{className:"mt-6 text-center",children:w.jsx("button",{onClick:()=>o(),disabled:d,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded inline-flex items-center",children:d?w.jsxs(w.Fragment,{children:[w.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More Products"})})]})]})},pj=()=>{const[t,r]=ZI(),a=Number(t.get("page"))||1,[o,c]=Q.useState(!1),{data:d=[],isLoading:h}=OV({queryKey:["allProducts"],queryFn:async()=>{const v=await Co(cs(Xr,"products")),b=[];v.forEach(x=>{const D=x.data();D.available&&D.stock>0&&b.push({id:x.id,...D})});const T=[...b];for(let x=T.length-1;x>0;x--){const D=Math.floor(Math.random()*(x+1));[T[x],T[D]]=[T[D],T[x]]}return T},staleTime:1/0,cacheTime:24*60*60*1e3}),p=d.slice(0,3+(a-1)*2),g=async()=>{c(!0),await new Promise(v=>setTimeout(v,500)),r({page:a+1}),c(!1)};return Q.useEffect(()=>{window.scrollTo(0,0)},[a]),h?w.jsx("div",{className:"flex justify-center items-center h-64",children:w.jsxs("div",{className:"text-center",children:[w.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),w.jsx("p",{className:"text-lg font-medium",children:"Loading all products..."})]})}):w.jsxs("div",{className:"w-[100%] xl:w-[90%] mx-auto px-3 sm:px-0",children:[w.jsx("h2",{className:"text-lg font-semibold mb-4 mt-2",children:"All Products/"}),p.length===0?w.jsx("p",{className:"text-center py-8",children:"No products found."}):w.jsxs(w.Fragment,{children:[w.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-1 for_set-grid",children:p.map(v=>{var T;const b=v.discount&&v.discount>0;return w.jsxs("li",{className:"border border-gray-400 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col mb-6",children:[w.jsxs("div",{className:"p-3 flex-grow flex flex-col",children:[w.jsxs(rn,{to:`/product/${v.id}`,className:"relative",children:[w.jsx("img",{src:v.mainImage||((T=v.images)==null?void 0:T[0])||"/placeholder-product.jpg",alt:v.name,className:"w-full h-48 object-cover mb-2"}),b&&w.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[v.discount,"%"]})]}),w.jsx("h3",{className:"text-sm font-medium text-gray-800 line-clamp-2 mb-1",children:v.name}),w.jsx("div",{className:"mt-auto",children:w.jsxs("div",{className:"flex flex-row items-center gap-2 space-y-0",children:[w.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["",v.discount?(v.price-v.price*(v.discount/100)).toFixed(2):v.price]}),v.regularPrice&&w.jsx("div",{className:"text-xs text-gray-500",children:w.jsxs("del",{children:["",v.regularPrice]})})]})})]}),w.jsxs("div",{className:"p-3 pt-2 border-t border-gray-100 space-y-2",children:[w.jsxs("div",{className:"flex gap-2 mb-0",children:[w.jsx("button",{className:"flex-1 border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Add to Cart"}),w.jsx("button",{className:"flex-1 border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),w.jsxs("div",{className:"flex justify-between items-center pt-1",children:[w.jsx("span",{className:`text-xs font-medium ${v.stock>0?"text-green-600":"text-red-500"}`,children:v.stock>0?"In Stock":"Out of Stock"}),v.stock>0&&w.jsxs("span",{className:"text-xs text-gray-500",children:[v.stock," units available"]})]})]})]},v.id)})}),d.length>p.length&&w.jsx("div",{className:"flex justify-center mt-6 mb-10",children:w.jsx("button",{onClick:g,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:o?w.jsxs(w.Fragment,{children:[w.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},gj=()=>{var O,C,R,B,q,U,j,I,A,M;const{productId:n}=Iy(),[e,t]=Q.useState(null),[r,a]=Q.useState(!0),[o,c]=Q.useState(null),[d,h]=Q.useState(null),[p,g]=Q.useState(0),[v,b]=Q.useState(null),[T,x]=Q.useState(null);if(Q.useEffect(()=>{(async()=>{var z;try{const k=eu(cs(Xr,"products"),no("productId","==",n)),_e=await Co(k);if(!_e.empty){const we=_e.docs[0],$={id:we.id,...we.data()};t($),$.isColorVariants&&((z=$.colorVariants)==null?void 0:z.length)>0&&c($.colorVariants[0])}a(!1)}catch(k){console.error("Error fetching product:",k),a(!1)}})()},[n]),r)return w.jsx("div",{className:"flex justify-center items-center h-64",children:w.jsxs("div",{className:"text-center",children:[w.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),w.jsx("p",{className:"text-lg font-medium",children:"Loading product details..."})]})});if(!e)return w.jsx("div",{className:"text-center py-8 text-lg",children:"Product not found"});const D=()=>e.isColorVariants?(o==null?void 0:o.stock)<1:e.stock<1,L=V=>V<1;return w.jsx("div",{className:"w-[100%] xl:w-[90%] mx-auto p-2 sm:p-4",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8",children:[w.jsx("div",{className:"md:sticky md:top-4",children:e.isColorVariants?w.jsxs(w.Fragment,{children:[w.jsxs(El,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},thumbs:{swiper:d},modules:[Xf,ET],className:"mb-2 rounded-lg relative",children:[(O=o==null?void 0:o.images)==null?void 0:O.map((V,z)=>w.jsxs(Tl,{children:[w.jsxs("div",{className:`relative ${o.stock<1?"opacity-70":""}`,children:[w.jsx("img",{src:V,alt:`${e.name} - ${o.colorName}`,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),o.stock<1&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]}),w.jsxs("div",{className:"absolute bottom-2 left-2 sm:bottom-4 sm:left-4 bg-black bg-opacity-70 text-white px-2 py-0.5 sm:px-3 sm:py-1 rounded text-xs sm:text-sm",children:[w.jsx("p",{children:o.colorName}),w.jsxs("p",{children:["Stock: ",o.stock]})]})]},z)),w.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),w.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),w.jsxs("div",{className:"relative mt-2",children:[w.jsx(El,{onSwiper:h,spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:".thumbnail-next",prevEl:".thumbnail-prev"},modules:[Xf,ET,TT],className:"thumbnail-swiper",children:e.colorVariants.map((V,z)=>w.jsx(Tl,{children:w.jsxs("div",{className:`cursor-pointer border-2 ${(o==null?void 0:o.colorName)===V.colorName?"border-blue-500":"border-transparent"} ${V.stock<1?"opacity-70":""}`,onClick:()=>c(V),children:[w.jsx("img",{src:V.thumbnail,alt:V.colorName,className:"w-full h-16 sm:h-20 object-cover"}),V.stock<1&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},z))}),e.colorVariants.length>4&&w.jsxs(w.Fragment,{children:[w.jsx("button",{className:"thumbnail-prev absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),w.jsx("button",{className:"thumbnail-next absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]})]}):w.jsxs(w.Fragment,{children:[w.jsxs(El,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},modules:[Xf],className:"mb-2 rounded-lg relative",onSlideChange:V=>g(V.activeIndex),onSwiper:b,children:[(C=e.images)==null?void 0:C.map((V,z)=>w.jsx(Tl,{children:w.jsxs("div",{className:`relative ${e.stock<1?"opacity-70":""}`,children:[w.jsx("img",{src:V,alt:e.name,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),e.stock<1&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]})},z)),w.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),w.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),((R=e.images)==null?void 0:R.length)>1&&w.jsx("div",{className:"relative mt-2",children:w.jsx(El,{spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[TT],className:"thumbnail-swiper",children:e.images.map((V,z)=>w.jsx(Tl,{children:w.jsxs("div",{className:`cursor-pointer border-2 ${p===z?"border-blue-500":"border-transparent"} ${e.stock<1?"opacity-70":""}`,onClick:()=>{g(z),v&&v.slideTo(z)},children:[w.jsx("img",{src:V,alt:e.name,className:"w-full h-16 sm:h-20 object-cover"}),e.stock<1&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},z))})})]})}),w.jsxs("div",{className:"px-2 sm:px-0",children:[w.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:e.name}),w.jsxs("div",{className:"flex items-center mb-4 sm:mb-5",children:[w.jsxs("span",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:["",e.price]}),e.regularPrice&&w.jsxs("span",{className:"text-gray-500 line-through ml-2 text-sm sm:text-base",children:["",e.regularPrice]}),e.discount>0&&w.jsxs("span",{className:"ml-2 bg-red-100 text-red-600 text-xs sm:text-sm px-2 py-0.5 rounded",children:[e.discount,"% OFF"]})]}),e.isColorVariants&&((B=e.colorVariants)==null?void 0:B.length)>0&&w.jsxs("div",{className:"mb-4 sm:mb-5",children:[w.jsxs("div",{className:"flex items-center mb-2",children:[w.jsx("h3",{className:"font-medium text-gray-700",children:"Color:"}),w.jsx("span",{className:"ml-2 font-medium text-gray-900",children:o==null?void 0:o.colorName})]}),w.jsx("div",{className:"flex flex-wrap gap-2",children:e.colorVariants.map((V,z)=>w.jsxs("button",{className:`px-3 py-1 rounded-full border text-xs sm:text-sm transition-colors
                            ${(o==null?void 0:o.colorName)===V.colorName?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                            ${V.stock<1?"opacity-60 cursor-not-allowed":""}`,onClick:()=>V.stock>=1&&c(V),disabled:V.stock<1,children:[V.colorName,V.stock<1&&" (Out)"]},z))})]}),((q=o==null?void 0:o.sizes)==null?void 0:q.length)>0&&w.jsxs("div",{className:"mb-4 sm:mb-5",children:[w.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Select Size"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:o.sizes.map((V,z)=>w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx("button",{className:`w-12 sm:w-14 px-2 py-1 rounded border text-xs sm:text-sm font-medium transition-colors
                                ${(T==null?void 0:T.size)===V.size?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                                ${L(V.stock)?"opacity-60 cursor-not-allowed":""}`,onClick:()=>!L(V.stock)&&x(V),disabled:L(V.stock),children:V.size}),w.jsxs("span",{className:`text-xs mt-1 ${L(V.stock)?"text-red-500":"text-gray-500"}`,children:[V.stock," left"]})]},z))})]}),w.jsxs("div",{className:"flex items-center mb-5 sm:mb-6",children:[w.jsx("span",{className:`font-medium ${D()?"text-red-500":"text-green-600"}`,children:D()?"Out of Stock":"In Stock"}),!D()&&w.jsx("span",{className:"text-gray-500 ml-2 text-sm sm:text-base",children:e.isColorVariants?((U=o==null?void 0:o.sizes)==null?void 0:U.length)>0?`${o.sizes.reduce((V,z)=>V+z.stock,0)} available`:`${o==null?void 0:o.stock} available`:`${e.stock} available`})]}),w.jsxs("div",{className:"flex gap-3 mb-6",children:[w.jsx("button",{className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${D()||((j=o==null?void 0:o.sizes)==null?void 0:j.length)>0&&!T?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,disabled:D()||((I=o==null?void 0:o.sizes)==null?void 0:I.length)>0&&!T,children:"Add to Cart"}),w.jsx("button",{className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${D()||((A=o==null?void 0:o.sizes)==null?void 0:A.length)>0&&!T?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,disabled:D()||((M=o==null?void 0:o.sizes)==null?void 0:M.length)>0&&!T,children:"Buy Now"})]}),w.jsxs("div",{className:"mb-4 border-t pt-4",children:[w.jsx("h2",{className:"font-semibold text-gray-800 mb-3",children:"Product Details"}),w.jsx("p",{className:"text-gray-600 text-sm sm:text-base leading-relaxed",children:e.description||"No description available."}),w.jsx("div",{children:w.jsx("img",{src:e.detailsImage,alt:""})})]})]})]})})},yj=()=>{const[n,e]=Q.useState({collectionName:"",documentName:"",available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:""}),t=C=>{const{name:R,value:B,type:q,checked:U}=C.target;e(j=>({...j,[R]:q==="checkbox"?U:B}))},r=C=>{const{name:R,value:B}=C.target;e(q=>({...q,[R]:Number(B)}))},a=C=>{const{name:R,value:B}=C.target;e(q=>({...q,[R]:B.split(",").map(U=>U.trim())}))},o=(C,R,B)=>{const q=[...n.colorVariants];q[C][R]=R==="stock"||R==="isOutfit"?R==="isOutfit"?B:Number(B):B,e(U=>({...U,colorVariants:q}))},c=(C,R,B)=>{const q=[...n.colorVariants];q[C].images[R]=B,e(U=>({...U,colorVariants:q}))},d=(C,R,B,q)=>{const U=[...n.colorVariants];U[C].sizes[R][B]=B==="stock"?Number(q):q,e(j=>({...j,colorVariants:U}))},h=()=>{e(C=>({...C,colorVariants:[...C.colorVariants,{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}]}))},p=C=>{const R=[...n.colorVariants];R.splice(C,1),e(B=>({...B,colorVariants:R}))},g=C=>{const R=[...n.colorVariants];R[C].images.push(""),e(B=>({...B,colorVariants:R}))},v=(C,R)=>{const B=[...n.colorVariants];B[C].images.splice(R,1),e(q=>({...q,colorVariants:B}))},b=C=>{const R=[...n.colorVariants];R[C].sizes.push({size:"",stock:0}),e(B=>({...B,colorVariants:R}))},T=(C,R)=>{const B=[...n.colorVariants];B[C].sizes.splice(R,1),e(q=>({...q,colorVariants:B}))},x=(C,R)=>{const B=[...n.images];B[C]=R,e(q=>({...q,images:B}))},D=()=>{e(C=>({...C,images:[...C.images,""]}))},L=C=>{const R=[...n.images];R.splice(C,1),e(B=>({...B,images:R}))},O=async C=>{C.preventDefault();try{const R={available:n.available,category:n.category,categoryId:n.categoryId,description:n.description,detailsImage:n.detailsImage,name:n.name,price:n.price,productId:n.productId,regularPrice:n.regularPrice,slug:n.slug,stock:n.stock,subcategory:n.subcategory,tags:n.tags,discount:n.discount,gender:n.gender,mainImage:n.mainImage,isColorVariants:n.isColorVariant,createdAt:new Date};n.isColorVariant?R.colorVariants=n.colorVariants.map(q=>{const{isOutfit:U,sizes:j,...I}=q;return U?{...I,sizes:j}:I}):R.images=n.images;const B=Qx(Xr,n.collectionName,n.documentName);await i1(B,R),console.log("Document written with ID: ",n.documentName),alert("Product uploaded successfully!"),e(q=>({...q,available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:""}))}catch(R){console.error("Error adding document: ",R),alert("Error uploading product!")}};return w.jsxs("div",{className:"container mx-auto p-4",children:[w.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Upload Product to Firestore"}),w.jsxs("form",{onSubmit:O,className:"space-y-4",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Collection Name"}),w.jsx("input",{type:"text",name:"collectionName",value:n.collectionName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Document Name"}),w.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Name"}),w.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product ID"}),w.jsx("input",{type:"text",name:"productId",value:n.productId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),w.jsxs("select",{name:"gender",value:n.gender,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[w.jsx("option",{value:"",children:"Select Gender"}),w.jsx("option",{value:"men",children:"Men"}),w.jsx("option",{value:"women",children:"Women"}),w.jsx("option",{value:"unisex",children:"Unisex"}),w.jsx("option",{value:"kids",children:"Kids"})]})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Main Image URL"}),w.jsx("input",{type:"text",name:"mainImage",value:n.mainImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price"}),w.jsx("input",{type:"number",name:"price",value:n.price,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Regular Price"}),w.jsx("input",{type:"number",name:"regularPrice",value:n.regularPrice,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Discount (%)"}),w.jsx("input",{type:"number",name:"discount",value:n.discount,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),w.jsx("input",{type:"text",name:"category",value:n.category,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category ID"}),w.jsx("input",{type:"text",name:"categoryId",value:n.categoryId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subcategory (comma separated)"}),w.jsx("input",{type:"text",name:"subcategory",value:n.subcategory.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags (comma separated)"}),w.jsx("input",{type:"text",name:"tags",value:n.tags.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),w.jsx("textarea",{name:"description",value:n.description,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Details Image URL"}),w.jsx("input",{type:"text",name:"detailsImage",value:n.detailsImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Slug"}),w.jsx("input",{type:"text",name:"slug",value:n.slug,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),w.jsx("input",{type:"number",name:"stock",value:n.stock,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),w.jsxs("div",{className:"flex items-center",children:[w.jsx("input",{type:"checkbox",name:"available",checked:n.available,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),w.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Available"})]})]}),w.jsxs("div",{className:"flex items-center",children:[w.jsx("input",{type:"checkbox",name:"isColorVariant",checked:n.isColorVariant,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),w.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Has Color Variants"})]}),n.isColorVariant&&w.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[w.jsx("h3",{className:"text-lg font-medium",children:"Color Variants"}),n.colorVariants.map((C,R)=>w.jsxs("div",{className:"border p-4 rounded-lg space-y-3",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Color Name"}),w.jsx("input",{type:"text",value:C.colorName,onChange:B=>o(R,"colorName",B.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),w.jsx("input",{type:"number",value:C.stock,onChange:B=>o(R,"stock",B.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Thumbnail URL"}),w.jsx("input",{type:"text",value:C.thumbnail,onChange:B=>o(R,"thumbnail",B.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),w.jsxs("div",{className:"flex items-center",children:[w.jsx("input",{type:"checkbox",checked:C.isOutfit,onChange:B=>o(R,"isOutfit",B.target.checked),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),w.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Is Outfit (has sizes)"})]}),C.isOutfit&&w.jsxs("div",{className:"space-y-3 mt-3",children:[w.jsx("h4",{className:"text-sm font-medium",children:"Sizes"}),C.sizes.map((B,q)=>w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Size"}),w.jsx("input",{type:"text",value:B.size,onChange:U=>d(R,q,"size",U.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),w.jsx("input",{type:"number",value:B.stock,onChange:U=>d(R,q,"stock",U.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),w.jsx("div",{className:"flex items-end",children:w.jsx("button",{type:"button",onClick:()=>T(R,q),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Size"})})]},q)),w.jsx("button",{type:"button",onClick:()=>b(R),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Size"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Images"}),C.images.map((B,q)=>w.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[w.jsx("input",{type:"text",value:B,onChange:U=>c(R,q,U.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),w.jsx("button",{type:"button",onClick:()=>v(R,q),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},q)),w.jsx("button",{type:"button",onClick:()=>g(R),className:"mt-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),w.jsx("button",{type:"button",onClick:()=>p(R),className:"mt-2 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Variant"})]},R)),w.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Add Color Variant"})]}),!n.isColorVariant&&w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-lg font-medium",children:"Images"}),n.images.map((C,R)=>w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("input",{type:"text",value:C,onChange:B=>x(R,B.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),w.jsx("button",{type:"button",onClick:()=>L(R),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},R)),w.jsx("button",{type:"button",onClick:D,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),w.jsx("div",{className:"pt-4",children:w.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Upload Product"})})]})]})},vj=()=>{const{gender:n}=Iy(),e=2,t=async({pageParam:g=null})=>{const v=g?eu(cs(Xr,"products"),no("gender","==",n),e1(g),gh(e)):eu(cs(Xr,"products"),no("gender","==",n),gh(e)),b=await Co(v),T=[];return b.forEach(x=>{const D=x.data();D.available&&D.stock>0&&T.push({id:x.id,...D})}),{products:T,lastVisible:b.docs[b.docs.length-1]}},{data:r,fetchNextPage:a,hasNextPage:o,isFetchingNextPage:c,isLoading:d,error:h}=J1({queryKey:["products",n],queryFn:t,getNextPageParam:g=>g.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),p=(r==null?void 0:r.pages.flatMap(g=>g.products))||[];return d?w.jsx("div",{className:"flex justify-center items-center h-64",children:w.jsxs("div",{className:"text-center",children:[w.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),w.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):h?w.jsx("div",{className:"text-center py-8",children:"Error loading products"}):w.jsxs("div",{className:"w-[100%] xl:w-[90%] mx-auto px-3 sm:px-0",children:[w.jsxs("h2",{className:"text-lg font-semibold mb-4",children:[n,"'s Collection"]}),p.length===0?w.jsx("p",{children:"No products found in this category."}):w.jsxs(w.Fragment,{children:[w.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-1 for_set-grid",children:p.map(g=>{var b;const v=g.discount&&g.discount>0;return w.jsxs("li",{className:"border border-gray-400 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col mb-6",children:[w.jsxs("div",{className:"p-3 flex-grow flex flex-col",children:[w.jsxs(rn,{to:`/product/${g.productId||g.id}`,className:"relative",children:[w.jsx("img",{src:g.mainImage||((b=g.images)==null?void 0:b[0]),alt:g.name,className:"w-full h-48 object-cover mb-2"}),v&&w.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[g.discount,"%"]})]}),w.jsx("h3",{className:"text-sm font-medium text-gray-800 line-clamp-2 mb-1",children:g.name}),w.jsx("div",{className:"mt-auto",children:w.jsxs("div",{className:"flex flex-row items-center gap-2 space-y-0",children:[w.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["",g.discount?(g.price-g.price*(g.discount/100)).toFixed(2):g.price]}),g.regularPrice&&w.jsx("div",{className:"text-xs text-gray-500",children:w.jsxs("del",{children:["",g.regularPrice]})})]})})]}),w.jsxs("div",{className:"p-3 pt-2 border-t border-gray-100 space-y-2",children:[w.jsxs("div",{className:"flex gap-2 mb-0",children:[w.jsx("button",{className:"flex-1 border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Add to Cart"}),w.jsx("button",{className:"flex-1 border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),w.jsxs("div",{className:"flex justify-between items-center pt-1",children:[w.jsx("span",{className:`text-xs font-medium ${g.stock>0?"text-green-600":"text-red-500"}`,children:g.stock>0?"In Stock":"Out of Stock"}),g.stock>0&&w.jsxs("span",{className:"text-xs text-gray-500",children:[g.stock," units available"]})]})]})]},g.id)})}),o&&w.jsx("div",{className:"mt-6 text-center",children:w.jsx("button",{onClick:()=>a(),disabled:c,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded inline-flex items-center",children:c?w.jsxs(w.Fragment,{children:[w.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More Products"})})]})]})},_j=()=>{const[n,e]=Q.useState({collectionName:"menu-categories",documentName:"",order:0,type:"dropdown",items:[{name:"",path:""}],path:""}),[t,r]=Q.useState("form"),a=p=>{const{name:g,value:v}=p.target;e(b=>({...b,[g]:v}))},o=(p,g)=>{const{name:v,value:b}=g.target,T=[...n.items];T[p]={...T[p],[v]:b},e(x=>({...x,items:T}))},c=()=>{e(p=>({...p,items:[...p.items,{name:"",path:""}]}))},d=p=>{const g=n.items.filter((v,b)=>b!==p);e(v=>({...v,items:g}))},h=async p=>{p.preventDefault();try{if(!n.documentName){alert("Please enter a document name");return}const g=Qx(Xr,n.collectionName,n.documentName),v=await dP(g);let b={};v.exists()&&(b=v.data());const T={...b,type:n.type,updatedAt:mP()};if(n.type==="link"&&(T.order=Number(n.order)),n.type==="dropdown"){const x=b.items||[],D=n.items.filter(L=>L.name&&L.path);T.items=[...x,...D],T.path=null}else T.path=n.path,T.items=null;await i1(g,T,{merge:!0}),alert("Category saved successfully!"),e(x=>({...x,order:0,type:"dropdown",items:[{name:"",path:""}],path:""}))}catch(g){console.error("Error saving document: ",g),alert(`Error saving category: ${g.message}`)}};return w.jsxs("div",{className:"container mx-auto px-4 py-8",children:[w.jsxs("div",{className:"flex border-b mb-6",children:[w.jsx("button",{className:`py-2 px-4 font-medium ${t==="form"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("form"),children:"Menu Form"}),w.jsx("button",{className:`py-2 px-4 font-medium ${t==="instructions"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("instructions"),children:""})]}),t==="form"&&w.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:w.jsxs("div",{className:"p-6",children:[w.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add/Edit Menu Category"}),w.jsxs("form",{onSubmit:h,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Document Name (ID):"}),w.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Type:"}),w.jsxs("select",{name:"type",value:n.type,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[w.jsx("option",{value:"dropdown",children:"Dropdown"}),w.jsx("option",{value:"link",children:"Link"})]})]}),n.type==="link"&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order:"}),w.jsx("input",{type:"number",name:"order",value:n.order,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),w.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Position in menu (0 = first item)"})]}),n.type==="dropdown"?w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Subcategories:"}),w.jsx("div",{className:"space-y-4",children:n.items.map((p,g)=>w.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[w.jsx("div",{className:"flex-1",children:w.jsx("input",{type:"text",name:"name",placeholder:"Subcategory Name",value:p.name,onChange:v=>o(g,v),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),w.jsx("div",{className:"flex-1",children:w.jsx("input",{type:"text",name:"path",placeholder:"Path (e.g., /category/women)",value:p.path,onChange:v=>o(g,v),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),w.jsx("button",{type:"button",onClick:()=>d(g),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Remove"})]},g))}),w.jsx("button",{type:"button",onClick:c,className:"mt-3 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"+ Add Subcategory"})]}):w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Path:"}),w.jsx("input",{type:"text",name:"path",value:n.path,onChange:a,placeholder:"e.g., /about-us",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),w.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Format: /category/your-menu-name (use hyphens for spaces)"})]}),w.jsx("div",{className:"pt-4",children:w.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Save Category"})})]})]})}),t==="instructions"&&w.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:w.jsxs("div",{className:"p-6",children:[w.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"  "}),w.jsxs("div",{className:"space-y-8",children:[w.jsxs("section",{children:[w.jsxs("h3",{className:"text-xl font-semibold mb-4 text-red-500 flex items-center",children:[w.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"  "]}),w.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[w.jsxs("li",{className:"text-gray-700",children:[w.jsx("span",{className:"font-medium",children:" :"}),'      (: "", "", "")']}),w.jsxs("li",{className:"text-gray-700",children:[w.jsx("span",{className:"font-medium",children:" :"}),'     ""  ']}),w.jsxs("li",{className:"text-gray-700",children:[w.jsx("span",{className:"font-medium",children:" :"}),"     (0 =  , 1 =  , )"]}),w.jsxs("li",{className:"text-gray-700",children:[w.jsx("span",{className:"font-medium",children:" :"}),"  ",w.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"/category/"}),"          ",w.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[w.jsx("p",{className:"text-sm font-mono",children:": /category/nari-fashion"}),w.jsx("p",{className:"text-sm font-mono",children:": /nari-fashion  /Category/NariFashion"})]})]}),w.jsxs("li",{className:"text-gray-700",children:[w.jsx("span",{className:"font-medium",children:" :"}),"      ",w.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[w.jsx("p",{className:"text-sm font-mono",children:": /category/purush-juta"}),w.jsx("p",{className:"text-sm font-mono",children:": /category/purush juta  /category/purushJuta"})]})]})]})]}),w.jsxs("section",{children:[w.jsxs("h3",{className:"text-xl font-semibold mb-4 text-blue-500 flex items-center",children:[w.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"  "]}),w.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[w.jsxs("li",{className:"text-gray-700",children:[w.jsx("span",{className:"font-medium",children:" :"}),"       "]}),w.jsxs("li",{className:"text-gray-700",children:[w.jsx("span",{className:"font-medium",children:" :"}),'   ""  ']}),w.jsxs("li",{className:"text-gray-700",children:[w.jsx("span",{className:"font-medium",children:" :"}),"    "]}),w.jsxs("li",{className:"text-gray-700",children:[w.jsx("span",{className:"font-medium",children:" :"}),"      ",w.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:w.jsx("p",{className:"text-sm font-mono",children:": /category/nari/juta"})})]}),w.jsxs("li",{className:"text-gray-700",children:[w.jsx("span",{className:"font-medium",children:" :"}),'     "+ Add Subcategory"   ']})]})]}),w.jsxs("section",{children:[w.jsxs("h3",{className:"text-xl font-semibold mb-4 text-green-500 flex items-center",children:[w.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),""]}),w.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[w.jsx("h4",{className:"font-medium mb-2",children:" :"}),w.jsxs("ul",{className:"space-y-2 text-sm",children:[w.jsxs("li",{children:[w.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:" :"})," Home ",w.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:":"})," 0 ",w.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:":"})," /category/home"]}),w.jsxs("li",{children:[w.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:" :"})," Women ",w.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:":"})," 1 ",w.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:":"})," /category/women"]})]}),w.jsx("h4",{className:"font-medium mt-4 mb-2",children:":"}),w.jsxs("ul",{className:"space-y-2 text-sm",children:[w.jsxs("li",{children:[w.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:" :"})," Women ",w.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:" :"})," Dresses ",w.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:":"})," /category/women/dresses"]}),w.jsxs("li",{children:[w.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:" :"})," Women ",w.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:" :"})," Tops ",w.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:":"})," /category/women/tops"]})]})]})]})]})]})})]})},bj=GI([{path:"/",element:w.jsx(PV,{}),children:[{index:!0,element:w.jsx(ST,{})},{path:"/home",element:w.jsx(ST,{})},{path:"/category/:gender",element:w.jsx(vj,{})},{path:"/category/:gender/:category",element:w.jsx(xT,{})},{path:"/category/:gender",element:w.jsx(xT,{})},{path:"/all-categories",element:w.jsx(pj,{})},{path:"/product/:productId",element:w.jsx(gj,{})},{path:"/admin",element:w.jsx(mj,{})},{path:"/up-products",element:w.jsx(yj,{})},{path:"/up-categories",element:w.jsx(_j,{})}]}]);KR.createRoot(document.getElementById("root")).render(w.jsx(Q.StrictMode,{children:w.jsx(hj,{children:w.jsx(s2,{router:bj})})}));
