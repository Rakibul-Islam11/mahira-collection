var Lw=n=>{throw TypeError(n)};var Sg=(n,e,t)=>e.has(n)||Lw("Cannot "+t);var Y=(n,e,t)=>(Sg(n,e,"read from private field"),t?t.call(n):e.get(n)),$e=(n,e,t)=>e.has(n)?Lw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ie=(n,e,t,r)=>(Sg(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),ht=(n,e,t)=>(Sg(n,e,"access private method"),t);var Uf=(n,e,t,r)=>({set _(a){Ie(n,e,a,t)},get _(){return Y(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function Dx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ag={exports:{}},mc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jw;function qR(){if(jw)return mc;jw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:o}}return mc.Fragment=e,mc.jsx=t,mc.jsxs=t,mc}var Vw;function HR(){return Vw||(Vw=1,Ag.exports=qR()),Ag.exports}var v=HR(),Rg={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function GR(){if(Uw)return Ze;Uw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function b(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,M={};function N(q,se,ge){this.props=q,this.context=se,this.refs=M,this.updater=ge||E}N.prototype.isReactComponent={},N.prototype.setState=function(q,se){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,se,"setState")},N.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function O(){}O.prototype=N.prototype;function A(q,se,ge){this.props=q,this.context=se,this.refs=M,this.updater=ge||E}var R=A.prototype=new O;R.constructor=A,T(R,N.prototype),R.isPureReactComponent=!0;var B=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function U(q,se,ge,pe,xe,le){return ge=le.ref,{$$typeof:n,type:q,key:se,ref:ge!==void 0?ge:null,props:le}}function I(q,se){return U(q.type,se,void 0,void 0,void 0,q.props)}function C(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function P(q){var se={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ge){return se[ge]})}var z=/\/+/g;function F(q,se){return typeof q=="object"&&q!==null&&q.key!=null?P(""+q.key):se.toString(36)}function L(){}function be(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(L,L):(q.status="pending",q.then(function(se){q.status==="pending"&&(q.status="fulfilled",q.value=se)},function(se){q.status==="pending"&&(q.status="rejected",q.reason=se)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Ee(q,se,ge,pe,xe){var le=typeof q;(le==="undefined"||le==="boolean")&&(q=null);var ye=!1;if(q===null)ye=!0;else switch(le){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(q.$$typeof){case n:case e:ye=!0;break;case g:return ye=q._init,Ee(ye(q._payload),se,ge,pe,xe)}}if(ye)return xe=xe(q),ye=pe===""?"."+F(q,0):pe,B(xe)?(ge="",ye!=null&&(ge=ye.replace(z,"$&/")+"/"),Ee(xe,se,ge,"",function(bt){return bt})):xe!=null&&(C(xe)&&(xe=I(xe,ge+(xe.key==null||q&&q.key===xe.key?"":(""+xe.key).replace(z,"$&/")+"/")+ye)),se.push(xe)),1;ye=0;var rt=pe===""?".":pe+":";if(B(q))for(var Fe=0;Fe<q.length;Fe++)pe=q[Fe],le=rt+F(pe,Fe),ye+=Ee(pe,se,ge,le,xe);else if(Fe=b(q),typeof Fe=="function")for(q=Fe.call(q),Fe=0;!(pe=q.next()).done;)pe=pe.value,le=rt+F(pe,Fe++),ye+=Ee(pe,se,ge,le,xe);else if(le==="object"){if(typeof q.then=="function")return Ee(be(q),se,ge,pe,xe);throw se=String(q),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ye}function Q(q,se,ge){if(q==null)return q;var pe=[],xe=0;return Ee(q,pe,"","",function(le){return se.call(ge,le,xe++)}),pe}function oe(q){if(q._status===-1){var se=q._result;se=se(),se.then(function(ge){(q._status===0||q._status===-1)&&(q._status=1,q._result=ge)},function(ge){(q._status===0||q._status===-1)&&(q._status=2,q._result=ge)}),q._status===-1&&(q._status=0,q._result=se)}if(q._status===1)return q._result.default;throw q._result}var ae=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function _e(){}return Ze.Children={map:Q,forEach:function(q,se,ge){Q(q,function(){se.apply(this,arguments)},ge)},count:function(q){var se=0;return Q(q,function(){se++}),se},toArray:function(q){return Q(q,function(se){return se})||[]},only:function(q){if(!C(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ze.Component=N,Ze.Fragment=t,Ze.Profiler=a,Ze.PureComponent=A,Ze.StrictMode=r,Ze.Suspense=h,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(q){return j.H.useMemoCache(q)}},Ze.cache=function(q){return function(){return q.apply(null,arguments)}},Ze.cloneElement=function(q,se,ge){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var pe=T({},q.props),xe=q.key,le=void 0;if(se!=null)for(ye in se.ref!==void 0&&(le=void 0),se.key!==void 0&&(xe=""+se.key),se)!V.call(se,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&se.ref===void 0||(pe[ye]=se[ye]);var ye=arguments.length-2;if(ye===1)pe.children=ge;else if(1<ye){for(var rt=Array(ye),Fe=0;Fe<ye;Fe++)rt[Fe]=arguments[Fe+2];pe.children=rt}return U(q.type,xe,void 0,void 0,le,pe)},Ze.createContext=function(q){return q={$$typeof:c,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},Ze.createElement=function(q,se,ge){var pe,xe={},le=null;if(se!=null)for(pe in se.key!==void 0&&(le=""+se.key),se)V.call(se,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(xe[pe]=se[pe]);var ye=arguments.length-2;if(ye===1)xe.children=ge;else if(1<ye){for(var rt=Array(ye),Fe=0;Fe<ye;Fe++)rt[Fe]=arguments[Fe+2];xe.children=rt}if(q&&q.defaultProps)for(pe in ye=q.defaultProps,ye)xe[pe]===void 0&&(xe[pe]=ye[pe]);return U(q,le,void 0,void 0,null,xe)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(q){return{$$typeof:d,render:q}},Ze.isValidElement=C,Ze.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:oe}},Ze.memo=function(q,se){return{$$typeof:p,type:q,compare:se===void 0?null:se}},Ze.startTransition=function(q){var se=j.T,ge={};j.T=ge;try{var pe=q(),xe=j.S;xe!==null&&xe(ge,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(_e,ae)}catch(le){ae(le)}finally{j.T=se}},Ze.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Ze.use=function(q){return j.H.use(q)},Ze.useActionState=function(q,se,ge){return j.H.useActionState(q,se,ge)},Ze.useCallback=function(q,se){return j.H.useCallback(q,se)},Ze.useContext=function(q){return j.H.useContext(q)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(q,se){return j.H.useDeferredValue(q,se)},Ze.useEffect=function(q,se,ge){var pe=j.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return pe.useEffect(q,se)},Ze.useId=function(){return j.H.useId()},Ze.useImperativeHandle=function(q,se,ge){return j.H.useImperativeHandle(q,se,ge)},Ze.useInsertionEffect=function(q,se){return j.H.useInsertionEffect(q,se)},Ze.useLayoutEffect=function(q,se){return j.H.useLayoutEffect(q,se)},Ze.useMemo=function(q,se){return j.H.useMemo(q,se)},Ze.useOptimistic=function(q,se){return j.H.useOptimistic(q,se)},Ze.useReducer=function(q,se,ge){return j.H.useReducer(q,se,ge)},Ze.useRef=function(q){return j.H.useRef(q)},Ze.useState=function(q){return j.H.useState(q)},Ze.useSyncExternalStore=function(q,se,ge){return j.H.useSyncExternalStore(q,se,ge)},Ze.useTransition=function(){return j.H.useTransition()},Ze.version="19.1.0",Ze}var zw;function Xh(){return zw||(zw=1,Rg.exports=GR()),Rg.exports}var H=Xh();const Vt=Dx(H);var Cg={exports:{}},pc={},Ig={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw;function $R(){return Bw||(Bw=1,function(n){function e(Q,oe){var ae=Q.length;Q.push(oe);e:for(;0<ae;){var _e=ae-1>>>1,q=Q[_e];if(0<a(q,oe))Q[_e]=oe,Q[ae]=q,ae=_e;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var oe=Q[0],ae=Q.pop();if(ae!==oe){Q[0]=ae;e:for(var _e=0,q=Q.length,se=q>>>1;_e<se;){var ge=2*(_e+1)-1,pe=Q[ge],xe=ge+1,le=Q[xe];if(0>a(pe,ae))xe<q&&0>a(le,pe)?(Q[_e]=le,Q[xe]=ae,_e=xe):(Q[_e]=pe,Q[ge]=ae,_e=ge);else if(xe<q&&0>a(le,ae))Q[_e]=le,Q[xe]=ae,_e=xe;else break e}}return oe}function a(Q,oe){var ae=Q.sortIndex-oe.sortIndex;return ae!==0?ae:Q.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var h=[],p=[],g=1,_=null,b=3,E=!1,T=!1,M=!1,N=!1,O=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function B(Q){for(var oe=t(p);oe!==null;){if(oe.callback===null)r(p);else if(oe.startTime<=Q)r(p),oe.sortIndex=oe.expirationTime,e(h,oe);else break;oe=t(p)}}function j(Q){if(M=!1,B(Q),!T)if(t(h)!==null)T=!0,V||(V=!0,F());else{var oe=t(p);oe!==null&&Ee(j,oe.startTime-Q)}}var V=!1,U=-1,I=5,C=-1;function P(){return N?!0:!(n.unstable_now()-C<I)}function z(){if(N=!1,V){var Q=n.unstable_now();C=Q;var oe=!0;try{e:{T=!1,M&&(M=!1,A(U),U=-1),E=!0;var ae=b;try{t:{for(B(Q),_=t(h);_!==null&&!(_.expirationTime>Q&&P());){var _e=_.callback;if(typeof _e=="function"){_.callback=null,b=_.priorityLevel;var q=_e(_.expirationTime<=Q);if(Q=n.unstable_now(),typeof q=="function"){_.callback=q,B(Q),oe=!0;break t}_===t(h)&&r(h),B(Q)}else r(h);_=t(h)}if(_!==null)oe=!0;else{var se=t(p);se!==null&&Ee(j,se.startTime-Q),oe=!1}}break e}finally{_=null,b=ae,E=!1}oe=void 0}}finally{oe?F():V=!1}}}var F;if(typeof R=="function")F=function(){R(z)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,be=L.port2;L.port1.onmessage=z,F=function(){be.postMessage(null)}}else F=function(){O(z,0)};function Ee(Q,oe){U=O(function(){Q(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var ae=b;b=oe;try{return Q()}finally{b=ae}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ae=b;b=Q;try{return oe()}finally{b=ae}},n.unstable_scheduleCallback=function(Q,oe,ae){var _e=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?_e+ae:_e):ae=_e,Q){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ae+q,Q={id:g++,callback:oe,priorityLevel:Q,startTime:ae,expirationTime:q,sortIndex:-1},ae>_e?(Q.sortIndex=ae,e(p,Q),t(h)===null&&Q===t(p)&&(M?(A(U),U=-1):M=!0,Ee(j,ae-_e))):(Q.sortIndex=q,e(h,Q),T||E||(T=!0,V||(V=!0,F()))),Q},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(Q){var oe=b;return function(){var ae=b;b=oe;try{return Q.apply(this,arguments)}finally{b=ae}}}}(Ng)),Ng}var Fw;function QR(){return Fw||(Fw=1,Ig.exports=$R()),Ig.exports}var Og={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw;function KR(){if(qw)return Fn;qw=1;var n=Xh();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,p,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:h,containerInfo:p,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fn.createPortal=function(h,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(h,p,null,g)},Fn.flushSync=function(h){var p=c.T,g=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=p,r.p=g,r.d.f()}},Fn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(h,p))},Fn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Fn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var g=p.as,_=d(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:E}):g==="script"&&r.d.X(h,{crossOrigin:_,integrity:b,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Fn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=d(p.as,p.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(h)},Fn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,_=d(g,p.crossOrigin);r.d.L(h,g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Fn.preloadModule=function(h,p){if(typeof h=="string")if(p){var g=d(p.as,p.crossOrigin);r.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(h)},Fn.requestFormReset=function(h){r.d.r(h)},Fn.unstable_batchedUpdates=function(h,p){return h(p)},Fn.useFormState=function(h,p,g){return c.H.useFormState(h,p,g)},Fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Fn.version="19.1.0",Fn}var Hw;function Px(){if(Hw)return Og.exports;Hw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Og.exports=KR(),Og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw;function YR(){if(Gw)return pc;Gw=1;var n=QR(),e=Xh(),t=Px();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function h(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,u=s;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return d(m),i;if(y===u)return d(m),s;y=y.sibling}throw Error(r(188))}if(l.return!==u.return)l=m,u=y;else{for(var S=!1,D=m.child;D;){if(D===l){S=!0,l=m,u=y;break}if(D===u){S=!0,u=m,l=y;break}D=D.sibling}if(!S){for(D=y.child;D;){if(D===l){S=!0,l=y,u=m;break}if(D===u){S=!0,u=y,l=m;break}D=D.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),R=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var L=Symbol.for("react.client.reference");function be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===L?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case N:return"Profiler";case M:return"StrictMode";case j:return"Suspense";case V:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case R:return(i.displayName||"Context")+".Provider";case A:return(i._context.displayName||"Context")+".Consumer";case B:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case U:return s=i.displayName||null,s!==null?s:be(i.type)||"Memo";case I:s=i._payload,i=i._init;try{return be(i(s))}catch{}}return null}var Ee=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},_e=[],q=-1;function se(i){return{current:i}}function ge(i){0>q||(i.current=_e[q],_e[q]=null,q--)}function pe(i,s){q++,_e[q]=i.current,i.current=s}var xe=se(null),le=se(null),ye=se(null),rt=se(null);function Fe(i,s){switch(pe(ye,s),pe(le,i),pe(xe,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?cw(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=cw(s),i=dw(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ge(xe),pe(xe,i)}function bt(){ge(xe),ge(le),ge(ye)}function lt(i){i.memoizedState!==null&&pe(rt,i);var s=xe.current,l=dw(s,i.type);s!==l&&(pe(le,i),pe(xe,l))}function Qt(i){le.current===i&&(ge(xe),ge(le)),rt.current===i&&(ge(rt),uc._currentValue=ae)}var gr=Object.prototype.hasOwnProperty,yr=n.unstable_scheduleCallback,Wt=n.unstable_cancelCallback,ti=n.unstable_shouldYield,Pr=n.unstable_requestPaint,dn=n.unstable_now,Ua=n.unstable_getCurrentPriorityLevel,_i=n.unstable_ImmediatePriority,bi=n.unstable_UserBlockingPriority,ni=n.unstable_NormalPriority,Yn=n.unstable_LowPriority,Xn=n.unstable_IdlePriority,wi=n.log,ri=n.unstable_setDisableYieldValue,pt=null,Xe=null;function _n(i){if(typeof wi=="function"&&ri(i),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(pt,i)}catch{}}var qt=Math.clz32?Math.clz32:kr,Yi=Math.log,ar=Math.LN2;function kr(i){return i>>>=0,i===0?32:31-(Yi(i)/ar|0)|0}var Lr=256,Oe=4194304;function Ne(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function We(i,s,l){var u=i.pendingLanes;if(u===0)return 0;var m=0,y=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var D=u&134217727;return D!==0?(u=D&~y,u!==0?m=Ne(u):(S&=D,S!==0?m=Ne(S):l||(l=D&~i,l!==0&&(m=Ne(l))))):(D=u&~y,D!==0?m=Ne(D):S!==0?m=Ne(S):l||(l=u&~i,l!==0&&(m=Ne(l)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:m}function dt(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function zt(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nn(){var i=Lr;return Lr<<=1,(Lr&4194048)===0&&(Lr=256),i}function Wn(){var i=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),i}function Rn(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Un(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Cn(i,s,l,u,m,y){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var D=i.entanglements,G=i.expirationTimes,te=i.hiddenUpdates;for(l=S&~l;0<l;){var ue=31-qt(l),he=1<<ue;D[ue]=0,G[ue]=-1;var ne=te[ue];if(ne!==null)for(te[ue]=null,ue=0;ue<ne.length;ue++){var re=ne[ue];re!==null&&(re.lane&=-536870913)}l&=~he}u!==0&&Ht(i,u,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(S&~s))}function Ht(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-qt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|l&4194090}function jr(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var u=31-qt(l),m=1<<u;m&s|i[u]&s&&(i[u]|=s),l&=~m}}function vr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ei(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function $(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:Nw(i.type))}function W(i,s){var l=oe.p;try{return oe.p=i,s()}finally{oe.p=l}}var ee=Math.random().toString(36).slice(2),fe="__reactFiber$"+ee,ve="__reactProps$"+ee,Ae="__reactContainer$"+ee,je="__reactEvents$"+ee,Re="__reactListeners$"+ee,Me="__reactHandles$"+ee,Pe="__reactResources$"+ee,Ve="__reactMarker$"+ee;function De(i){delete i[fe],delete i[ve],delete i[je],delete i[Re],delete i[Me]}function ze(i){var s=i[fe];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Ae]||l[fe]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=pw(i);i!==null;){if(l=i[fe])return l;i=pw(i)}return s}i=l,l=i.parentNode}return null}function it(i){if(i=i[fe]||i[Ae]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function xt(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function wt(i){var s=i[Pe];return s||(s=i[Pe]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ft(i){i[Ve]=!0}var tt=new Set,Vr={};function fn(i,s){Zn(i,s),Zn(i+"Capture",s)}function Zn(i,s){for(Vr[i]=s,i=0;i<s.length;i++)tt.add(s[i])}var In=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ti={},_r={};function Ns(i){return gr.call(_r,i)?!0:gr.call(Ti,i)?!1:In.test(i)?_r[i]=!0:(Ti[i]=!0,!1)}function zn(i,s,l){if(Ns(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Jn(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Qe(i,s,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+u)}}var rn,br;function or(i){if(rn===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);rn=s&&s[1]||"",br=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rn+i+br}var xi=!1;function kt(i,s){if(!i||xi)return"";xi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(re){var ne=re}Reflect.construct(i,[],he)}else{try{he.call()}catch(re){ne=re}i.call(he.prototype)}}else{try{throw Error()}catch(re){ne=re}(he=i())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),S=y[0],D=y[1];if(S&&D){var G=S.split(`
`),te=D.split(`
`);for(m=u=0;u<G.length&&!G[u].includes("DetermineComponentFrameRoot");)u++;for(;m<te.length&&!te[m].includes("DetermineComponentFrameRoot");)m++;if(u===G.length||m===te.length)for(u=G.length-1,m=te.length-1;1<=u&&0<=m&&G[u]!==te[m];)m--;for(;1<=u&&0<=m;u--,m--)if(G[u]!==te[m]){if(u!==1||m!==1)do if(u--,m--,0>m||G[u]!==te[m]){var ue=`
`+G[u].replace(" at new "," at ");return i.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",i.displayName)),ue}while(1<=u&&0<=m);break}}}finally{xi=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?or(l):""}function Ur(i){switch(i.tag){case 26:case 27:case 5:return or(i.type);case 16:return or("Lazy");case 13:return or("Suspense");case 19:return or("SuspenseList");case 0:case 15:return kt(i.type,!1);case 11:return kt(i.type.render,!1);case 1:return kt(i.type,!0);case 31:return or("Activity");default:return""}}function Xi(i){try{var s="";do s+=Ur(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Nn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function yu(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Im(i){var s=yu(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(S){u=""+S,y.call(this,S)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function zo(i){i._valueTracker||(i._valueTracker=Im(i))}function vu(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return i&&(u=yu(i)?i.checked?"true":"false":i.value),i=u,i!==l?(s.setValue(i),!0):!1}function za(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Nm=/[\n"\\]/g;function sn(i){return i.replace(Nm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function wr(i,s,l,u,m,y,S,D){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Nn(s)):i.value!==""+Nn(s)&&(i.value=""+Nn(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?Os(i,S,Nn(s)):l!=null?Os(i,S,Nn(l)):u!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+Nn(D):i.removeAttribute("name")}function Ba(i,s,l,u,m,y,S,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;l=l!=null?""+Nn(l):"",s=s!=null?""+Nn(s):l,D||s===i.value||(i.value=s),i.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=D?i.checked:!!u,i.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function Os(i,s,l){s==="number"&&za(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Wi(i,s,l,u){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&u&&(i[l].defaultSelected=!0)}else{for(l=""+Nn(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Ot(i,s,l){if(s!=null&&(s=""+Nn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Nn(l):""}function Fa(i,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(Ee(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=Nn(s),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u)}function zr(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var qa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Td(i,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,l):typeof l!="number"||l===0||qa.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function _u(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&l[m]!==u&&Td(i,m,u)}else for(var y in s)s.hasOwnProperty(y)&&Td(i,y,s[y])}function bu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bo(i){return Mm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Zi=null;function Br(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ji=null,es=null;function wu(i){var s=it(i);if(s&&(i=s.stateNode)){var l=i[ve]||null;e:switch(i=s.stateNode,s.type){case"input":if(wr(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+sn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==i&&u.form===i.form){var m=u[ve]||null;if(!m)throw Error(r(90));wr(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===i.form&&vu(u)}break e;case"textarea":Ot(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Wi(i,!!l.multiple,s,!1)}}}var Si=!1;function xd(i,s,l){if(Si)return i(s,l);Si=!0;try{var u=i(s);return u}finally{if(Si=!1,(Ji!==null||es!==null)&&(vf(),Ji&&(s=Ji,i=es,es=Ji=null,wu(s),i)))for(s=0;s<i.length;s++)wu(i[s])}}function Ha(i,s){var l=i.stateNode;if(l===null)return null;var u=l[ve]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fr=!1;if(ii)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{Fr=!1}var Ai=null,Ms=null,ts=null;function Eu(){if(ts)return ts;var i,s=Ms,l=s.length,u,m="value"in Ai?Ai.value:Ai.textContent,y=m.length;for(i=0;i<l&&s[i]===m[i];i++);var S=l-i;for(u=1;u<=S&&s[l-u]===m[y-u];u++);return ts=m.slice(i,1<u?1-u:void 0)}function Ri(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ci(){return!0}function Tu(){return!1}function bn(i){function s(l,u,m,y,S){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(l=i[D],this[D]=l?l(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ci:Tu,this.isPropagationStopped=Tu,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),s}var St={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=bn(St),$a=g({},St,{view:0,detail:0}),Sd=bn($a),qo,Ho,Ii,Qa=g({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ii&&(Ii&&i.type==="mousemove"?(qo=i.screenX-Ii.screenX,Ho=i.screenY-Ii.screenY):Ho=qo=0,Ii=i),qo)},movementY:function(i){return"movementY"in i?i.movementY:Ho}}),qr=bn(Qa),Ad=g({},Qa,{dataTransfer:0}),Dm=bn(Ad),Ka=g({},$a,{relatedTarget:0}),Go=bn(Ka),xu=g({},St,{animationName:0,elapsedTime:0,pseudoElement:0}),$o=bn(xu),Rd=g({},St,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Qo=bn(Rd),Pm=g({},St,{data:0}),Su=bn(Pm),Ya={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Id={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Id[i])?!!s[i]:!1}function Xa(){return Au}var Nd=g({},$a,{key:function(i){if(i.key){var s=Ya[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ri(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Cd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(i){return i.type==="keypress"?Ri(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ri(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ko=bn(Nd),Od=g({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=bn(Od),ns=g({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),Md=bn(ns),Dd=g({},St,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pd=bn(Dd),kd=g({},Qa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Yo=bn(kd),er=g({},St,{newState:0,oldState:0}),Ld=bn(er),jd=[9,13,27,32],Ni=ii&&"CompositionEvent"in window,f=null;ii&&"documentMode"in document&&(f=document.documentMode);var w=ii&&"TextEvent"in window&&!f,x=ii&&(!Ni||f&&8<f&&11>=f),k=" ",Z=!1;function ie(i,s){switch(i){case"keyup":return jd.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function we(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var gt=!1;function hn(i,s){switch(i){case"compositionend":return we(s);case"keypress":return s.which!==32?null:(Z=!0,k);case"textInput":return i=s.data,i===k&&Z?null:i;default:return null}}function yt(i,s){if(gt)return i==="compositionend"||!Ni&&ie(i,s)?(i=Eu(),ts=Ms=Ai=null,gt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return x&&s.locale!=="ko"?null:s.data;default:return null}}var wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mn(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!wn[i.type]:s==="textarea"}function rs(i,s,l,u){Ji?es?es.push(u):es=[u]:Ji=u,s=xf(s,"onChange"),0<s.length&&(l=new Fo("onChange","change",null,l,u),i.push({event:l,listeners:s}))}var On=null,Oi=null;function Cu(i){sw(i,0)}function Vd(i){var s=xt(i);if(vu(s))return i}function A0(i,s){if(i==="change")return s}var R0=!1;if(ii){var km;if(ii){var Lm="oninput"in document;if(!Lm){var C0=document.createElement("div");C0.setAttribute("oninput","return;"),Lm=typeof C0.oninput=="function"}km=Lm}else km=!1;R0=km&&(!document.documentMode||9<document.documentMode)}function I0(){On&&(On.detachEvent("onpropertychange",N0),Oi=On=null)}function N0(i){if(i.propertyName==="value"&&Vd(Oi)){var s=[];rs(s,Oi,i,Br(i)),xd(Cu,s)}}function _2(i,s,l){i==="focusin"?(I0(),On=s,Oi=l,On.attachEvent("onpropertychange",N0)):i==="focusout"&&I0()}function b2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Vd(Oi)}function w2(i,s){if(i==="click")return Vd(s)}function E2(i,s){if(i==="input"||i==="change")return Vd(s)}function T2(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Er=typeof Object.is=="function"?Object.is:T2;function Iu(i,s){if(Er(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!gr.call(s,m)||!Er(i[m],s[m]))return!1}return!0}function O0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function M0(i,s){var l=O0(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=s&&u>=s)return{node:l,offset:s-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=O0(l)}}function D0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?D0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function P0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=za(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=za(i.document)}return s}function jm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var x2=ii&&"documentMode"in document&&11>=document.documentMode,Xo=null,Vm=null,Nu=null,Um=!1;function k0(i,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Um||Xo==null||Xo!==za(u)||(u=Xo,"selectionStart"in u&&jm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Nu&&Iu(Nu,u)||(Nu=u,u=xf(Vm,"onSelect"),0<u.length&&(s=new Fo("onSelect","select",null,s,l),i.push({event:s,listeners:u}),s.target=Xo)))}function Wa(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Wo={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},zm={},L0={};ii&&(L0=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Za(i){if(zm[i])return zm[i];if(!Wo[i])return i;var s=Wo[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in L0)return zm[i]=s[l];return i}var j0=Za("animationend"),V0=Za("animationiteration"),U0=Za("animationstart"),S2=Za("transitionrun"),A2=Za("transitionstart"),R2=Za("transitioncancel"),z0=Za("transitionend"),B0=new Map,Bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bm.push("scrollEnd");function si(i,s){B0.set(i,s),fn(s,[i])}var F0=new WeakMap;function Hr(i,s){if(typeof i=="object"&&i!==null){var l=F0.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Xi(s)},F0.set(i,s),s)}return{value:i,source:s,stack:Xi(s)}}var Gr=[],Zo=0,Fm=0;function Ud(){for(var i=Zo,s=Fm=Zo=0;s<i;){var l=Gr[s];Gr[s++]=null;var u=Gr[s];Gr[s++]=null;var m=Gr[s];Gr[s++]=null;var y=Gr[s];if(Gr[s++]=null,u!==null&&m!==null){var S=u.pending;S===null?m.next=m:(m.next=S.next,S.next=m),u.pending=m}y!==0&&q0(l,m,y)}}function zd(i,s,l,u){Gr[Zo++]=i,Gr[Zo++]=s,Gr[Zo++]=l,Gr[Zo++]=u,Fm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function qm(i,s,l,u){return zd(i,s,l,u),Bd(i)}function Jo(i,s){return zd(i,null,null,s),Bd(i)}function q0(i,s,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var m=!1,y=i.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&s!==null&&(m=31-qt(l),i=y.hiddenUpdates,u=i[m],u===null?i[m]=[s]:u.push(s),s.lane=l|536870912),y):null}function Bd(i){if(50<tc)throw tc=0,Yp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var el={};function C2(i,s,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(i,s,l,u){return new C2(i,s,l,u)}function Hm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function is(i,s){var l=i.alternate;return l===null?(l=Tr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function H0(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Fd(i,s,l,u,m,y){var S=0;if(u=i,typeof i=="function")Hm(i)&&(S=1);else if(typeof i=="string")S=NR(i,l,xe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=Tr(31,l,s,m),i.elementType=C,i.lanes=y,i;case T:return Ja(l.children,m,y,s);case M:S=8,m|=24;break;case N:return i=Tr(12,l,s,m|2),i.elementType=N,i.lanes=y,i;case j:return i=Tr(13,l,s,m),i.elementType=j,i.lanes=y,i;case V:return i=Tr(19,l,s,m),i.elementType=V,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:case R:S=10;break e;case A:S=9;break e;case B:S=11;break e;case U:S=14;break e;case I:S=16,u=null;break e}S=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Tr(S,l,s,m),s.elementType=i,s.type=u,s.lanes=y,s}function Ja(i,s,l,u){return i=Tr(7,i,u,s),i.lanes=l,i}function Gm(i,s,l){return i=Tr(6,i,null,s),i.lanes=l,i}function $m(i,s,l){return s=Tr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var tl=[],nl=0,qd=null,Hd=0,$r=[],Qr=0,eo=null,ss=1,as="";function to(i,s){tl[nl++]=Hd,tl[nl++]=qd,qd=i,Hd=s}function G0(i,s,l){$r[Qr++]=ss,$r[Qr++]=as,$r[Qr++]=eo,eo=i;var u=ss;i=as;var m=32-qt(u)-1;u&=~(1<<m),l+=1;var y=32-qt(s)+m;if(30<y){var S=m-m%5;y=(u&(1<<S)-1).toString(32),u>>=S,m-=S,ss=1<<32-qt(s)+m|l<<m|u,as=y+i}else ss=1<<y|l<<m|u,as=i}function Qm(i){i.return!==null&&(to(i,1),G0(i,1,0))}function Km(i){for(;i===qd;)qd=tl[--nl],tl[nl]=null,Hd=tl[--nl],tl[nl]=null;for(;i===eo;)eo=$r[--Qr],$r[Qr]=null,as=$r[--Qr],$r[Qr]=null,ss=$r[--Qr],$r[Qr]=null}var tr=null,Kt=null,Tt=!1,no=null,Mi=!1,Ym=Error(r(519));function ro(i){var s=Error(r(418,""));throw Du(Hr(s,i)),Ym}function $0(i){var s=i.stateNode,l=i.type,u=i.memoizedProps;switch(s[fe]=i,s[ve]=u,l){case"dialog":at("cancel",s),at("close",s);break;case"iframe":case"object":case"embed":at("load",s);break;case"video":case"audio":for(l=0;l<rc.length;l++)at(rc[l],s);break;case"source":at("error",s);break;case"img":case"image":case"link":at("error",s),at("load",s);break;case"details":at("toggle",s);break;case"input":at("invalid",s),Ba(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),zo(s);break;case"select":at("invalid",s);break;case"textarea":at("invalid",s),Fa(s,u.value,u.defaultValue,u.children),zo(s)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||uw(s.textContent,l)?(u.popover!=null&&(at("beforetoggle",s),at("toggle",s)),u.onScroll!=null&&at("scroll",s),u.onScrollEnd!=null&&at("scrollend",s),u.onClick!=null&&(s.onclick=Sf),s=!0):s=!1,s||ro(i)}function Q0(i){for(tr=i.return;tr;)switch(tr.tag){case 5:case 13:Mi=!1;return;case 27:case 3:Mi=!0;return;default:tr=tr.return}}function Ou(i){if(i!==tr)return!1;if(!Tt)return Q0(i),Tt=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||dg(i.type,i.memoizedProps)),l=!l),l&&Kt&&ro(i),Q0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){Kt=oi(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}Kt=null}}else s===27?(s=Kt,Ks(i.type)?(i=pg,pg=null,Kt=i):Kt=s):Kt=tr?oi(i.stateNode.nextSibling):null;return!0}function Mu(){Kt=tr=null,Tt=!1}function K0(){var i=no;return i!==null&&(cr===null?cr=i:cr.push.apply(cr,i),no=null),i}function Du(i){no===null?no=[i]:no.push(i)}var Xm=se(null),io=null,os=null;function Ds(i,s,l){pe(Xm,s._currentValue),s._currentValue=l}function ls(i){i._currentValue=Xm.current,ge(Xm)}function Wm(i,s,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===l)break;i=i.return}}function Zm(i,s,l,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var S=m.child;y=y.firstContext;e:for(;y!==null;){var D=y;y=m;for(var G=0;G<s.length;G++)if(D.context===s[G]){y.lanes|=l,D=y.alternate,D!==null&&(D.lanes|=l),Wm(y.return,l,i),u||(S=null);break e}y=D.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(r(341));S.lanes|=l,y=S.alternate,y!==null&&(y.lanes|=l),Wm(S,l,i),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===i){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Pu(i,s,l,u){i=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var D=m.type;Er(m.pendingProps.value,S.value)||(i!==null?i.push(D):i=[D])}}else if(m===rt.current){if(S=m.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(uc):i=[uc])}m=m.return}i!==null&&Zm(s,i,l,u),s.flags|=262144}function Gd(i){for(i=i.firstContext;i!==null;){if(!Er(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function so(i){io=i,os=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Bn(i){return Y0(io,i)}function $d(i,s){return io===null&&so(i),Y0(i,s)}function Y0(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},os===null){if(i===null)throw Error(r(308));os=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else os=os.next=s;return l}var I2=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},N2=n.unstable_scheduleCallback,O2=n.unstable_NormalPriority,pn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jm(){return{controller:new I2,data:new Map,refCount:0}}function ku(i){i.refCount--,i.refCount===0&&N2(O2,function(){i.controller.abort()})}var Lu=null,ep=0,rl=0,il=null;function M2(i,s){if(Lu===null){var l=Lu=[];ep=0,rl=ng(),il={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ep++,s.then(X0,X0),s}function X0(){if(--ep===0&&Lu!==null){il!==null&&(il.status="fulfilled");var i=Lu;Lu=null,rl=0,il=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function D2(i,s){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<l.length;m++)(0,l[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var W0=Q.S;Q.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&M2(i,s),W0!==null&&W0(i,s)};var ao=se(null);function tp(){var i=ao.current;return i!==null?i:jt.pooledCache}function Qd(i,s){s===null?pe(ao,ao.current):pe(ao,s.pool)}function Z0(){var i=tp();return i===null?null:{parent:pn._currentValue,pool:i}}var ju=Error(r(460)),J0=Error(r(474)),Kd=Error(r(542)),np={then:function(){}};function e_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Yd(){}function t_(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Yd,Yd),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,r_(i),i;default:if(typeof s.status=="string")s.then(Yd,Yd);else{if(i=jt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,r_(i),i}throw Vu=s,ju}}var Vu=null;function n_(){if(Vu===null)throw Error(r(459));var i=Vu;return Vu=null,i}function r_(i){if(i===ju||i===Kd)throw Error(r(483))}var Ps=!1;function rp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ip(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ks(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ls(i,s,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(It&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=Bd(i),q0(i,null,l),s}return zd(i,u,s,l),Bd(i)}function Uu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,jr(i,l)}}function sp(i,s){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?m=y=s:y=y.next=s}else m=y=s;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var ap=!1;function zu(){if(ap){var i=il;if(i!==null)throw i}}function Bu(i,s,l,u){ap=!1;var m=i.updateQueue;Ps=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var G=D,te=G.next;G.next=null,S===null?y=te:S.next=te,S=G;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,D=ue.lastBaseUpdate,D!==S&&(D===null?ue.firstBaseUpdate=te:D.next=te,ue.lastBaseUpdate=G))}if(y!==null){var he=m.baseState;S=0,ue=te=G=null,D=y;do{var ne=D.lane&-536870913,re=ne!==D.lane;if(re?(vt&ne)===ne:(u&ne)===ne){ne!==0&&ne===rl&&(ap=!0),ue!==null&&(ue=ue.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ge=i,Ue=D;ne=s;var Pt=l;switch(Ue.tag){case 1:if(Ge=Ue.payload,typeof Ge=="function"){he=Ge.call(Pt,he,ne);break e}he=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Ue.payload,ne=typeof Ge=="function"?Ge.call(Pt,he,ne):Ge,ne==null)break e;he=g({},he,ne);break e;case 2:Ps=!0}}ne=D.callback,ne!==null&&(i.flags|=64,re&&(i.flags|=8192),re=m.callbacks,re===null?m.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ue===null?(te=ue=re,G=he):ue=ue.next=re,S|=ne;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;re=D,D=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);ue===null&&(G=he),m.baseState=G,m.firstBaseUpdate=te,m.lastBaseUpdate=ue,y===null&&(m.shared.lanes=0),Hs|=S,i.lanes=S,i.memoizedState=he}}function i_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function s_(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)i_(l[i],s)}var sl=se(null),Xd=se(0);function a_(i,s){i=ps,pe(Xd,i),pe(sl,s),ps=i|s.baseLanes}function op(){pe(Xd,ps),pe(sl,sl.current)}function lp(){ps=Xd.current,ge(sl),ge(Xd)}var js=0,Je=null,Mt=null,an=null,Wd=!1,al=!1,oo=!1,Zd=0,Fu=0,ol=null,P2=0;function Zt(){throw Error(r(321))}function up(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Er(i[l],s[l]))return!1;return!0}function cp(i,s,l,u,m,y){return js=y,Je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=i===null||i.memoizedState===null?q_:H_,oo=!1,y=l(u,m),oo=!1,al&&(y=l_(s,l,u,m)),o_(i),y}function o_(i){Q.H=sf;var s=Mt!==null&&Mt.next!==null;if(js=0,an=Mt=Je=null,Wd=!1,Fu=0,ol=null,s)throw Error(r(300));i===null||En||(i=i.dependencies,i!==null&&Gd(i)&&(En=!0))}function l_(i,s,l,u){Je=i;var m=0;do{if(al&&(ol=null),Fu=0,al=!1,25<=m)throw Error(r(301));if(m+=1,an=Mt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Q.H=B2,y=s(l,u)}while(al);return y}function k2(){var i=Q.H,s=i.useState()[0];return s=typeof s.then=="function"?qu(s):s,i=i.useState()[0],(Mt!==null?Mt.memoizedState:null)!==i&&(Je.flags|=1024),s}function dp(){var i=Zd!==0;return Zd=0,i}function fp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function hp(i){if(Wd){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Wd=!1}js=0,an=Mt=Je=null,al=!1,Fu=Zd=0,ol=null}function lr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Je.memoizedState=an=i:an=an.next=i,an}function on(){if(Mt===null){var i=Je.alternate;i=i!==null?i.memoizedState:null}else i=Mt.next;var s=an===null?Je.memoizedState:an.next;if(s!==null)an=s,Mt=i;else{if(i===null)throw Je.alternate===null?Error(r(467)):Error(r(310));Mt=i,i={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},an===null?Je.memoizedState=an=i:an=an.next=i}return an}function mp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qu(i){var s=Fu;return Fu+=1,ol===null&&(ol=[]),i=t_(ol,i,s),s=Je,(an===null?s.memoizedState:an.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?q_:H_),i}function Jd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return qu(i);if(i.$$typeof===R)return Bn(i)}throw Error(r(438,String(i)))}function pp(i){var s=null,l=Je.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Je.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=mp(),Je.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),u=0;u<i;u++)l[u]=P;return s.index++,l}function us(i,s){return typeof s=="function"?s(i):s}function ef(i){var s=on();return gp(s,Mt,i)}function gp(i,s,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var m=i.baseQueue,y=u.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}s.baseQueue=m=y,u.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{s=m.next;var D=S=null,G=null,te=s,ue=!1;do{var he=te.lane&-536870913;if(he!==te.lane?(vt&he)===he:(js&he)===he){var ne=te.revertLane;if(ne===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),he===rl&&(ue=!0);else if((js&ne)===ne){te=te.next,ne===rl&&(ue=!0);continue}else he={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(D=G=he,S=y):G=G.next=he,Je.lanes|=ne,Hs|=ne;he=te.action,oo&&l(y,he),y=te.hasEagerState?te.eagerState:l(y,he)}else ne={lane:he,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(D=G=ne,S=y):G=G.next=ne,Je.lanes|=he,Hs|=he;te=te.next}while(te!==null&&te!==s);if(G===null?S=y:G.next=D,!Er(y,i.memoizedState)&&(En=!0,ue&&(l=il,l!==null)))throw l;i.memoizedState=y,i.baseState=S,i.baseQueue=G,u.lastRenderedState=y}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function yp(i){var s=on(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,m=l.pending,y=s.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do y=i(y,S.action),S=S.next;while(S!==m);Er(y,s.memoizedState)||(En=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,u]}function u_(i,s,l){var u=Je,m=on(),y=Tt;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=s();var S=!Er((Mt||m).memoizedState,l);S&&(m.memoizedState=l,En=!0),m=m.queue;var D=f_.bind(null,u,m,i);if(Hu(2048,8,D,[i]),m.getSnapshot!==s||S||an!==null&&an.memoizedState.tag&1){if(u.flags|=2048,ll(9,tf(),d_.bind(null,u,m,l,s),null),jt===null)throw Error(r(349));y||(js&124)!==0||c_(u,s,l)}return l}function c_(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Je.updateQueue,s===null?(s=mp(),Je.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function d_(i,s,l,u){s.value=l,s.getSnapshot=u,h_(s)&&m_(i)}function f_(i,s,l){return l(function(){h_(s)&&m_(i)})}function h_(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Er(i,l)}catch{return!0}}function m_(i){var s=Jo(i,2);s!==null&&Cr(s,i,2)}function vp(i){var s=lr();if(typeof i=="function"){var l=i;if(i=l(),oo){_n(!0);try{l()}finally{_n(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:i},s}function p_(i,s,l,u){return i.baseState=l,gp(i,Mt,typeof u=="function"?u:us)}function L2(i,s,l,u,m){if(rf(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};Q.T!==null?l(!0):y.isTransition=!1,u(y),l=s.pending,l===null?(y.next=s.pending=y,g_(s,y)):(y.next=l.next,s.pending=l.next=y)}}function g_(i,s){var l=s.action,u=s.payload,m=i.state;if(s.isTransition){var y=Q.T,S={};Q.T=S;try{var D=l(m,u),G=Q.S;G!==null&&G(S,D),y_(i,s,D)}catch(te){_p(i,s,te)}finally{Q.T=y}}else try{y=l(m,u),y_(i,s,y)}catch(te){_p(i,s,te)}}function y_(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){v_(i,s,u)},function(u){return _p(i,s,u)}):v_(i,s,l)}function v_(i,s,l){s.status="fulfilled",s.value=l,__(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,g_(i,l)))}function _p(i,s,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,__(s),s=s.next;while(s!==u)}i.action=null}function __(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function b_(i,s){return s}function w_(i,s){if(Tt){var l=jt.formState;if(l!==null){e:{var u=Je;if(Tt){if(Kt){t:{for(var m=Kt,y=Mi;m.nodeType!==8;){if(!y){m=null;break t}if(m=oi(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Kt=oi(m.nextSibling),u=m.data==="F!";break e}}ro(u)}u=!1}u&&(s=l[0])}}return l=lr(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b_,lastRenderedState:s},l.queue=u,l=z_.bind(null,Je,u),u.dispatch=l,u=vp(!1),y=xp.bind(null,Je,!1,u.queue),u=lr(),m={state:s,dispatch:null,action:i,pending:null},u.queue=m,l=L2.bind(null,Je,m,y,l),m.dispatch=l,u.memoizedState=i,[s,l,!1]}function E_(i){var s=on();return T_(s,Mt,i)}function T_(i,s,l){if(s=gp(i,s,b_)[0],i=ef(us)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=qu(s)}catch(S){throw S===ju?Kd:S}else u=s;s=on();var m=s.queue,y=m.dispatch;return l!==s.memoizedState&&(Je.flags|=2048,ll(9,tf(),j2.bind(null,m,l),null)),[u,y,i]}function j2(i,s){i.action=s}function x_(i){var s=on(),l=Mt;if(l!==null)return T_(s,l,i);on(),s=s.memoizedState,l=on();var u=l.queue.dispatch;return l.memoizedState=i,[s,u,!1]}function ll(i,s,l,u){return i={tag:i,create:l,deps:u,inst:s,next:null},s=Je.updateQueue,s===null&&(s=mp(),Je.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,s.lastEffect=i),i}function tf(){return{destroy:void 0,resource:void 0}}function S_(){return on().memoizedState}function nf(i,s,l,u){var m=lr();u=u===void 0?null:u,Je.flags|=i,m.memoizedState=ll(1|s,tf(),l,u)}function Hu(i,s,l,u){var m=on();u=u===void 0?null:u;var y=m.memoizedState.inst;Mt!==null&&u!==null&&up(u,Mt.memoizedState.deps)?m.memoizedState=ll(s,y,l,u):(Je.flags|=i,m.memoizedState=ll(1|s,y,l,u))}function A_(i,s){nf(8390656,8,i,s)}function R_(i,s){Hu(2048,8,i,s)}function C_(i,s){return Hu(4,2,i,s)}function I_(i,s){return Hu(4,4,i,s)}function N_(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function O_(i,s,l){l=l!=null?l.concat([i]):null,Hu(4,4,N_.bind(null,s,i),l)}function bp(){}function M_(i,s){var l=on();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&up(s,u[1])?u[0]:(l.memoizedState=[i,s],i)}function D_(i,s){var l=on();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&up(s,u[1]))return u[0];if(u=i(),oo){_n(!0);try{i()}finally{_n(!1)}}return l.memoizedState=[u,s],u}function wp(i,s,l){return l===void 0||(js&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=Lb(),Je.lanes|=i,Hs|=i,l)}function P_(i,s,l,u){return Er(l,s)?l:sl.current!==null?(i=wp(i,l,u),Er(i,s)||(En=!0),i):(js&42)===0?(En=!0,i.memoizedState=l):(i=Lb(),Je.lanes|=i,Hs|=i,s)}function k_(i,s,l,u,m){var y=oe.p;oe.p=y!==0&&8>y?y:8;var S=Q.T,D={};Q.T=D,xp(i,!1,s,l);try{var G=m(),te=Q.S;if(te!==null&&te(D,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ue=D2(G,u);Gu(i,s,ue,Rr(i))}else Gu(i,s,u,Rr(i))}catch(he){Gu(i,s,{then:function(){},status:"rejected",reason:he},Rr())}finally{oe.p=y,Q.T=S}}function V2(){}function Ep(i,s,l,u){if(i.tag!==5)throw Error(r(476));var m=L_(i).queue;k_(i,m,s,ae,l===null?V2:function(){return j_(i),l(u)})}function L_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:ae},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function j_(i){var s=L_(i).next.queue;Gu(i,s,{},Rr())}function Tp(){return Bn(uc)}function V_(){return on().memoizedState}function U_(){return on().memoizedState}function U2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=Rr();i=ks(l);var u=Ls(s,i,l);u!==null&&(Cr(u,s,l),Uu(u,s,l)),s={cache:Jm()},i.payload=s;return}s=s.return}}function z2(i,s,l){var u=Rr();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},rf(i)?B_(s,l):(l=qm(i,s,l,u),l!==null&&(Cr(l,i,u),F_(l,s,u)))}function z_(i,s,l){var u=Rr();Gu(i,s,l,u)}function Gu(i,s,l,u){var m={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(rf(i))B_(s,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var S=s.lastRenderedState,D=y(S,l);if(m.hasEagerState=!0,m.eagerState=D,Er(D,S))return zd(i,s,m,0),jt===null&&Ud(),!1}catch{}finally{}if(l=qm(i,s,m,u),l!==null)return Cr(l,i,u),F_(l,s,u),!0}return!1}function xp(i,s,l,u){if(u={lane:2,revertLane:ng(),action:u,hasEagerState:!1,eagerState:null,next:null},rf(i)){if(s)throw Error(r(479))}else s=qm(i,l,u,2),s!==null&&Cr(s,i,2)}function rf(i){var s=i.alternate;return i===Je||s!==null&&s===Je}function B_(i,s){al=Wd=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function F_(i,s,l){if((l&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,jr(i,l)}}var sf={readContext:Bn,use:Jd,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt,useHostTransitionStatus:Zt,useFormState:Zt,useActionState:Zt,useOptimistic:Zt,useMemoCache:Zt,useCacheRefresh:Zt},q_={readContext:Bn,use:Jd,useCallback:function(i,s){return lr().memoizedState=[i,s===void 0?null:s],i},useContext:Bn,useEffect:A_,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,nf(4194308,4,N_.bind(null,s,i),l)},useLayoutEffect:function(i,s){return nf(4194308,4,i,s)},useInsertionEffect:function(i,s){nf(4,2,i,s)},useMemo:function(i,s){var l=lr();s=s===void 0?null:s;var u=i();if(oo){_n(!0);try{i()}finally{_n(!1)}}return l.memoizedState=[u,s],u},useReducer:function(i,s,l){var u=lr();if(l!==void 0){var m=l(s);if(oo){_n(!0);try{l(s)}finally{_n(!1)}}}else m=s;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=z2.bind(null,Je,i),[u.memoizedState,i]},useRef:function(i){var s=lr();return i={current:i},s.memoizedState=i},useState:function(i){i=vp(i);var s=i.queue,l=z_.bind(null,Je,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:bp,useDeferredValue:function(i,s){var l=lr();return wp(l,i,s)},useTransition:function(){var i=vp(!1);return i=k_.bind(null,Je,i.queue,!0,!1),lr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var u=Je,m=lr();if(Tt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),jt===null)throw Error(r(349));(vt&124)!==0||c_(u,s,l)}m.memoizedState=l;var y={value:l,getSnapshot:s};return m.queue=y,A_(f_.bind(null,u,y,i),[i]),u.flags|=2048,ll(9,tf(),d_.bind(null,u,y,l,s),null),l},useId:function(){var i=lr(),s=jt.identifierPrefix;if(Tt){var l=as,u=ss;l=(u&~(1<<32-qt(u)-1)).toString(32)+l,s="«"+s+"R"+l,l=Zd++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=P2++,s="«"+s+"r"+l.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:Tp,useFormState:w_,useActionState:w_,useOptimistic:function(i){var s=lr();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=xp.bind(null,Je,!0,l),l.dispatch=s,[i,s]},useMemoCache:pp,useCacheRefresh:function(){return lr().memoizedState=U2.bind(null,Je)}},H_={readContext:Bn,use:Jd,useCallback:M_,useContext:Bn,useEffect:R_,useImperativeHandle:O_,useInsertionEffect:C_,useLayoutEffect:I_,useMemo:D_,useReducer:ef,useRef:S_,useState:function(){return ef(us)},useDebugValue:bp,useDeferredValue:function(i,s){var l=on();return P_(l,Mt.memoizedState,i,s)},useTransition:function(){var i=ef(us)[0],s=on().memoizedState;return[typeof i=="boolean"?i:qu(i),s]},useSyncExternalStore:u_,useId:V_,useHostTransitionStatus:Tp,useFormState:E_,useActionState:E_,useOptimistic:function(i,s){var l=on();return p_(l,Mt,i,s)},useMemoCache:pp,useCacheRefresh:U_},B2={readContext:Bn,use:Jd,useCallback:M_,useContext:Bn,useEffect:R_,useImperativeHandle:O_,useInsertionEffect:C_,useLayoutEffect:I_,useMemo:D_,useReducer:yp,useRef:S_,useState:function(){return yp(us)},useDebugValue:bp,useDeferredValue:function(i,s){var l=on();return Mt===null?wp(l,i,s):P_(l,Mt.memoizedState,i,s)},useTransition:function(){var i=yp(us)[0],s=on().memoizedState;return[typeof i=="boolean"?i:qu(i),s]},useSyncExternalStore:u_,useId:V_,useHostTransitionStatus:Tp,useFormState:x_,useActionState:x_,useOptimistic:function(i,s){var l=on();return Mt!==null?p_(l,Mt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:pp,useCacheRefresh:U_},ul=null,$u=0;function af(i){var s=$u;return $u+=1,ul===null&&(ul=[]),t_(ul,i,s)}function Qu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function of(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function G_(i){var s=i._init;return s(i._payload)}function $_(i){function s(X,K){if(i){var J=X.deletions;J===null?(X.deletions=[K],X.flags|=16):J.push(K)}}function l(X,K){if(!i)return null;for(;K!==null;)s(X,K),K=K.sibling;return null}function u(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function m(X,K){return X=is(X,K),X.index=0,X.sibling=null,X}function y(X,K,J){return X.index=J,i?(J=X.alternate,J!==null?(J=J.index,J<K?(X.flags|=67108866,K):J):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function S(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function D(X,K,J,de){return K===null||K.tag!==6?(K=Gm(J,X.mode,de),K.return=X,K):(K=m(K,J),K.return=X,K)}function G(X,K,J,de){var Ce=J.type;return Ce===T?ue(X,K,J.props.children,de,J.key):K!==null&&(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===I&&G_(Ce)===K.type)?(K=m(K,J.props),Qu(K,J),K.return=X,K):(K=Fd(J.type,J.key,J.props,null,X.mode,de),Qu(K,J),K.return=X,K)}function te(X,K,J,de){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=$m(J,X.mode,de),K.return=X,K):(K=m(K,J.children||[]),K.return=X,K)}function ue(X,K,J,de,Ce){return K===null||K.tag!==7?(K=Ja(J,X.mode,de,Ce),K.return=X,K):(K=m(K,J),K.return=X,K)}function he(X,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Gm(""+K,X.mode,J),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return J=Fd(K.type,K.key,K.props,null,X.mode,J),Qu(J,K),J.return=X,J;case E:return K=$m(K,X.mode,J),K.return=X,K;case I:var de=K._init;return K=de(K._payload),he(X,K,J)}if(Ee(K)||F(K))return K=Ja(K,X.mode,J,null),K.return=X,K;if(typeof K.then=="function")return he(X,af(K),J);if(K.$$typeof===R)return he(X,$d(X,K),J);of(X,K)}return null}function ne(X,K,J,de){var Ce=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ce!==null?null:D(X,K,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===Ce?G(X,K,J,de):null;case E:return J.key===Ce?te(X,K,J,de):null;case I:return Ce=J._init,J=Ce(J._payload),ne(X,K,J,de)}if(Ee(J)||F(J))return Ce!==null?null:ue(X,K,J,de,null);if(typeof J.then=="function")return ne(X,K,af(J),de);if(J.$$typeof===R)return ne(X,K,$d(X,J),de);of(X,J)}return null}function re(X,K,J,de,Ce){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return X=X.get(J)||null,D(K,X,""+de,Ce);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case b:return X=X.get(de.key===null?J:de.key)||null,G(K,X,de,Ce);case E:return X=X.get(de.key===null?J:de.key)||null,te(K,X,de,Ce);case I:var nt=de._init;return de=nt(de._payload),re(X,K,J,de,Ce)}if(Ee(de)||F(de))return X=X.get(J)||null,ue(K,X,de,Ce,null);if(typeof de.then=="function")return re(X,K,J,af(de),Ce);if(de.$$typeof===R)return re(X,K,J,$d(K,de),Ce);of(K,de)}return null}function Ge(X,K,J,de){for(var Ce=null,nt=null,ke=K,Be=K=0,xn=null;ke!==null&&Be<J.length;Be++){ke.index>Be?(xn=ke,ke=null):xn=ke.sibling;var Et=ne(X,ke,J[Be],de);if(Et===null){ke===null&&(ke=xn);break}i&&ke&&Et.alternate===null&&s(X,ke),K=y(Et,K,Be),nt===null?Ce=Et:nt.sibling=Et,nt=Et,ke=xn}if(Be===J.length)return l(X,ke),Tt&&to(X,Be),Ce;if(ke===null){for(;Be<J.length;Be++)ke=he(X,J[Be],de),ke!==null&&(K=y(ke,K,Be),nt===null?Ce=ke:nt.sibling=ke,nt=ke);return Tt&&to(X,Be),Ce}for(ke=u(ke);Be<J.length;Be++)xn=re(ke,X,Be,J[Be],de),xn!==null&&(i&&xn.alternate!==null&&ke.delete(xn.key===null?Be:xn.key),K=y(xn,K,Be),nt===null?Ce=xn:nt.sibling=xn,nt=xn);return i&&ke.forEach(function(Js){return s(X,Js)}),Tt&&to(X,Be),Ce}function Ue(X,K,J,de){if(J==null)throw Error(r(151));for(var Ce=null,nt=null,ke=K,Be=K=0,xn=null,Et=J.next();ke!==null&&!Et.done;Be++,Et=J.next()){ke.index>Be?(xn=ke,ke=null):xn=ke.sibling;var Js=ne(X,ke,Et.value,de);if(Js===null){ke===null&&(ke=xn);break}i&&ke&&Js.alternate===null&&s(X,ke),K=y(Js,K,Be),nt===null?Ce=Js:nt.sibling=Js,nt=Js,ke=xn}if(Et.done)return l(X,ke),Tt&&to(X,Be),Ce;if(ke===null){for(;!Et.done;Be++,Et=J.next())Et=he(X,Et.value,de),Et!==null&&(K=y(Et,K,Be),nt===null?Ce=Et:nt.sibling=Et,nt=Et);return Tt&&to(X,Be),Ce}for(ke=u(ke);!Et.done;Be++,Et=J.next())Et=re(ke,X,Be,Et.value,de),Et!==null&&(i&&Et.alternate!==null&&ke.delete(Et.key===null?Be:Et.key),K=y(Et,K,Be),nt===null?Ce=Et:nt.sibling=Et,nt=Et);return i&&ke.forEach(function(FR){return s(X,FR)}),Tt&&to(X,Be),Ce}function Pt(X,K,J,de){if(typeof J=="object"&&J!==null&&J.type===T&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:e:{for(var Ce=J.key;K!==null;){if(K.key===Ce){if(Ce=J.type,Ce===T){if(K.tag===7){l(X,K.sibling),de=m(K,J.props.children),de.return=X,X=de;break e}}else if(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===I&&G_(Ce)===K.type){l(X,K.sibling),de=m(K,J.props),Qu(de,J),de.return=X,X=de;break e}l(X,K);break}else s(X,K);K=K.sibling}J.type===T?(de=Ja(J.props.children,X.mode,de,J.key),de.return=X,X=de):(de=Fd(J.type,J.key,J.props,null,X.mode,de),Qu(de,J),de.return=X,X=de)}return S(X);case E:e:{for(Ce=J.key;K!==null;){if(K.key===Ce)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){l(X,K.sibling),de=m(K,J.children||[]),de.return=X,X=de;break e}else{l(X,K);break}else s(X,K);K=K.sibling}de=$m(J,X.mode,de),de.return=X,X=de}return S(X);case I:return Ce=J._init,J=Ce(J._payload),Pt(X,K,J,de)}if(Ee(J))return Ge(X,K,J,de);if(F(J)){if(Ce=F(J),typeof Ce!="function")throw Error(r(150));return J=Ce.call(J),Ue(X,K,J,de)}if(typeof J.then=="function")return Pt(X,K,af(J),de);if(J.$$typeof===R)return Pt(X,K,$d(X,J),de);of(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(l(X,K.sibling),de=m(K,J),de.return=X,X=de):(l(X,K),de=Gm(J,X.mode,de),de.return=X,X=de),S(X)):l(X,K)}return function(X,K,J,de){try{$u=0;var Ce=Pt(X,K,J,de);return ul=null,Ce}catch(ke){if(ke===ju||ke===Kd)throw ke;var nt=Tr(29,ke,null,X.mode);return nt.lanes=de,nt.return=X,nt}finally{}}}var cl=$_(!0),Q_=$_(!1),Kr=se(null),Di=null;function Vs(i){var s=i.alternate;pe(gn,gn.current&1),pe(Kr,i),Di===null&&(s===null||sl.current!==null||s.memoizedState!==null)&&(Di=i)}function K_(i){if(i.tag===22){if(pe(gn,gn.current),pe(Kr,i),Di===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Di=i)}}else Us()}function Us(){pe(gn,gn.current),pe(Kr,Kr.current)}function cs(i){ge(Kr),Di===i&&(Di=null),ge(gn)}var gn=se(0);function lf(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||mg(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Sp(i,s,l,u){s=i.memoizedState,l=l(u,s),l=l==null?s:g({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ap={enqueueSetState:function(i,s,l){i=i._reactInternals;var u=Rr(),m=ks(u);m.payload=s,l!=null&&(m.callback=l),s=Ls(i,m,u),s!==null&&(Cr(s,i,u),Uu(s,i,u))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var u=Rr(),m=ks(u);m.tag=1,m.payload=s,l!=null&&(m.callback=l),s=Ls(i,m,u),s!==null&&(Cr(s,i,u),Uu(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Rr(),u=ks(l);u.tag=2,s!=null&&(u.callback=s),s=Ls(i,u,l),s!==null&&(Cr(s,i,l),Uu(s,i,l))}};function Y_(i,s,l,u,m,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,S):s.prototype&&s.prototype.isPureReactComponent?!Iu(l,u)||!Iu(m,y):!0}function X_(i,s,l,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==i&&Ap.enqueueReplaceState(s,s.state,null)}function lo(i,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(i=i.defaultProps){l===s&&(l=g({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var uf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function W_(i){uf(i)}function Z_(i){console.error(i)}function J_(i){uf(i)}function cf(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function eb(i,s,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Rp(i,s,l){return l=ks(l),l.tag=3,l.payload={element:null},l.callback=function(){cf(i,s)},l}function tb(i){return i=ks(i),i.tag=3,i}function nb(i,s,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;i.payload=function(){return m(y)},i.callback=function(){eb(s,l,u)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){eb(s,l,u),typeof m!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})})}function F2(i,s,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Pu(s,l,m,!0),l=Kr.current,l!==null){switch(l.tag){case 13:return Di===null?Wp():l.alternate===null&&Yt===0&&(Yt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===np?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),Jp(i,u,m)),!1;case 22:return l.flags|=65536,u===np?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),Jp(i,u,m)),!1}throw Error(r(435,l.tag))}return Jp(i,u,m),Wp(),!1}if(Tt)return s=Kr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==Ym&&(i=Error(r(422),{cause:u}),Du(Hr(i,l)))):(u!==Ym&&(s=Error(r(423),{cause:u}),Du(Hr(s,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=Hr(u,l),m=Rp(i.stateNode,u,m),sp(i,m),Yt!==4&&(Yt=2)),!1;var y=Error(r(520),{cause:u});if(y=Hr(y,l),ec===null?ec=[y]:ec.push(y),Yt!==4&&(Yt=2),s===null)return!0;u=Hr(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=Rp(l.stateNode,u,i),sp(l,i),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Gs===null||!Gs.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=tb(m),nb(m,i,l,u),sp(l,m),!1}l=l.return}while(l!==null);return!1}var rb=Error(r(461)),En=!1;function Mn(i,s,l,u){s.child=i===null?Q_(s,null,l,u):cl(s,i.child,l,u)}function ib(i,s,l,u,m){l=l.render;var y=s.ref;if("ref"in u){var S={};for(var D in u)D!=="ref"&&(S[D]=u[D])}else S=u;return so(s),u=cp(i,s,l,S,y,m),D=dp(),i!==null&&!En?(fp(i,s,m),ds(i,s,m)):(Tt&&D&&Qm(s),s.flags|=1,Mn(i,s,u,m),s.child)}function sb(i,s,l,u,m){if(i===null){var y=l.type;return typeof y=="function"&&!Hm(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,ab(i,s,y,u,m)):(i=Fd(l.type,null,u,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!kp(i,m)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:Iu,l(S,u)&&i.ref===s.ref)return ds(i,s,m)}return s.flags|=1,i=is(y,u),i.ref=s.ref,i.return=s,s.child=i}function ab(i,s,l,u,m){if(i!==null){var y=i.memoizedProps;if(Iu(y,u)&&i.ref===s.ref)if(En=!1,s.pendingProps=u=y,kp(i,m))(i.flags&131072)!==0&&(En=!0);else return s.lanes=i.lanes,ds(i,s,m)}return Cp(i,s,l,u,m)}function ob(i,s,l){var u=s.pendingProps,m=u.children,y=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=y!==null?y.baseLanes|l:l,i!==null){for(m=s.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;s.childLanes=y&~u}else s.childLanes=0,s.child=null;return lb(i,s,u,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Qd(s,y!==null?y.cachePool:null),y!==null?a_(s,y):op(),K_(s);else return s.lanes=s.childLanes=536870912,lb(i,s,y!==null?y.baseLanes|l:l,l)}else y!==null?(Qd(s,y.cachePool),a_(s,y),Us(),s.memoizedState=null):(i!==null&&Qd(s,null),op(),Us());return Mn(i,s,m,l),s.child}function lb(i,s,l,u){var m=tp();return m=m===null?null:{parent:pn._currentValue,pool:m},s.memoizedState={baseLanes:l,cachePool:m},i!==null&&Qd(s,null),op(),K_(s),i!==null&&Pu(i,s,u,!0),null}function df(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Cp(i,s,l,u,m){return so(s),l=cp(i,s,l,u,void 0,m),u=dp(),i!==null&&!En?(fp(i,s,m),ds(i,s,m)):(Tt&&u&&Qm(s),s.flags|=1,Mn(i,s,l,m),s.child)}function ub(i,s,l,u,m,y){return so(s),s.updateQueue=null,l=l_(s,u,l,m),o_(i),u=dp(),i!==null&&!En?(fp(i,s,y),ds(i,s,y)):(Tt&&u&&Qm(s),s.flags|=1,Mn(i,s,l,y),s.child)}function cb(i,s,l,u,m){if(so(s),s.stateNode===null){var y=el,S=l.contextType;typeof S=="object"&&S!==null&&(y=Bn(S)),y=new l(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Ap,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},rp(s),S=l.contextType,y.context=typeof S=="object"&&S!==null?Bn(S):el,y.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Sp(s,l,S,u),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Ap.enqueueReplaceState(y,y.state,null),Bu(s,u,y,m),zu(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){y=s.stateNode;var D=s.memoizedProps,G=lo(l,D);y.props=G;var te=y.context,ue=l.contextType;S=el,typeof ue=="object"&&ue!==null&&(S=Bn(ue));var he=l.getDerivedStateFromProps;ue=typeof he=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,ue||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||te!==S)&&X_(s,y,u,S),Ps=!1;var ne=s.memoizedState;y.state=ne,Bu(s,u,y,m),zu(),te=s.memoizedState,D||ne!==te||Ps?(typeof he=="function"&&(Sp(s,l,he,u),te=s.memoizedState),(G=Ps||Y_(s,l,G,u,ne,te,S))?(ue||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=te),y.props=u,y.state=te,y.context=S,u=G):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,ip(i,s),S=s.memoizedProps,ue=lo(l,S),y.props=ue,he=s.pendingProps,ne=y.context,te=l.contextType,G=el,typeof te=="object"&&te!==null&&(G=Bn(te)),D=l.getDerivedStateFromProps,(te=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==he||ne!==G)&&X_(s,y,u,G),Ps=!1,ne=s.memoizedState,y.state=ne,Bu(s,u,y,m),zu();var re=s.memoizedState;S!==he||ne!==re||Ps||i!==null&&i.dependencies!==null&&Gd(i.dependencies)?(typeof D=="function"&&(Sp(s,l,D,u),re=s.memoizedState),(ue=Ps||Y_(s,l,ue,u,ne,re,G)||i!==null&&i.dependencies!==null&&Gd(i.dependencies))?(te||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,G),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,G)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=re),y.props=u,y.state=re,y.context=G,u=ue):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),u=!1)}return y=u,df(i,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&u?(s.child=cl(s,i.child,null,m),s.child=cl(s,null,l,m)):Mn(i,s,l,m),s.memoizedState=y.state,i=s.child):i=ds(i,s,m),i}function db(i,s,l,u){return Mu(),s.flags|=256,Mn(i,s,l,u),s.child}var Ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Np(i){return{baseLanes:i,cachePool:Z0()}}function Op(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Yr),i}function fb(i,s,l){var u=s.pendingProps,m=!1,y=(s.flags&128)!==0,S;if((S=y)||(S=i!==null&&i.memoizedState===null?!1:(gn.current&2)!==0),S&&(m=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(Tt){if(m?Vs(s):Us(),Tt){var D=Kt,G;if(G=D){e:{for(G=D,D=Mi;G.nodeType!==8;){if(!D){D=null;break e}if(G=oi(G.nextSibling),G===null){D=null;break e}}D=G}D!==null?(s.memoizedState={dehydrated:D,treeContext:eo!==null?{id:ss,overflow:as}:null,retryLane:536870912,hydrationErrors:null},G=Tr(18,null,null,0),G.stateNode=D,G.return=s,s.child=G,tr=s,Kt=null,G=!0):G=!1}G||ro(s)}if(D=s.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return mg(D)?s.lanes=32:s.lanes=536870912,null;cs(s)}return D=u.children,u=u.fallback,m?(Us(),m=s.mode,D=ff({mode:"hidden",children:D},m),u=Ja(u,m,l,null),D.return=s,u.return=s,D.sibling=u,s.child=D,m=s.child,m.memoizedState=Np(l),m.childLanes=Op(i,S,l),s.memoizedState=Ip,u):(Vs(s),Mp(s,D))}if(G=i.memoizedState,G!==null&&(D=G.dehydrated,D!==null)){if(y)s.flags&256?(Vs(s),s.flags&=-257,s=Dp(i,s,l)):s.memoizedState!==null?(Us(),s.child=i.child,s.flags|=128,s=null):(Us(),m=u.fallback,D=s.mode,u=ff({mode:"visible",children:u.children},D),m=Ja(m,D,l,null),m.flags|=2,u.return=s,m.return=s,u.sibling=m,s.child=u,cl(s,i.child,null,l),u=s.child,u.memoizedState=Np(l),u.childLanes=Op(i,S,l),s.memoizedState=Ip,s=m);else if(Vs(s),mg(D)){if(S=D.nextSibling&&D.nextSibling.dataset,S)var te=S.dgst;S=te,u=Error(r(419)),u.stack="",u.digest=S,Du({value:u,source:null,stack:null}),s=Dp(i,s,l)}else if(En||Pu(i,s,l,!1),S=(l&i.childLanes)!==0,En||S){if(S=jt,S!==null&&(u=l&-l,u=(u&42)!==0?1:vr(u),u=(u&(S.suspendedLanes|l))!==0?0:u,u!==0&&u!==G.retryLane))throw G.retryLane=u,Jo(i,u),Cr(S,i,u),rb;D.data==="$?"||Wp(),s=Dp(i,s,l)}else D.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=G.treeContext,Kt=oi(D.nextSibling),tr=s,Tt=!0,no=null,Mi=!1,i!==null&&($r[Qr++]=ss,$r[Qr++]=as,$r[Qr++]=eo,ss=i.id,as=i.overflow,eo=s),s=Mp(s,u.children),s.flags|=4096);return s}return m?(Us(),m=u.fallback,D=s.mode,G=i.child,te=G.sibling,u=is(G,{mode:"hidden",children:u.children}),u.subtreeFlags=G.subtreeFlags&65011712,te!==null?m=is(te,m):(m=Ja(m,D,l,null),m.flags|=2),m.return=s,u.return=s,u.sibling=m,s.child=u,u=m,m=s.child,D=i.child.memoizedState,D===null?D=Np(l):(G=D.cachePool,G!==null?(te=pn._currentValue,G=G.parent!==te?{parent:te,pool:te}:G):G=Z0(),D={baseLanes:D.baseLanes|l,cachePool:G}),m.memoizedState=D,m.childLanes=Op(i,S,l),s.memoizedState=Ip,u):(Vs(s),l=i.child,i=l.sibling,l=is(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=l,s.memoizedState=null,l)}function Mp(i,s){return s=ff({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ff(i,s){return i=Tr(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Dp(i,s,l){return cl(s,i.child,null,l),i=Mp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function hb(i,s,l){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Wm(i.return,s,l)}function Pp(i,s,l,u,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=m)}function mb(i,s,l){var u=s.pendingProps,m=u.revealOrder,y=u.tail;if(Mn(i,s,u.children,l),u=gn.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&hb(i,l,s);else if(i.tag===19)hb(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(pe(gn,u),m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&lf(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Pp(s,!1,m,l,y);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&lf(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Pp(s,!0,l,null,y);break;case"together":Pp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ds(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Hs|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Pu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=is(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=is(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function kp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Gd(i)))}function q2(i,s,l){switch(s.tag){case 3:Fe(s,s.stateNode.containerInfo),Ds(s,pn,i.memoizedState.cache),Mu();break;case 27:case 5:lt(s);break;case 4:Fe(s,s.stateNode.containerInfo);break;case 10:Ds(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Vs(s),s.flags|=128,null):(l&s.child.childLanes)!==0?fb(i,s,l):(Vs(s),i=ds(i,s,l),i!==null?i.sibling:null);Vs(s);break;case 19:var m=(i.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Pu(i,s,l,!1),u=(l&s.childLanes)!==0),m){if(u)return mb(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),pe(gn,gn.current),u)break;return null;case 22:case 23:return s.lanes=0,ob(i,s,l);case 24:Ds(s,pn,i.memoizedState.cache)}return ds(i,s,l)}function pb(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)En=!0;else{if(!kp(i,l)&&(s.flags&128)===0)return En=!1,q2(i,s,l);En=(i.flags&131072)!==0}else En=!1,Tt&&(s.flags&1048576)!==0&&G0(s,Hd,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var u=s.elementType,m=u._init;if(u=m(u._payload),s.type=u,typeof u=="function")Hm(u)?(i=lo(u,i),s.tag=1,s=cb(null,s,u,i,l)):(s.tag=0,s=Cp(null,s,u,i,l));else{if(u!=null){if(m=u.$$typeof,m===B){s.tag=11,s=ib(null,s,u,i,l);break e}else if(m===U){s.tag=14,s=sb(null,s,u,i,l);break e}}throw s=be(u)||u,Error(r(306,s,""))}}return s;case 0:return Cp(i,s,s.type,s.pendingProps,l);case 1:return u=s.type,m=lo(u,s.pendingProps),cb(i,s,u,m,l);case 3:e:{if(Fe(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var y=s.memoizedState;m=y.element,ip(i,s),Bu(s,u,null,l);var S=s.memoizedState;if(u=S.cache,Ds(s,pn,u),u!==y.cache&&Zm(s,[pn],l,!0),zu(),u=S.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=db(i,s,u,l);break e}else if(u!==m){m=Hr(Error(r(424)),s),Du(m),s=db(i,s,u,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Kt=oi(i.firstChild),tr=s,Tt=!0,no=null,Mi=!0,l=Q_(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Mu(),u===m){s=ds(i,s,l);break e}Mn(i,s,u,l)}s=s.child}return s;case 26:return df(i,s),i===null?(l=_w(s.type,null,s.pendingProps,null))?s.memoizedState=l:Tt||(l=s.type,i=s.pendingProps,u=Af(ye.current).createElement(l),u[fe]=s,u[ve]=i,Pn(u,l,i),ft(u),s.stateNode=u):s.memoizedState=_w(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return lt(s),i===null&&Tt&&(u=s.stateNode=gw(s.type,s.pendingProps,ye.current),tr=s,Mi=!0,m=Kt,Ks(s.type)?(pg=m,Kt=oi(u.firstChild)):Kt=m),Mn(i,s,s.pendingProps.children,l),df(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Tt&&((m=u=Kt)&&(u=yR(u,s.type,s.pendingProps,Mi),u!==null?(s.stateNode=u,tr=s,Kt=oi(u.firstChild),Mi=!1,m=!0):m=!1),m||ro(s)),lt(s),m=s.type,y=s.pendingProps,S=i!==null?i.memoizedProps:null,u=y.children,dg(m,y)?u=null:S!==null&&dg(m,S)&&(s.flags|=32),s.memoizedState!==null&&(m=cp(i,s,k2,null,null,l),uc._currentValue=m),df(i,s),Mn(i,s,u,l),s.child;case 6:return i===null&&Tt&&((i=l=Kt)&&(l=vR(l,s.pendingProps,Mi),l!==null?(s.stateNode=l,tr=s,Kt=null,i=!0):i=!1),i||ro(s)),null;case 13:return fb(i,s,l);case 4:return Fe(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=cl(s,null,u,l):Mn(i,s,u,l),s.child;case 11:return ib(i,s,s.type,s.pendingProps,l);case 7:return Mn(i,s,s.pendingProps,l),s.child;case 8:return Mn(i,s,s.pendingProps.children,l),s.child;case 12:return Mn(i,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Ds(s,s.type,u.value),Mn(i,s,u.children,l),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,so(s),m=Bn(m),u=u(m),s.flags|=1,Mn(i,s,u,l),s.child;case 14:return sb(i,s,s.type,s.pendingProps,l);case 15:return ab(i,s,s.type,s.pendingProps,l);case 19:return mb(i,s,l);case 31:return u=s.pendingProps,l=s.mode,u={mode:u.mode,children:u.children},i===null?(l=ff(u,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=is(i.child,u),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return ob(i,s,l);case 24:return so(s),u=Bn(pn),i===null?(m=tp(),m===null&&(m=jt,y=Jm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),s.memoizedState={parent:u,cache:m},rp(s),Ds(s,pn,m)):((i.lanes&l)!==0&&(ip(i,s),Bu(s,null,null,l),zu()),m=i.memoizedState,y=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Ds(s,pn,u)):(u=y.cache,Ds(s,pn,u),u!==m.cache&&Zm(s,[pn],l,!0))),Mn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function fs(i){i.flags|=4}function gb(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!xw(s)){if(s=Kr.current,s!==null&&((vt&4194048)===vt?Di!==null:(vt&62914560)!==vt&&(vt&536870912)===0||s!==Di))throw Vu=np,J0;i.flags|=8192}}function hf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Wn():536870912,i.lanes|=s,ml|=s)}function Ku(i,s){if(!Tt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Gt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=l,s}function H2(i,s,l){var u=s.pendingProps;switch(Km(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(s),null;case 1:return Gt(s),null;case 3:return l=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ls(pn),bt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Ou(s)?fs(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,K0())),Gt(s),null;case 26:return l=s.memoizedState,i===null?(fs(s),l!==null?(Gt(s),gb(s,l)):(Gt(s),s.flags&=-16777217)):l?l!==i.memoizedState?(fs(s),Gt(s),gb(s,l)):(Gt(s),s.flags&=-16777217):(i.memoizedProps!==u&&fs(s),Gt(s),s.flags&=-16777217),null;case 27:Qt(s),l=ye.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&fs(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Gt(s),null}i=xe.current,Ou(s)?$0(s):(i=gw(m,u,l),s.stateNode=i,fs(s))}return Gt(s),null;case 5:if(Qt(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&fs(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Gt(s),null}if(i=xe.current,Ou(s))$0(s);else{switch(m=Af(ye.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?m.createElement(l,{is:u.is}):m.createElement(l)}}i[fe]=s,i[ve]=u;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(Pn(i,l,u),l){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&fs(s)}}return Gt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&fs(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=ye.current,Ou(s)){if(i=s.stateNode,l=s.memoizedProps,u=null,m=tr,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[fe]=s,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||uw(i.nodeValue,l)),i||ro(s)}else i=Af(i).createTextNode(u),i[fe]=s,s.stateNode=i}return Gt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Ou(s),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[fe]=s}else Mu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gt(s),m=!1}else m=K0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(cs(s),s):(cs(s),null)}if(cs(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=u!==null,i=i!==null&&i.memoizedState!==null,l){u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),hf(s,s.updateQueue),Gt(s),null;case 4:return bt(),i===null&&ag(s.stateNode.containerInfo),Gt(s),null;case 10:return ls(s.type),Gt(s),null;case 19:if(ge(gn),m=s.memoizedState,m===null)return Gt(s),null;if(u=(s.flags&128)!==0,y=m.rendering,y===null)if(u)Ku(m,!1);else{if(Yt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=lf(i),y!==null){for(s.flags|=128,Ku(m,!1),i=y.updateQueue,s.updateQueue=i,hf(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)H0(l,i),l=l.sibling;return pe(gn,gn.current&1|2),s.child}i=i.sibling}m.tail!==null&&dn()>gf&&(s.flags|=128,u=!0,Ku(m,!1),s.lanes=4194304)}else{if(!u)if(i=lf(y),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,hf(s,i),Ku(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Tt)return Gt(s),null}else 2*dn()-m.renderingStartTime>gf&&l!==536870912&&(s.flags|=128,u=!0,Ku(m,!1),s.lanes=4194304);m.isBackwards?(y.sibling=s.child,s.child=y):(i=m.last,i!==null?i.sibling=y:s.child=y,m.last=y)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=dn(),s.sibling=null,i=gn.current,pe(gn,u?i&1|2:i&1),s):(Gt(s),null);case 22:case 23:return cs(s),lp(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(Gt(s),s.subtreeFlags&6&&(s.flags|=8192)):Gt(s),l=s.updateQueue,l!==null&&hf(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),i!==null&&ge(ao),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ls(pn),Gt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function G2(i,s){switch(Km(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ls(pn),bt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Qt(s),null;case 13:if(cs(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Mu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ge(gn),null;case 4:return bt(),null;case 10:return ls(s.type),null;case 22:case 23:return cs(s),lp(),i!==null&&ge(ao),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ls(pn),null;case 25:return null;default:return null}}function yb(i,s){switch(Km(s),s.tag){case 3:ls(pn),bt();break;case 26:case 27:case 5:Qt(s);break;case 4:bt();break;case 13:cs(s);break;case 19:ge(gn);break;case 10:ls(s.type);break;case 22:case 23:cs(s),lp(),i!==null&&ge(ao);break;case 24:ls(pn)}}function Yu(i,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&i)===i){u=void 0;var y=l.create,S=l.inst;u=y(),S.destroy=u}l=l.next}while(l!==m)}}catch(D){Lt(s,s.return,D)}}function zs(i,s,l){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&i)===i){var S=u.inst,D=S.destroy;if(D!==void 0){S.destroy=void 0,m=s;var G=l,te=D;try{te()}catch(ue){Lt(m,G,ue)}}}u=u.next}while(u!==y)}}catch(ue){Lt(s,s.return,ue)}}function vb(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{s_(s,l)}catch(u){Lt(i,i.return,u)}}}function _b(i,s,l){l.props=lo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){Lt(i,s,u)}}function Xu(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(m){Lt(i,s,m)}}function Pi(i,s){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){Lt(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Lt(i,s,m)}else l.current=null}function bb(i){var s=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){Lt(i,i.return,m)}}function Lp(i,s,l){try{var u=i.stateNode;fR(u,i.type,l,s),u[ve]=s}catch(m){Lt(i,i.return,m)}}function wb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ks(i.type)||i.tag===4}function jp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||wb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ks(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vp(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Sf));else if(u!==4&&(u===27&&Ks(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Vp(i,s,l),i=i.sibling;i!==null;)Vp(i,s,l),i=i.sibling}function mf(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(u!==4&&(u===27&&Ks(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(mf(i,s,l),i=i.sibling;i!==null;)mf(i,s,l),i=i.sibling}function Eb(i){var s=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Pn(s,u,l),s[fe]=i,s[ve]=l}catch(y){Lt(i,i.return,y)}}var hs=!1,Jt=!1,Up=!1,Tb=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function $2(i,s){if(i=i.containerInfo,ug=Mf,i=P0(i),jm(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,D=-1,G=-1,te=0,ue=0,he=i,ne=null;t:for(;;){for(var re;he!==l||m!==0&&he.nodeType!==3||(D=S+m),he!==y||u!==0&&he.nodeType!==3||(G=S+u),he.nodeType===3&&(S+=he.nodeValue.length),(re=he.firstChild)!==null;)ne=he,he=re;for(;;){if(he===i)break t;if(ne===l&&++te===m&&(D=S),ne===y&&++ue===u&&(G=S),(re=he.nextSibling)!==null)break;he=ne,ne=he.parentNode}he=re}l=D===-1||G===-1?null:{start:D,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(cg={focusedElem:i,selectionRange:l},Mf=!1,Tn=s;Tn!==null;)if(s=Tn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Tn=i;else for(;Tn!==null;){switch(s=Tn,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=s,m=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var Ge=lo(l.type,m,l.elementType===l.type);i=u.getSnapshotBeforeUpdate(Ge,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ue){Lt(l,l.return,Ue)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)hg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":hg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Tn=i;break}Tn=s.return}}function xb(i,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Bs(i,l),u&4&&Yu(5,l);break;case 1:if(Bs(i,l),u&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(S){Lt(l,l.return,S)}else{var m=lo(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Lt(l,l.return,S)}}u&64&&vb(l),u&512&&Xu(l,l.return);break;case 3:if(Bs(i,l),u&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{s_(i,s)}catch(S){Lt(l,l.return,S)}}break;case 27:s===null&&u&4&&Eb(l);case 26:case 5:Bs(i,l),s===null&&u&4&&bb(l),u&512&&Xu(l,l.return);break;case 12:Bs(i,l);break;case 13:Bs(i,l),u&4&&Rb(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=tR.bind(null,l),_R(i,l))));break;case 22:if(u=l.memoizedState!==null||hs,!u){s=s!==null&&s.memoizedState!==null||Jt,m=hs;var y=Jt;hs=u,(Jt=s)&&!y?Fs(i,l,(l.subtreeFlags&8772)!==0):Bs(i,l),hs=m,Jt=y}break;case 30:break;default:Bs(i,l)}}function Sb(i){var s=i.alternate;s!==null&&(i.alternate=null,Sb(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&De(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ft=null,ur=!1;function ms(i,s,l){for(l=l.child;l!==null;)Ab(i,s,l),l=l.sibling}function Ab(i,s,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(pt,l)}catch{}switch(l.tag){case 26:Jt||Pi(l,s),ms(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Jt||Pi(l,s);var u=Ft,m=ur;Ks(l.type)&&(Ft=l.stateNode,ur=!1),ms(i,s,l),sc(l.stateNode),Ft=u,ur=m;break;case 5:Jt||Pi(l,s);case 6:if(u=Ft,m=ur,Ft=null,ms(i,s,l),Ft=u,ur=m,Ft!==null)if(ur)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(l.stateNode)}catch(y){Lt(l,s,y)}else try{Ft.removeChild(l.stateNode)}catch(y){Lt(l,s,y)}break;case 18:Ft!==null&&(ur?(i=Ft,mw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),hc(i)):mw(Ft,l.stateNode));break;case 4:u=Ft,m=ur,Ft=l.stateNode.containerInfo,ur=!0,ms(i,s,l),Ft=u,ur=m;break;case 0:case 11:case 14:case 15:Jt||zs(2,l,s),Jt||zs(4,l,s),ms(i,s,l);break;case 1:Jt||(Pi(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&_b(l,s,u)),ms(i,s,l);break;case 21:ms(i,s,l);break;case 22:Jt=(u=Jt)||l.memoizedState!==null,ms(i,s,l),Jt=u;break;default:ms(i,s,l)}}function Rb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{hc(i)}catch(l){Lt(s,s.return,l)}}function Q2(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Tb),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Tb),s;default:throw Error(r(435,i.tag))}}function zp(i,s){var l=Q2(i);s.forEach(function(u){var m=nR.bind(null,i,u);l.has(u)||(l.add(u),u.then(m,m))})}function xr(i,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],y=i,S=s,D=S;e:for(;D!==null;){switch(D.tag){case 27:if(Ks(D.type)){Ft=D.stateNode,ur=!1;break e}break;case 5:Ft=D.stateNode,ur=!1;break e;case 3:case 4:Ft=D.stateNode.containerInfo,ur=!0;break e}D=D.return}if(Ft===null)throw Error(r(160));Ab(y,S,m),Ft=null,ur=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Cb(s,i),s=s.sibling}var ai=null;function Cb(i,s){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:xr(s,i),Sr(i),u&4&&(zs(3,i,i.return),Yu(3,i),zs(5,i,i.return));break;case 1:xr(s,i),Sr(i),u&512&&(Jt||l===null||Pi(l,l.return)),u&64&&hs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=ai;if(xr(s,i),Sr(i),u&512&&(Jt||l===null||Pi(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Ve]||y[fe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),Pn(y,u,l),y[fe]=i,ft(y),u=y;break e;case"link":var S=Ew("link","href",m).get(u+(l.href||""));if(S){for(var D=0;D<S.length;D++)if(y=S[D],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(D,1);break t}}y=m.createElement(u),Pn(y,u,l),m.head.appendChild(y);break;case"meta":if(S=Ew("meta","content",m).get(u+(l.content||""))){for(D=0;D<S.length;D++)if(y=S[D],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(D,1);break t}}y=m.createElement(u),Pn(y,u,l),m.head.appendChild(y);break;default:throw Error(r(468,u))}y[fe]=i,ft(y),u=y}i.stateNode=u}else Tw(m,i.type,i.stateNode);else i.stateNode=ww(m,u,i.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?Tw(m,i.type,i.stateNode):ww(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Lp(i,i.memoizedProps,l.memoizedProps)}break;case 27:xr(s,i),Sr(i),u&512&&(Jt||l===null||Pi(l,l.return)),l!==null&&u&4&&Lp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(xr(s,i),Sr(i),u&512&&(Jt||l===null||Pi(l,l.return)),i.flags&32){m=i.stateNode;try{zr(m,"")}catch(re){Lt(i,i.return,re)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,Lp(i,m,l!==null?l.memoizedProps:m)),u&1024&&(Up=!0);break;case 6:if(xr(s,i),Sr(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(re){Lt(i,i.return,re)}}break;case 3:if(If=null,m=ai,ai=Rf(s.containerInfo),xr(s,i),ai=m,Sr(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{hc(s.containerInfo)}catch(re){Lt(i,i.return,re)}Up&&(Up=!1,Ib(i));break;case 4:u=ai,ai=Rf(i.stateNode.containerInfo),xr(s,i),Sr(i),ai=u;break;case 12:xr(s,i),Sr(i);break;case 13:xr(s,i),Sr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&($p=dn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,zp(i,u)));break;case 22:m=i.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,te=hs,ue=Jt;if(hs=te||m,Jt=ue||G,xr(s,i),Jt=ue,hs=te,Sr(i),u&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(l===null||G||hs||Jt||uo(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){G=l=s;try{if(y=G.stateNode,m)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{D=G.stateNode;var he=G.memoizedProps.style,ne=he!=null&&he.hasOwnProperty("display")?he.display:null;D.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){Lt(G,G.return,re)}}}else if(s.tag===6){if(l===null){G=s;try{G.stateNode.nodeValue=m?"":G.memoizedProps}catch(re){Lt(G,G.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,zp(i,l))));break;case 19:xr(s,i),Sr(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,zp(i,u)));break;case 30:break;case 21:break;default:xr(s,i),Sr(i)}}function Sr(i){var s=i.flags;if(s&2){try{for(var l,u=i.return;u!==null;){if(wb(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=jp(i);mf(i,y,m);break;case 5:var S=l.stateNode;l.flags&32&&(zr(S,""),l.flags&=-33);var D=jp(i);mf(i,D,S);break;case 3:case 4:var G=l.stateNode.containerInfo,te=jp(i);Vp(i,te,G);break;default:throw Error(r(161))}}catch(ue){Lt(i,i.return,ue)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Ib(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Ib(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Bs(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)xb(i,s.alternate,s),s=s.sibling}function uo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:zs(4,s,s.return),uo(s);break;case 1:Pi(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&_b(s,s.return,l),uo(s);break;case 27:sc(s.stateNode);case 26:case 5:Pi(s,s.return),uo(s);break;case 22:s.memoizedState===null&&uo(s);break;case 30:uo(s);break;default:uo(s)}i=i.sibling}}function Fs(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=i,y=s,S=y.flags;switch(y.tag){case 0:case 11:case 15:Fs(m,y,l),Yu(4,y);break;case 1:if(Fs(m,y,l),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(te){Lt(u,u.return,te)}if(u=y,m=u.updateQueue,m!==null){var D=u.stateNode;try{var G=m.shared.hiddenCallbacks;if(G!==null)for(m.shared.hiddenCallbacks=null,m=0;m<G.length;m++)i_(G[m],D)}catch(te){Lt(u,u.return,te)}}l&&S&64&&vb(y),Xu(y,y.return);break;case 27:Eb(y);case 26:case 5:Fs(m,y,l),l&&u===null&&S&4&&bb(y),Xu(y,y.return);break;case 12:Fs(m,y,l);break;case 13:Fs(m,y,l),l&&S&4&&Rb(m,y);break;case 22:y.memoizedState===null&&Fs(m,y,l),Xu(y,y.return);break;case 30:break;default:Fs(m,y,l)}s=s.sibling}}function Bp(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&ku(l))}function Fp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ku(i))}function ki(i,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Nb(i,s,l,u),s=s.sibling}function Nb(i,s,l,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:ki(i,s,l,u),m&2048&&Yu(9,s);break;case 1:ki(i,s,l,u);break;case 3:ki(i,s,l,u),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ku(i)));break;case 12:if(m&2048){ki(i,s,l,u),i=s.stateNode;try{var y=s.memoizedProps,S=y.id,D=y.onPostCommit;typeof D=="function"&&D(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(G){Lt(s,s.return,G)}}else ki(i,s,l,u);break;case 13:ki(i,s,l,u);break;case 23:break;case 22:y=s.stateNode,S=s.alternate,s.memoizedState!==null?y._visibility&2?ki(i,s,l,u):Wu(i,s):y._visibility&2?ki(i,s,l,u):(y._visibility|=2,dl(i,s,l,u,(s.subtreeFlags&10256)!==0)),m&2048&&Bp(S,s);break;case 24:ki(i,s,l,u),m&2048&&Fp(s.alternate,s);break;default:ki(i,s,l,u)}}function dl(i,s,l,u,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,S=s,D=l,G=u,te=S.flags;switch(S.tag){case 0:case 11:case 15:dl(y,S,D,G,m),Yu(8,S);break;case 23:break;case 22:var ue=S.stateNode;S.memoizedState!==null?ue._visibility&2?dl(y,S,D,G,m):Wu(y,S):(ue._visibility|=2,dl(y,S,D,G,m)),m&&te&2048&&Bp(S.alternate,S);break;case 24:dl(y,S,D,G,m),m&&te&2048&&Fp(S.alternate,S);break;default:dl(y,S,D,G,m)}s=s.sibling}}function Wu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,u=s,m=u.flags;switch(u.tag){case 22:Wu(l,u),m&2048&&Bp(u.alternate,u);break;case 24:Wu(l,u),m&2048&&Fp(u.alternate,u);break;default:Wu(l,u)}s=s.sibling}}var Zu=8192;function fl(i){if(i.subtreeFlags&Zu)for(i=i.child;i!==null;)Ob(i),i=i.sibling}function Ob(i){switch(i.tag){case 26:fl(i),i.flags&Zu&&i.memoizedState!==null&&MR(ai,i.memoizedState,i.memoizedProps);break;case 5:fl(i);break;case 3:case 4:var s=ai;ai=Rf(i.stateNode.containerInfo),fl(i),ai=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Zu,Zu=16777216,fl(i),Zu=s):fl(i));break;default:fl(i)}}function Mb(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Ju(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Tn=u,Pb(u,i)}Mb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Db(i),i=i.sibling}function Db(i){switch(i.tag){case 0:case 11:case 15:Ju(i),i.flags&2048&&zs(9,i,i.return);break;case 3:Ju(i);break;case 12:Ju(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,pf(i)):Ju(i);break;default:Ju(i)}}function pf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Tn=u,Pb(u,i)}Mb(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:zs(8,s,s.return),pf(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,pf(s));break;default:pf(s)}i=i.sibling}}function Pb(i,s){for(;Tn!==null;){var l=Tn;switch(l.tag){case 0:case 11:case 15:zs(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ku(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Tn=u;else e:for(l=i;Tn!==null;){u=Tn;var m=u.sibling,y=u.return;if(Sb(u),u===l){Tn=null;break e}if(m!==null){m.return=y,Tn=m;break e}Tn=y}}}var K2={getCacheForType:function(i){var s=Bn(pn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},Y2=typeof WeakMap=="function"?WeakMap:Map,It=0,jt=null,st=null,vt=0,Nt=0,Ar=null,qs=!1,hl=!1,qp=!1,ps=0,Yt=0,Hs=0,co=0,Hp=0,Yr=0,ml=0,ec=null,cr=null,Gp=!1,$p=0,gf=1/0,yf=null,Gs=null,Dn=0,$s=null,pl=null,gl=0,Qp=0,Kp=null,kb=null,tc=0,Yp=null;function Rr(){if((It&2)!==0&&vt!==0)return vt&-vt;if(Q.T!==null){var i=rl;return i!==0?i:ng()}return $()}function Lb(){Yr===0&&(Yr=(vt&536870912)===0||Tt?nn():536870912);var i=Kr.current;return i!==null&&(i.flags|=32),Yr}function Cr(i,s,l){(i===jt&&(Nt===2||Nt===9)||i.cancelPendingCommit!==null)&&(yl(i,0),Qs(i,vt,Yr,!1)),Un(i,l),((It&2)===0||i!==jt)&&(i===jt&&((It&2)===0&&(co|=l),Yt===4&&Qs(i,vt,Yr,!1)),Li(i))}function jb(i,s,l){if((It&6)!==0)throw Error(r(327));var u=!l&&(s&124)===0&&(s&i.expiredLanes)===0||dt(i,s),m=u?Z2(i,s):Zp(i,s,!0),y=u;do{if(m===0){hl&&!u&&Qs(i,s,0,!1);break}else{if(l=i.current.alternate,y&&!X2(l)){m=Zp(i,s,!1),y=!1;continue}if(m===2){if(y=s,i.errorRecoveryDisabledLanes&y)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var D=i;m=ec;var G=D.current.memoizedState.isDehydrated;if(G&&(yl(D,S).flags|=256),S=Zp(D,S,!1),S!==2){if(qp&&!G){D.errorRecoveryDisabledLanes|=y,co|=y,m=4;break e}y=cr,cr=m,y!==null&&(cr===null?cr=y:cr.push.apply(cr,y))}m=S}if(y=!1,m!==2)continue}}if(m===1){yl(i,0),Qs(i,s,0,!0);break}e:{switch(u=i,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Qs(u,s,Yr,!qs);break e;case 2:cr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=$p+300-dn(),10<m)){if(Qs(u,s,Yr,!qs),We(u,0,!0)!==0)break e;u.timeoutHandle=fw(Vb.bind(null,u,l,cr,yf,Gp,s,Yr,co,ml,qs,y,2,-0,0),m);break e}Vb(u,l,cr,yf,Gp,s,Yr,co,ml,qs,y,0,-0,0)}}break}while(!0);Li(i)}function Vb(i,s,l,u,m,y,S,D,G,te,ue,he,ne,re){if(i.timeoutHandle=-1,he=s.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(lc={stylesheets:null,count:0,unsuspend:OR},Ob(s),he=DR(),he!==null)){i.cancelPendingCommit=he(Gb.bind(null,i,s,y,l,u,m,S,D,G,ue,1,ne,re)),Qs(i,y,S,!te);return}Gb(i,s,y,l,u,m,S,D,G)}function X2(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],y=m.getSnapshot;m=m.value;try{if(!Er(y(),m))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qs(i,s,l,u){s&=~Hp,s&=~co,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var m=s;0<m;){var y=31-qt(m),S=1<<y;u[y]=-1,m&=~S}l!==0&&Ht(i,l,s)}function vf(){return(It&6)===0?(nc(0),!1):!0}function Xp(){if(st!==null){if(Nt===0)var i=st.return;else i=st,os=io=null,hp(i),ul=null,$u=0,i=st;for(;i!==null;)yb(i.alternate,i),i=i.return;st=null}}function yl(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,mR(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Xp(),jt=i,st=l=is(i.current,null),vt=s,Nt=0,Ar=null,qs=!1,hl=dt(i,s),qp=!1,ml=Yr=Hp=co=Hs=Yt=0,cr=ec=null,Gp=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var m=31-qt(u),y=1<<m;s|=i[m],u&=~y}return ps=s,Ud(),l}function Ub(i,s){Je=null,Q.H=sf,s===ju||s===Kd?(s=n_(),Nt=3):s===J0?(s=n_(),Nt=4):Nt=s===rb?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ar=s,st===null&&(Yt=1,cf(i,Hr(s,i.current)))}function zb(){var i=Q.H;return Q.H=sf,i===null?sf:i}function Bb(){var i=Q.A;return Q.A=K2,i}function Wp(){Yt=4,qs||(vt&4194048)!==vt&&Kr.current!==null||(hl=!0),(Hs&134217727)===0&&(co&134217727)===0||jt===null||Qs(jt,vt,Yr,!1)}function Zp(i,s,l){var u=It;It|=2;var m=zb(),y=Bb();(jt!==i||vt!==s)&&(yf=null,yl(i,s)),s=!1;var S=Yt;e:do try{if(Nt!==0&&st!==null){var D=st,G=Ar;switch(Nt){case 8:Xp(),S=6;break e;case 3:case 2:case 9:case 6:Kr.current===null&&(s=!0);var te=Nt;if(Nt=0,Ar=null,vl(i,D,G,te),l&&hl){S=0;break e}break;default:te=Nt,Nt=0,Ar=null,vl(i,D,G,te)}}W2(),S=Yt;break}catch(ue){Ub(i,ue)}while(!0);return s&&i.shellSuspendCounter++,os=io=null,It=u,Q.H=m,Q.A=y,st===null&&(jt=null,vt=0,Ud()),S}function W2(){for(;st!==null;)Fb(st)}function Z2(i,s){var l=It;It|=2;var u=zb(),m=Bb();jt!==i||vt!==s?(yf=null,gf=dn()+500,yl(i,s)):hl=dt(i,s);e:do try{if(Nt!==0&&st!==null){s=st;var y=Ar;t:switch(Nt){case 1:Nt=0,Ar=null,vl(i,s,y,1);break;case 2:case 9:if(e_(y)){Nt=0,Ar=null,qb(s);break}s=function(){Nt!==2&&Nt!==9||jt!==i||(Nt=7),Li(i)},y.then(s,s);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:e_(y)?(Nt=0,Ar=null,qb(s)):(Nt=0,Ar=null,vl(i,s,y,7));break;case 5:var S=null;switch(st.tag){case 26:S=st.memoizedState;case 5:case 27:var D=st;if(!S||xw(S)){Nt=0,Ar=null;var G=D.sibling;if(G!==null)st=G;else{var te=D.return;te!==null?(st=te,_f(te)):st=null}break t}}Nt=0,Ar=null,vl(i,s,y,5);break;case 6:Nt=0,Ar=null,vl(i,s,y,6);break;case 8:Xp(),Yt=6;break e;default:throw Error(r(462))}}J2();break}catch(ue){Ub(i,ue)}while(!0);return os=io=null,Q.H=u,Q.A=m,It=l,st!==null?0:(jt=null,vt=0,Ud(),Yt)}function J2(){for(;st!==null&&!ti();)Fb(st)}function Fb(i){var s=pb(i.alternate,i,ps);i.memoizedProps=i.pendingProps,s===null?_f(i):st=s}function qb(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=ub(l,s,s.pendingProps,s.type,void 0,vt);break;case 11:s=ub(l,s,s.pendingProps,s.type.render,s.ref,vt);break;case 5:hp(s);default:yb(l,s),s=st=H0(s,ps),s=pb(l,s,ps)}i.memoizedProps=i.pendingProps,s===null?_f(i):st=s}function vl(i,s,l,u){os=io=null,hp(s),ul=null,$u=0;var m=s.return;try{if(F2(i,m,s,l,vt)){Yt=1,cf(i,Hr(l,i.current)),st=null;return}}catch(y){if(m!==null)throw st=m,y;Yt=1,cf(i,Hr(l,i.current)),st=null;return}s.flags&32768?(Tt||u===1?i=!0:hl||(vt&536870912)!==0?i=!1:(qs=i=!0,(u===2||u===9||u===3||u===6)&&(u=Kr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Hb(s,i)):_f(s)}function _f(i){var s=i;do{if((s.flags&32768)!==0){Hb(s,qs);return}i=s.return;var l=H2(s.alternate,s,ps);if(l!==null){st=l;return}if(s=s.sibling,s!==null){st=s;return}st=s=i}while(s!==null);Yt===0&&(Yt=5)}function Hb(i,s){do{var l=G2(i.alternate,i);if(l!==null){l.flags&=32767,st=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){st=i;return}st=i=l}while(i!==null);Yt=6,st=null}function Gb(i,s,l,u,m,y,S,D,G){i.cancelPendingCommit=null;do bf();while(Dn!==0);if((It&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Fm,Cn(i,l,y,S,D,G),i===jt&&(st=jt=null,vt=0),pl=s,$s=i,gl=l,Qp=y,Kp=m,kb=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,rR(ni,function(){return Xb(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,m=oe.p,oe.p=2,S=It,It|=4;try{$2(i,s,l)}finally{It=S,oe.p=m,Q.T=u}}Dn=1,$b(),Qb(),Kb()}}function $b(){if(Dn===1){Dn=0;var i=$s,s=pl,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var u=oe.p;oe.p=2;var m=It;It|=4;try{Cb(s,i);var y=cg,S=P0(i.containerInfo),D=y.focusedElem,G=y.selectionRange;if(S!==D&&D&&D.ownerDocument&&D0(D.ownerDocument.documentElement,D)){if(G!==null&&jm(D)){var te=G.start,ue=G.end;if(ue===void 0&&(ue=te),"selectionStart"in D)D.selectionStart=te,D.selectionEnd=Math.min(ue,D.value.length);else{var he=D.ownerDocument||document,ne=he&&he.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),Ge=D.textContent.length,Ue=Math.min(G.start,Ge),Pt=G.end===void 0?Ue:Math.min(G.end,Ge);!re.extend&&Ue>Pt&&(S=Pt,Pt=Ue,Ue=S);var X=M0(D,Ue),K=M0(D,Pt);if(X&&K&&(re.rangeCount!==1||re.anchorNode!==X.node||re.anchorOffset!==X.offset||re.focusNode!==K.node||re.focusOffset!==K.offset)){var J=he.createRange();J.setStart(X.node,X.offset),re.removeAllRanges(),Ue>Pt?(re.addRange(J),re.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),re.addRange(J))}}}}for(he=[],re=D;re=re.parentNode;)re.nodeType===1&&he.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<he.length;D++){var de=he[D];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Mf=!!ug,cg=ug=null}finally{It=m,oe.p=u,Q.T=l}}i.current=s,Dn=2}}function Qb(){if(Dn===2){Dn=0;var i=$s,s=pl,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var u=oe.p;oe.p=2;var m=It;It|=4;try{xb(i,s.alternate,s)}finally{It=m,oe.p=u,Q.T=l}}Dn=3}}function Kb(){if(Dn===4||Dn===3){Dn=0,Pr();var i=$s,s=pl,l=gl,u=kb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Dn=5:(Dn=0,pl=$s=null,Yb(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Gs=null),Ei(l),s=s.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(pt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Q.T,m=oe.p,oe.p=2,Q.T=null;try{for(var y=i.onRecoverableError,S=0;S<u.length;S++){var D=u[S];y(D.value,{componentStack:D.stack})}}finally{Q.T=s,oe.p=m}}(gl&3)!==0&&bf(),Li(i),m=i.pendingLanes,(l&4194090)!==0&&(m&42)!==0?i===Yp?tc++:(tc=0,Yp=i):tc=0,nc(0)}}function Yb(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,ku(s)))}function bf(i){return $b(),Qb(),Kb(),Xb()}function Xb(){if(Dn!==5)return!1;var i=$s,s=Qp;Qp=0;var l=Ei(gl),u=Q.T,m=oe.p;try{oe.p=32>l?32:l,Q.T=null,l=Kp,Kp=null;var y=$s,S=gl;if(Dn=0,pl=$s=null,gl=0,(It&6)!==0)throw Error(r(331));var D=It;if(It|=4,Db(y.current),Nb(y,y.current,S,l),It=D,nc(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(pt,y)}catch{}return!0}finally{oe.p=m,Q.T=u,Yb(i,s)}}function Wb(i,s,l){s=Hr(l,s),s=Rp(i.stateNode,s,2),i=Ls(i,s,2),i!==null&&(Un(i,2),Li(i))}function Lt(i,s,l){if(i.tag===3)Wb(i,i,l);else for(;s!==null;){if(s.tag===3){Wb(s,i,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Gs===null||!Gs.has(u))){i=Hr(l,i),l=tb(2),u=Ls(s,l,2),u!==null&&(nb(l,u,s,i),Un(u,2),Li(u));break}}s=s.return}}function Jp(i,s,l){var u=i.pingCache;if(u===null){u=i.pingCache=new Y2;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(l)||(qp=!0,m.add(l),i=eR.bind(null,i,s,l),s.then(i,i))}function eR(i,s,l){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,jt===i&&(vt&l)===l&&(Yt===4||Yt===3&&(vt&62914560)===vt&&300>dn()-$p?(It&2)===0&&yl(i,0):Hp|=l,ml===vt&&(ml=0)),Li(i)}function Zb(i,s){s===0&&(s=Wn()),i=Jo(i,s),i!==null&&(Un(i,s),Li(i))}function tR(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Zb(i,l)}function nR(i,s){var l=0;switch(i.tag){case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Zb(i,l)}function rR(i,s){return yr(i,s)}var wf=null,_l=null,eg=!1,Ef=!1,tg=!1,fo=0;function Li(i){i!==_l&&i.next===null&&(_l===null?wf=_l=i:_l=_l.next=i),Ef=!0,eg||(eg=!0,sR())}function nc(i,s){if(!tg&&Ef){tg=!0;do for(var l=!1,u=wf;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var S=u.suspendedLanes,D=u.pingedLanes;y=(1<<31-qt(42|i)+1)-1,y&=m&~(S&~D),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,nw(u,y))}else y=vt,y=We(u,u===jt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||dt(u,y)||(l=!0,nw(u,y));u=u.next}while(l);tg=!1}}function iR(){Jb()}function Jb(){Ef=eg=!1;var i=0;fo!==0&&(hR()&&(i=fo),fo=0);for(var s=dn(),l=null,u=wf;u!==null;){var m=u.next,y=ew(u,s);y===0?(u.next=null,l===null?wf=m:l.next=m,m===null&&(_l=l)):(l=u,(i!==0||(y&3)!==0)&&(Ef=!0)),u=m}nc(i)}function ew(i,s){for(var l=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var S=31-qt(y),D=1<<S,G=m[S];G===-1?((D&l)===0||(D&u)!==0)&&(m[S]=zt(D,s)):G<=s&&(i.expiredLanes|=D),y&=~D}if(s=jt,l=vt,l=We(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===s&&(Nt===2||Nt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Wt(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||dt(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(u!==null&&Wt(u),Ei(l)){case 2:case 8:l=bi;break;case 32:l=ni;break;case 268435456:l=Xn;break;default:l=ni}return u=tw.bind(null,i),l=yr(l,u),i.callbackPriority=s,i.callbackNode=l,s}return u!==null&&u!==null&&Wt(u),i.callbackPriority=2,i.callbackNode=null,2}function tw(i,s){if(Dn!==0&&Dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(bf()&&i.callbackNode!==l)return null;var u=vt;return u=We(i,i===jt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(jb(i,u,s),ew(i,dn()),i.callbackNode!=null&&i.callbackNode===l?tw.bind(null,i):null)}function nw(i,s){if(bf())return null;jb(i,s,!0)}function sR(){pR(function(){(It&6)!==0?yr(_i,iR):Jb()})}function ng(){return fo===0&&(fo=nn()),fo}function rw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Bo(""+i)}function iw(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function aR(i,s,l,u,m){if(s==="submit"&&l&&l.stateNode===m){var y=rw((m[ve]||null).action),S=u.submitter;S&&(s=(s=S[ve]||null)?rw(s.formAction):S.getAttribute("formAction"),s!==null&&(y=s,S=null));var D=new Fo("action","action",null,u,m);i.push({event:D,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fo!==0){var G=S?iw(m,S):new FormData(m);Ep(l,{pending:!0,data:G,method:m.method,action:y},null,G)}}else typeof y=="function"&&(D.preventDefault(),G=S?iw(m,S):new FormData(m),Ep(l,{pending:!0,data:G,method:m.method,action:y},y,G))},currentTarget:m}]})}}for(var rg=0;rg<Bm.length;rg++){var ig=Bm[rg],oR=ig.toLowerCase(),lR=ig[0].toUpperCase()+ig.slice(1);si(oR,"on"+lR)}si(j0,"onAnimationEnd"),si(V0,"onAnimationIteration"),si(U0,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(S2,"onTransitionRun"),si(A2,"onTransitionStart"),si(R2,"onTransitionCancel"),si(z0,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rc));function sw(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],m=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var S=u.length-1;0<=S;S--){var D=u[S],G=D.instance,te=D.currentTarget;if(D=D.listener,G!==y&&m.isPropagationStopped())break e;y=D,m.currentTarget=te;try{y(m)}catch(ue){uf(ue)}m.currentTarget=null,y=G}else for(S=0;S<u.length;S++){if(D=u[S],G=D.instance,te=D.currentTarget,D=D.listener,G!==y&&m.isPropagationStopped())break e;y=D,m.currentTarget=te;try{y(m)}catch(ue){uf(ue)}m.currentTarget=null,y=G}}}}function at(i,s){var l=s[je];l===void 0&&(l=s[je]=new Set);var u=i+"__bubble";l.has(u)||(aw(s,i,2,!1),l.add(u))}function sg(i,s,l){var u=0;s&&(u|=4),aw(l,i,u,s)}var Tf="_reactListening"+Math.random().toString(36).slice(2);function ag(i){if(!i[Tf]){i[Tf]=!0,tt.forEach(function(l){l!=="selectionchange"&&(uR.has(l)||sg(l,!1,i),sg(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Tf]||(s[Tf]=!0,sg("selectionchange",!1,s))}}function aw(i,s,l,u){switch(Nw(s)){case 2:var m=LR;break;case 8:m=jR;break;default:m=bg}l=m.bind(null,s,l,i),m=void 0,!Fr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function og(i,s,l,u,m){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var D=u.stateNode.containerInfo;if(D===m)break;if(S===4)for(S=u.return;S!==null;){var G=S.tag;if((G===3||G===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;D!==null;){if(S=ze(D),S===null)return;if(G=S.tag,G===5||G===6||G===26||G===27){u=y=S;continue e}D=D.parentNode}}u=u.return}xd(function(){var te=y,ue=Br(l),he=[];e:{var ne=B0.get(i);if(ne!==void 0){var re=Fo,Ge=i;switch(i){case"keypress":if(Ri(l)===0)break e;case"keydown":case"keyup":re=Ko;break;case"focusin":Ge="focus",re=Go;break;case"focusout":Ge="blur",re=Go;break;case"beforeblur":case"afterblur":re=Go;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=qr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Md;break;case j0:case V0:case U0:re=$o;break;case z0:re=Pd;break;case"scroll":case"scrollend":re=Sd;break;case"wheel":re=Yo;break;case"copy":case"cut":case"paste":re=Qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Ru;break;case"toggle":case"beforetoggle":re=Ld}var Ue=(s&4)!==0,Pt=!Ue&&(i==="scroll"||i==="scrollend"),X=Ue?ne!==null?ne+"Capture":null:ne;Ue=[];for(var K=te,J;K!==null;){var de=K;if(J=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||J===null||X===null||(de=Ha(K,X),de!=null&&Ue.push(ic(K,de,J))),Pt)break;K=K.return}0<Ue.length&&(ne=new re(ne,Ge,null,l,ue),he.push({event:ne,listeners:Ue}))}}if((s&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",ne&&l!==Zi&&(Ge=l.relatedTarget||l.fromElement)&&(ze(Ge)||Ge[Ae]))break e;if((re||ne)&&(ne=ue.window===ue?ue:(ne=ue.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(Ge=l.relatedTarget||l.toElement,re=te,Ge=Ge?ze(Ge):null,Ge!==null&&(Pt=o(Ge),Ue=Ge.tag,Ge!==Pt||Ue!==5&&Ue!==27&&Ue!==6)&&(Ge=null)):(re=null,Ge=te),re!==Ge)){if(Ue=qr,de="onMouseLeave",X="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Ue=Ru,de="onPointerLeave",X="onPointerEnter",K="pointer"),Pt=re==null?ne:xt(re),J=Ge==null?ne:xt(Ge),ne=new Ue(de,K+"leave",re,l,ue),ne.target=Pt,ne.relatedTarget=J,de=null,ze(ue)===te&&(Ue=new Ue(X,K+"enter",Ge,l,ue),Ue.target=J,Ue.relatedTarget=Pt,de=Ue),Pt=de,re&&Ge)t:{for(Ue=re,X=Ge,K=0,J=Ue;J;J=bl(J))K++;for(J=0,de=X;de;de=bl(de))J++;for(;0<K-J;)Ue=bl(Ue),K--;for(;0<J-K;)X=bl(X),J--;for(;K--;){if(Ue===X||X!==null&&Ue===X.alternate)break t;Ue=bl(Ue),X=bl(X)}Ue=null}else Ue=null;re!==null&&ow(he,ne,re,Ue,!1),Ge!==null&&Pt!==null&&ow(he,Pt,Ge,Ue,!0)}}e:{if(ne=te?xt(te):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Ce=A0;else if(mn(ne))if(R0)Ce=E2;else{Ce=b2;var nt=_2}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&bu(te.elementType)&&(Ce=A0):Ce=w2;if(Ce&&(Ce=Ce(i,te))){rs(he,Ce,l,ue);break e}nt&&nt(i,ne,te),i==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&Os(ne,"number",ne.value)}switch(nt=te?xt(te):window,i){case"focusin":(mn(nt)||nt.contentEditable==="true")&&(Xo=nt,Vm=te,Nu=null);break;case"focusout":Nu=Vm=Xo=null;break;case"mousedown":Um=!0;break;case"contextmenu":case"mouseup":case"dragend":Um=!1,k0(he,l,ue);break;case"selectionchange":if(x2)break;case"keydown":case"keyup":k0(he,l,ue)}var ke;if(Ni)e:{switch(i){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else gt?ie(i,l)&&(Be="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Be="onCompositionStart");Be&&(x&&l.locale!=="ko"&&(gt||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&gt&&(ke=Eu()):(Ai=ue,Ms="value"in Ai?Ai.value:Ai.textContent,gt=!0)),nt=xf(te,Be),0<nt.length&&(Be=new Su(Be,i,null,l,ue),he.push({event:Be,listeners:nt}),ke?Be.data=ke:(ke=we(l),ke!==null&&(Be.data=ke)))),(ke=w?hn(i,l):yt(i,l))&&(Be=xf(te,"onBeforeInput"),0<Be.length&&(nt=new Su("onBeforeInput","beforeinput",null,l,ue),he.push({event:nt,listeners:Be}),nt.data=ke)),aR(he,i,te,l,ue)}sw(he,s)})}function ic(i,s,l){return{instance:i,listener:s,currentTarget:l}}function xf(i,s){for(var l=s+"Capture",u=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Ha(i,l),m!=null&&u.unshift(ic(i,m,y)),m=Ha(i,s),m!=null&&u.push(ic(i,m,y))),i.tag===3)return u;i=i.return}return[]}function bl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ow(i,s,l,u,m){for(var y=s._reactName,S=[];l!==null&&l!==u;){var D=l,G=D.alternate,te=D.stateNode;if(D=D.tag,G!==null&&G===u)break;D!==5&&D!==26&&D!==27||te===null||(G=te,m?(te=Ha(l,y),te!=null&&S.unshift(ic(l,te,G))):m||(te=Ha(l,y),te!=null&&S.push(ic(l,te,G)))),l=l.return}S.length!==0&&i.push({event:s,listeners:S})}var cR=/\r\n?/g,dR=/\u0000|\uFFFD/g;function lw(i){return(typeof i=="string"?i:""+i).replace(cR,`
`).replace(dR,"")}function uw(i,s){return s=lw(s),lw(i)===s}function Sf(){}function Dt(i,s,l,u,m,y){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||zr(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&zr(i,""+u);break;case"className":Jn(i,"class",u);break;case"tabIndex":Jn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(i,l,u);break;case"style":_u(i,u,y);break;case"data":if(s!=="object"){Jn(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Bo(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&Dt(i,s,"name",m.name,m,null),Dt(i,s,"formEncType",m.formEncType,m,null),Dt(i,s,"formMethod",m.formMethod,m,null),Dt(i,s,"formTarget",m.formTarget,m,null)):(Dt(i,s,"encType",m.encType,m,null),Dt(i,s,"method",m.method,m,null),Dt(i,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Bo(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=Sf);break;case"onScroll":u!=null&&at("scroll",i);break;case"onScrollEnd":u!=null&&at("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Bo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":at("beforetoggle",i),at("toggle",i),zn(i,"popover",u);break;case"xlinkActuate":Qe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Qe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Qe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Qe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Qe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Qe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Qe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Qe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Qe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":zn(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Om.get(l)||l,zn(i,l,u))}}function lg(i,s,l,u,m,y){switch(l){case"style":_u(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?zr(i,u):(typeof u=="number"||typeof u=="bigint")&&zr(i,""+u);break;case"onScroll":u!=null&&at("scroll",i);break;case"onScrollEnd":u!=null&&at("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Sf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),s=l.slice(2,m?l.length-7:void 0),y=i[ve]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(s,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,u,m);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):zn(i,l,u)}}}function Pn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",i),at("load",i);var u=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var S=l[y];if(S!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Dt(i,s,y,S,l,null)}}m&&Dt(i,s,"srcSet",l.srcSet,l,null),u&&Dt(i,s,"src",l.src,l,null);return;case"input":at("invalid",i);var D=y=S=m=null,G=null,te=null;for(u in l)if(l.hasOwnProperty(u)){var ue=l[u];if(ue!=null)switch(u){case"name":m=ue;break;case"type":S=ue;break;case"checked":G=ue;break;case"defaultChecked":te=ue;break;case"value":y=ue;break;case"defaultValue":D=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,s));break;default:Dt(i,s,u,ue,l,null)}}Ba(i,y,D,G,te,S,m,!1),zo(i);return;case"select":at("invalid",i),u=S=y=null;for(m in l)if(l.hasOwnProperty(m)&&(D=l[m],D!=null))switch(m){case"value":y=D;break;case"defaultValue":S=D;break;case"multiple":u=D;default:Dt(i,s,m,D,l,null)}s=y,l=S,i.multiple=!!u,s!=null?Wi(i,!!u,s,!1):l!=null&&Wi(i,!!u,l,!0);return;case"textarea":at("invalid",i),y=m=u=null;for(S in l)if(l.hasOwnProperty(S)&&(D=l[S],D!=null))switch(S){case"value":u=D;break;case"defaultValue":m=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:Dt(i,s,S,D,l,null)}Fa(i,u,m,y),zo(i);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Dt(i,s,G,u,l,null)}return;case"dialog":at("beforetoggle",i),at("toggle",i),at("cancel",i),at("close",i);break;case"iframe":case"object":at("load",i);break;case"video":case"audio":for(u=0;u<rc.length;u++)at(rc[u],i);break;case"image":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"embed":case"source":case"link":at("error",i),at("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(u=l[te],u!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Dt(i,s,te,u,l,null)}return;default:if(bu(s)){for(ue in l)l.hasOwnProperty(ue)&&(u=l[ue],u!==void 0&&lg(i,s,ue,u,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(u=l[D],u!=null&&Dt(i,s,D,u,l,null))}function fR(i,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,S=null,D=null,G=null,te=null,ue=null;for(re in l){var he=l[re];if(l.hasOwnProperty(re)&&he!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":G=he;default:u.hasOwnProperty(re)||Dt(i,s,re,null,u,he)}}for(var ne in u){var re=u[ne];if(he=l[ne],u.hasOwnProperty(ne)&&(re!=null||he!=null))switch(ne){case"type":y=re;break;case"name":m=re;break;case"checked":te=re;break;case"defaultChecked":ue=re;break;case"value":S=re;break;case"defaultValue":D=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:re!==he&&Dt(i,s,ne,re,u,he)}}wr(i,S,D,G,te,ue,y,m);return;case"select":re=S=D=ne=null;for(y in l)if(G=l[y],l.hasOwnProperty(y)&&G!=null)switch(y){case"value":break;case"multiple":re=G;default:u.hasOwnProperty(y)||Dt(i,s,y,null,u,G)}for(m in u)if(y=u[m],G=l[m],u.hasOwnProperty(m)&&(y!=null||G!=null))switch(m){case"value":ne=y;break;case"defaultValue":D=y;break;case"multiple":S=y;default:y!==G&&Dt(i,s,m,y,u,G)}s=D,l=S,u=re,ne!=null?Wi(i,!!l,ne,!1):!!u!=!!l&&(s!=null?Wi(i,!!l,s,!0):Wi(i,!!l,l?[]:"",!1));return;case"textarea":re=ne=null;for(D in l)if(m=l[D],l.hasOwnProperty(D)&&m!=null&&!u.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Dt(i,s,D,null,u,m)}for(S in u)if(m=u[S],y=l[S],u.hasOwnProperty(S)&&(m!=null||y!=null))switch(S){case"value":ne=m;break;case"defaultValue":re=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&Dt(i,s,S,m,u,y)}Ot(i,ne,re);return;case"option":for(var Ge in l)if(ne=l[Ge],l.hasOwnProperty(Ge)&&ne!=null&&!u.hasOwnProperty(Ge))switch(Ge){case"selected":i.selected=!1;break;default:Dt(i,s,Ge,null,u,ne)}for(G in u)if(ne=u[G],re=l[G],u.hasOwnProperty(G)&&ne!==re&&(ne!=null||re!=null))switch(G){case"selected":i.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Dt(i,s,G,ne,u,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in l)ne=l[Ue],l.hasOwnProperty(Ue)&&ne!=null&&!u.hasOwnProperty(Ue)&&Dt(i,s,Ue,null,u,ne);for(te in u)if(ne=u[te],re=l[te],u.hasOwnProperty(te)&&ne!==re&&(ne!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:Dt(i,s,te,ne,u,re)}return;default:if(bu(s)){for(var Pt in l)ne=l[Pt],l.hasOwnProperty(Pt)&&ne!==void 0&&!u.hasOwnProperty(Pt)&&lg(i,s,Pt,void 0,u,ne);for(ue in u)ne=u[ue],re=l[ue],!u.hasOwnProperty(ue)||ne===re||ne===void 0&&re===void 0||lg(i,s,ue,ne,u,re);return}}for(var X in l)ne=l[X],l.hasOwnProperty(X)&&ne!=null&&!u.hasOwnProperty(X)&&Dt(i,s,X,null,u,ne);for(he in u)ne=u[he],re=l[he],!u.hasOwnProperty(he)||ne===re||ne==null&&re==null||Dt(i,s,he,ne,u,re)}var ug=null,cg=null;function Af(i){return i.nodeType===9?i:i.ownerDocument}function cw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dw(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function dg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fg=null;function hR(){var i=window.event;return i&&i.type==="popstate"?i===fg?!1:(fg=i,!0):(fg=null,!1)}var fw=typeof setTimeout=="function"?setTimeout:void 0,mR=typeof clearTimeout=="function"?clearTimeout:void 0,hw=typeof Promise=="function"?Promise:void 0,pR=typeof queueMicrotask=="function"?queueMicrotask:typeof hw<"u"?function(i){return hw.resolve(null).then(i).catch(gR)}:fw;function gR(i){setTimeout(function(){throw i})}function Ks(i){return i==="head"}function mw(i,s){var l=s,u=0,m=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<u&&8>u){l=u;var S=i.ownerDocument;if(l&1&&sc(S.documentElement),l&2&&sc(S.body),l&4)for(l=S.head,sc(l),S=l.firstChild;S;){var D=S.nextSibling,G=S.nodeName;S[Ve]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=D}}if(m===0){i.removeChild(y),hc(s);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:u=l.charCodeAt(0)-48;else u=0;l=y}while(l);hc(s)}function hg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":hg(l),De(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function yR(i,s,l,u){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ve])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=oi(i.nextSibling),i===null)break}return null}function vR(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=oi(i.nextSibling),i===null))return null;return i}function mg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function _R(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function oi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var pg=null;function pw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function gw(i,s,l){switch(s=Af(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function sc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);De(i)}var Xr=new Map,yw=new Set;function Rf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var gs=oe.d;oe.d={f:bR,r:wR,D:ER,C:TR,L:xR,m:SR,X:RR,S:AR,M:CR};function bR(){var i=gs.f(),s=vf();return i||s}function wR(i){var s=it(i);s!==null&&s.tag===5&&s.type==="form"?j_(s):gs.r(i)}var wl=typeof document>"u"?null:document;function vw(i,s,l){var u=wl;if(u&&typeof s=="string"&&s){var m=sn(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),yw.has(m)||(yw.add(m),i={rel:i,crossOrigin:l,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),Pn(s,"link",i),ft(s),u.head.appendChild(s)))}}function ER(i){gs.D(i),vw("dns-prefetch",i,null)}function TR(i,s){gs.C(i,s),vw("preconnect",i,s)}function xR(i,s,l){gs.L(i,s,l);var u=wl;if(u&&i&&s){var m='link[rel="preload"][as="'+sn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+sn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+sn(l.imageSizes)+'"]')):m+='[href="'+sn(i)+'"]';var y=m;switch(s){case"style":y=El(i);break;case"script":y=Tl(i)}Xr.has(y)||(i=g({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Xr.set(y,i),u.querySelector(m)!==null||s==="style"&&u.querySelector(ac(y))||s==="script"&&u.querySelector(oc(y))||(s=u.createElement("link"),Pn(s,"link",i),ft(s),u.head.appendChild(s)))}}function SR(i,s){gs.m(i,s);var l=wl;if(l&&i){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+sn(u)+'"][href="'+sn(i)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Tl(i)}if(!Xr.has(y)&&(i=g({rel:"modulepreload",href:i},s),Xr.set(y,i),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(oc(y)))return}u=l.createElement("link"),Pn(u,"link",i),ft(u),l.head.appendChild(u)}}}function AR(i,s,l){gs.S(i,s,l);var u=wl;if(u&&i){var m=wt(u).hoistableStyles,y=El(i);s=s||"default";var S=m.get(y);if(!S){var D={loading:0,preload:null};if(S=u.querySelector(ac(y)))D.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Xr.get(y))&&gg(i,l);var G=S=u.createElement("link");ft(G),Pn(G,"link",i),G._p=new Promise(function(te,ue){G.onload=te,G.onerror=ue}),G.addEventListener("load",function(){D.loading|=1}),G.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Cf(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:D},m.set(y,S)}}}function RR(i,s){gs.X(i,s);var l=wl;if(l&&i){var u=wt(l).hoistableScripts,m=Tl(i),y=u.get(m);y||(y=l.querySelector(oc(m)),y||(i=g({src:i,async:!0},s),(s=Xr.get(m))&&yg(i,s),y=l.createElement("script"),ft(y),Pn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function CR(i,s){gs.M(i,s);var l=wl;if(l&&i){var u=wt(l).hoistableScripts,m=Tl(i),y=u.get(m);y||(y=l.querySelector(oc(m)),y||(i=g({src:i,async:!0,type:"module"},s),(s=Xr.get(m))&&yg(i,s),y=l.createElement("script"),ft(y),Pn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function _w(i,s,l,u){var m=(m=ye.current)?Rf(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=El(l.href),l=wt(m).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=El(l.href);var y=wt(m).hoistableStyles,S=y.get(i);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,S),(y=m.querySelector(ac(i)))&&!y._p&&(S.instance=y,S.state.loading=5),Xr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Xr.set(i,l),y||IR(m,i,l,S.state))),s&&u===null)throw Error(r(528,""));return S}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Tl(l),l=wt(m).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function El(i){return'href="'+sn(i)+'"'}function ac(i){return'link[rel="stylesheet"]['+i+"]"}function bw(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function IR(i,s,l,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Pn(s,"link",l),ft(s),i.head.appendChild(s))}function Tl(i){return'[src="'+sn(i)+'"]'}function oc(i){return"script[async]"+i}function ww(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+sn(l.href)+'"]');if(u)return s.instance=u,ft(u),u;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ft(u),Pn(u,"style",m),Cf(u,l.precedence,i),s.instance=u;case"stylesheet":m=El(l.href);var y=i.querySelector(ac(m));if(y)return s.state.loading|=4,s.instance=y,ft(y),y;u=bw(l),(m=Xr.get(m))&&gg(u,m),y=(i.ownerDocument||i).createElement("link"),ft(y);var S=y;return S._p=new Promise(function(D,G){S.onload=D,S.onerror=G}),Pn(y,"link",u),s.state.loading|=4,Cf(y,l.precedence,i),s.instance=y;case"script":return y=Tl(l.src),(m=i.querySelector(oc(y)))?(s.instance=m,ft(m),m):(u=l,(m=Xr.get(y))&&(u=g({},l),yg(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),ft(m),Pn(m,"link",u),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Cf(u,l.precedence,i));return s.instance}function Cf(i,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,S=0;S<u.length;S++){var D=u[S];if(D.dataset.precedence===s)y=D;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function gg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function yg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var If=null;function Ew(i,s,l){if(If===null){var u=new Map,m=If=new Map;m.set(l,u)}else m=If,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var y=l[m];if(!(y[Ve]||y[fe]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(s)||"";S=i+S;var D=u.get(S);D?D.push(y):u.set(S,[y])}}return u}function Tw(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function NR(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function xw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var lc=null;function OR(){}function MR(i,s,l){if(lc===null)throw Error(r(475));var u=lc;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=El(l.href),y=i.querySelector(ac(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Nf.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=y,ft(y);return}y=i.ownerDocument||i,l=bw(l),(m=Xr.get(m))&&gg(l,m),y=y.createElement("link"),ft(y);var S=y;S._p=new Promise(function(D,G){S.onload=D,S.onerror=G}),Pn(y,"link",l),s.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Nf.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function DR(){if(lc===null)throw Error(r(475));var i=lc;return i.stylesheets&&i.count===0&&vg(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&vg(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Nf(){if(this.count--,this.count===0){if(this.stylesheets)vg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Of=null;function vg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Of=new Map,s.forEach(PR,i),Of=null,Nf.call(i))}function PR(i,s){if(!(s.state.loading&4)){var l=Of.get(i);if(l)var u=l.get(null);else{l=new Map,Of.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var S=m[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),u=S)}u&&l.set(null,u)}m=s.instance,S=m.getAttribute("data-precedence"),y=l.get(S)||u,y===u&&l.set(null,m),l.set(S,m),this.count++,u=Nf.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var uc={$$typeof:R,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function kR(i,s,l,u,m,y,S,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rn(0),this.hiddenUpdates=Rn(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Sw(i,s,l,u,m,y,S,D,G,te,ue,he){return i=new kR(i,s,l,S,D,G,te,he),s=1,y===!0&&(s|=24),y=Tr(3,null,null,s),i.current=y,y.stateNode=i,s=Jm(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:s},rp(y),i}function Aw(i){return i?(i=el,i):el}function Rw(i,s,l,u,m,y){m=Aw(m),u.context===null?u.context=m:u.pendingContext=m,u=ks(s),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=Ls(i,u,s),l!==null&&(Cr(l,i,s),Uu(l,i,s))}function Cw(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function _g(i,s){Cw(i,s),(i=i.alternate)&&Cw(i,s)}function Iw(i){if(i.tag===13){var s=Jo(i,67108864);s!==null&&Cr(s,i,67108864),_g(i,67108864)}}var Mf=!0;function LR(i,s,l,u){var m=Q.T;Q.T=null;var y=oe.p;try{oe.p=2,bg(i,s,l,u)}finally{oe.p=y,Q.T=m}}function jR(i,s,l,u){var m=Q.T;Q.T=null;var y=oe.p;try{oe.p=8,bg(i,s,l,u)}finally{oe.p=y,Q.T=m}}function bg(i,s,l,u){if(Mf){var m=wg(u);if(m===null)og(i,s,u,Df,l),Ow(i,u);else if(UR(m,i,s,l,u))u.stopPropagation();else if(Ow(i,u),s&4&&-1<VR.indexOf(i)){for(;m!==null;){var y=it(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Ne(y.pendingLanes);if(S!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;S;){var G=1<<31-qt(S);D.entanglements[1]|=G,S&=~G}Li(y),(It&6)===0&&(gf=dn()+500,nc(0))}}break;case 13:D=Jo(y,2),D!==null&&Cr(D,y,2),vf(),_g(y,2)}if(y=wg(u),y===null&&og(i,s,u,Df,l),y===m)break;m=y}m!==null&&u.stopPropagation()}else og(i,s,u,null,l)}}function wg(i){return i=Br(i),Eg(i)}var Df=null;function Eg(i){if(Df=null,i=ze(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=c(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Df=i,null}function Nw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ua()){case _i:return 2;case bi:return 8;case ni:case Yn:return 32;case Xn:return 268435456;default:return 32}default:return 32}}var Tg=!1,Ys=null,Xs=null,Ws=null,cc=new Map,dc=new Map,Zs=[],VR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ow(i,s){switch(i){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":cc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(s.pointerId)}}function fc(i,s,l,u,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},s!==null&&(s=it(s),s!==null&&Iw(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function UR(i,s,l,u,m){switch(s){case"focusin":return Ys=fc(Ys,i,s,l,u,m),!0;case"dragenter":return Xs=fc(Xs,i,s,l,u,m),!0;case"mouseover":return Ws=fc(Ws,i,s,l,u,m),!0;case"pointerover":var y=m.pointerId;return cc.set(y,fc(cc.get(y)||null,i,s,l,u,m)),!0;case"gotpointercapture":return y=m.pointerId,dc.set(y,fc(dc.get(y)||null,i,s,l,u,m)),!0}return!1}function Mw(i){var s=ze(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){i.blockedOn=s,W(i.priority,function(){if(l.tag===13){var u=Rr();u=vr(u);var m=Jo(l,u);m!==null&&Cr(m,l,u),_g(l,u)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=wg(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);Zi=u,l.target.dispatchEvent(u),Zi=null}else return s=it(l),s!==null&&Iw(s),i.blockedOn=l,!1;s.shift()}return!0}function Dw(i,s,l){Pf(i)&&l.delete(s)}function zR(){Tg=!1,Ys!==null&&Pf(Ys)&&(Ys=null),Xs!==null&&Pf(Xs)&&(Xs=null),Ws!==null&&Pf(Ws)&&(Ws=null),cc.forEach(Dw),dc.forEach(Dw)}function kf(i,s){i.blockedOn===s&&(i.blockedOn=null,Tg||(Tg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zR)))}var Lf=null;function Pw(i){Lf!==i&&(Lf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Lf===i&&(Lf=null);for(var s=0;s<i.length;s+=3){var l=i[s],u=i[s+1],m=i[s+2];if(typeof u!="function"){if(Eg(u||l)===null)continue;break}var y=it(l);y!==null&&(i.splice(s,3),s-=3,Ep(y,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function hc(i){function s(G){return kf(G,i)}Ys!==null&&kf(Ys,i),Xs!==null&&kf(Xs,i),Ws!==null&&kf(Ws,i),cc.forEach(s),dc.forEach(s);for(var l=0;l<Zs.length;l++){var u=Zs[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Zs.length&&(l=Zs[0],l.blockedOn===null);)Mw(l),l.blockedOn===null&&Zs.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],y=l[u+1],S=m[ve]||null;if(typeof y=="function")S||Pw(l);else if(S){var D=null;if(y&&y.hasAttribute("formAction")){if(m=y,S=y[ve]||null)D=S.formAction;else if(Eg(m)!==null)continue}else D=S.action;typeof D=="function"?l[u+1]=D:(l.splice(u,3),u-=3),Pw(l)}}}function xg(i){this._internalRoot=i}jf.prototype.render=xg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=Rr();Rw(l,u,i,s,null,null)},jf.prototype.unmount=xg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Rw(i.current,2,null,i,null,null),vf(),s[Ae]=null}};function jf(i){this._internalRoot=i}jf.prototype.unstable_scheduleHydration=function(i){if(i){var s=$();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Zs.length&&s!==0&&s<Zs[l].priority;l++);Zs.splice(l,0,i),l===0&&Mw(i)}};var kw=e.version;if(kw!=="19.1.0")throw Error(r(527,kw,"19.1.0"));oe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var BR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vf.isDisabled&&Vf.supportsFiber)try{pt=Vf.inject(BR),Xe=Vf}catch{}}return pc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,u="",m=W_,y=Z_,S=J_,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks)),s=Sw(i,1,!1,null,null,l,u,m,y,S,D,null),i[Ae]=s.current,ag(i),new xg(s)},pc.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var u=!1,m="",y=W_,S=Z_,D=J_,G=null,te=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(G=l.unstable_transitionCallbacks),l.formState!==void 0&&(te=l.formState)),s=Sw(i,1,!0,s,l??null,u,m,y,S,D,G,te),s.context=Aw(null),l=s.current,u=Rr(),u=vr(u),m=ks(u),m.callback=null,Ls(l,m,u),l=u,s.current.lanes=l,Un(s,l),Li(s),i[Ae]=s.current,ag(i),new jf(s)},pc.version="19.1.0",pc}var $w;function XR(){if($w)return Cg.exports;$w=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cg.exports=YR(),Cg.exports}var WR=XR(),gc={},Qw;function ZR(){if(Qw)return gc;Qw=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.parse=c,gc.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,E){const T=new o,M=b.length;if(M<2)return T;const N=(E==null?void 0:E.decode)||g;let O=0;do{const A=b.indexOf("=",O);if(A===-1)break;const R=b.indexOf(";",O),B=R===-1?M:R;if(A>B){O=b.lastIndexOf(";",A-1)+1;continue}const j=d(b,O,A),V=h(b,A,j),U=b.slice(j,V);if(T[U]===void 0){let I=d(b,A+1,B),C=h(b,B,I);const P=N(b.slice(I,C));T[U]=P}O=B+1}while(O<M);return T}function d(b,E,T){do{const M=b.charCodeAt(E);if(M!==32&&M!==9)return E}while(++E<T);return T}function h(b,E,T){for(;E>T;){const M=b.charCodeAt(--E);if(M!==32&&M!==9)return E+1}return T}function p(b,E,T){const M=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const N=M(E);if(!e.test(N))throw new TypeError(`argument val is invalid: ${E}`);let O=b+"="+N;if(!T)return O;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);O+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);O+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);O+="; Path="+T.path}if(T.expires){if(!_(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);O+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(O+="; HttpOnly"),T.secure&&(O+="; Secure"),T.partitioned&&(O+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return O}function g(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function _(b){return a.call(b)==="[object Date]"}return gc}ZR();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kx=n=>{throw TypeError(n)},JR=(n,e,t)=>e.has(n)||kx("Cannot "+t),Mg=(n,e,t)=>(JR(n,e,"read from private field"),t?t.call(n):e.get(n)),eC=(n,e,t)=>e.has(n)?kx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Kw="popstate";function tC(n={}){function e(r,a){let{pathname:o,search:c,hash:d}=r.location;return Uc("",{pathname:o,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Aa(a)}return rC(e,t,null,n)}function ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function tn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nC(){return Math.random().toString(36).substring(2,10)}function Yw(n,e){return{usr:n.state,key:n.key,idx:e}}function Uc(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Da(e):e,state:t,key:e&&e.key||r||nC()}}function Aa({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Da(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function rC(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,d="POP",h=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function _(){d="POP";let N=g(),O=N==null?null:N-p;p=N,h&&h({action:d,location:M.location,delta:O})}function b(N,O){d="PUSH";let A=Uc(M.location,N,O);p=g()+1;let R=Yw(A,p),B=M.createHref(A);try{c.pushState(R,"",B)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(B)}o&&h&&h({action:d,location:M.location,delta:1})}function E(N,O){d="REPLACE";let A=Uc(M.location,N,O);p=g();let R=Yw(A,p),B=M.createHref(A);c.replaceState(R,"",B),o&&h&&h({action:d,location:M.location,delta:0})}function T(N){let O=a.location.origin!=="null"?a.location.origin:a.location.href,A=typeof N=="string"?N:Aa(N);return A=A.replace(/ $/,"%20"),ot(O,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,O)}let M={get action(){return d},get location(){return n(a,c)},listen(N){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Kw,_),h=N,()=>{a.removeEventListener(Kw,_),h=null}},createHref(N){return e(a,N)},createURL:T,encodeLocation(N){let O=T(N);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:E,go(N){return c.go(N)}};return M}var Ec,Xw=class{constructor(n){if(eC(this,Ec,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Mg(this,Ec).has(n))return Mg(this,Ec).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Mg(this,Ec).set(n,e)}};Ec=new WeakMap;var iC=new Set(["lazy","caseSensitive","path","id","index","children"]);function sC(n){return iC.has(n)}var aC=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function oC(n){return aC.has(n)}function lC(n){return n.index===!0}function yh(n,e,t=[],r={}){return n.map((a,o)=>{let c=[...t,String(o)],d=typeof a.id=="string"?a.id:c.join("-");if(ot(a.index!==!0||!a.children,"Cannot specify children on an index route"),ot(!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),lC(a)){let h={...a,...e(a),id:d};return r[d]=h,h}else{let h={...a,...e(a),id:d,children:void 0};return r[d]=h,a.children&&(h.children=yh(a.children,e,c,r)),h}})}function ra(n,e,t="/"){return nh(n,e,t,!1)}function nh(n,e,t,r){let a=typeof e=="string"?Da(e):e,o=ei(a.pathname||"/",t);if(o==null)return null;let c=Lx(n);cC(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=wC(o);d=_C(c[h],p,r)}return d}function uC(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function Lx(n,e=[],t=[],r=""){let a=(o,c,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(ot(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=Bi([r,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(ot(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Lx(o.children,e,g,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:yC(p,o.index),routesMeta:g})};return n.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,c);else for(let h of jx(o.path))a(o,c,h)}),e}function jx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=jx(r.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...c),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function cC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:vC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var dC=/^:[\w-]+$/,fC=3,hC=2,mC=1,pC=10,gC=-2,Ww=n=>n==="*";function yC(n,e){let t=n.split("/"),r=t.length;return t.some(Ww)&&(r+=gC),e&&(r+=hC),t.filter(a=>!Ww(a)).reduce((a,o)=>a+(dC.test(o)?fC:o===""?mC:pC),r)}function vC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function _C(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=vh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),b=h.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=vh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Bi([o,_.pathname]),pathnameBase:xC(Bi([o,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(o=Bi([o,_.pathnameBase]))}return c}function vh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=bC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},b)=>{if(g==="*"){let T=d[b]||"";c=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const E=d[b];return _&&!E?p[g]=void 0:p[g]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:n}}function bC(n,e=!1,t=!0){tn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function wC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ei(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function EC(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Da(n):n;return{pathname:t?t.startsWith("/")?t:TC(t,e):e,search:SC(r),hash:AC(a)}}function TC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Dg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function uv(n){let e=Vx(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function cv(n,e,t,r=!1){let a;typeof n=="string"?a=Da(n):(a={...n},ot(!a.pathname||!a.pathname.includes("?"),Dg("?","pathname","search",a)),ot(!a.pathname||!a.pathname.includes("#"),Dg("#","pathname","hash",a)),ot(!a.search||!a.search.includes("#"),Dg("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=t;else{let _=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}d=_>=0?e[_]:"/"}let h=EC(a,d),p=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var Bi=n=>n.join("/").replace(/\/\/+/g,"/"),xC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,AC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,_h=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function zc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Ux=["POST","PUT","PATCH","DELETE"],RC=new Set(Ux),CC=["GET",...Ux],IC=new Set(CC),NC=new Set([301,302,303,307,308]),OC=new Set([307,308]),Pg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},MC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},dv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DC=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),zx="remix-router-transitions",Bx=Symbol("ResetLoaderData");function PC(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ot(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],a=n.mapRouteProperties||DC,o={},c=yh(n.routes,a,void 0,o),d,h=n.basename||"/",p=n.dataStrategy||UC,g={unstable_middleware:!1,...n.future},_=null,b=new Set,E=null,T=null,M=null,N=n.hydrationData!=null,O=ra(c,n.history.location,h),A=!1,R=null;if(O==null&&!n.patchRoutesOnNavigation){let $=Zr(404,{pathname:n.history.location.pathname}),{matches:W,route:ee}=uE(c);O=W,R={[ee.id]:$}}O&&!n.hydrationData&&Ht(O,c,n.history.location.pathname).active&&(O=null);let B;if(O)if(O.some($=>$.route.lazy))B=!1;else if(!O.some($=>$.route.loader))B=!0;else{let $=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let ee=O.findIndex(fe=>W[fe.route.id]!==void 0);B=O.slice(0,ee+1).every(fe=>!fy(fe.route,$,W))}else B=O.every(ee=>!fy(ee.route,$,W))}else{B=!1,O=[];let $=Ht(null,c,n.history.location.pathname);$.active&&$.matches&&(A=!0,O=$.matches)}let j,V={historyAction:n.history.action,location:n.history.location,matches:O,initialized:B,navigation:Pg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||R,fetchers:new Map,blockers:new Map},U="POP",I=!1,C,P=!1,z=new Map,F=null,L=!1,be=!1,Ee=new Set,Q=new Map,oe=0,ae=-1,_e=new Map,q=new Set,se=new Map,ge=new Map,pe=new Set,xe=new Map,le,ye=null;function rt(){if(_=n.history.listen(({action:$,location:W,delta:ee})=>{if(le){le(),le=void 0;return}tn(xe.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=zt({currentLocation:V.location,nextLocation:W,historyAction:$});if(fe&&ee!=null){let ve=new Promise(Ae=>{le=Ae});n.history.go(ee*-1),dt(fe,{state:"blocked",location:W,proceed(){dt(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),ve.then(()=>n.history.go(ee))},reset(){let Ae=new Map(V.blockers);Ae.set(fe,yc),lt({blockers:Ae})}});return}return Wt($,W)}),t){XC(e,z);let $=()=>WC(e,z);e.addEventListener("pagehide",$),F=()=>e.removeEventListener("pagehide",$)}return V.initialized||Wt("POP",V.location,{initialHydration:!0}),j}function Fe(){_&&_(),F&&F(),b.clear(),C&&C.abort(),V.fetchers.forEach(($,W)=>qt(W)),V.blockers.forEach(($,W)=>We(W))}function bt($){return b.add($),()=>b.delete($)}function lt($,W={}){V={...V,...$};let ee=[],fe=[];V.fetchers.forEach((ve,Ae)=>{ve.state==="idle"&&(pe.has(Ae)?ee.push(Ae):fe.push(Ae))}),pe.forEach(ve=>{!V.fetchers.has(ve)&&!Q.has(ve)&&ee.push(ve)}),[...b].forEach(ve=>ve(V,{deletedFetchers:ee,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),ee.forEach(ve=>qt(ve)),fe.forEach(ve=>V.fetchers.delete(ve))}function Qt($,W,{flushSync:ee}={}){var Pe,Ve;let fe=V.actionData!=null&&V.navigation.formMethod!=null&&Or(V.navigation.formMethod)&&V.navigation.state==="loading"&&((Pe=$.state)==null?void 0:Pe._isRedirect)!==!0,ve;W.actionData?Object.keys(W.actionData).length>0?ve=W.actionData:ve=null:fe?ve=V.actionData:ve=null;let Ae=W.loaderData?oE(V.loaderData,W.loaderData,W.matches||[],W.errors):V.loaderData,je=V.blockers;je.size>0&&(je=new Map(je),je.forEach((De,ze)=>je.set(ze,yc)));let Re=I===!0||V.navigation.formMethod!=null&&Or(V.navigation.formMethod)&&((Ve=$.state)==null?void 0:Ve._isRedirect)!==!0;d&&(c=d,d=void 0),L||U==="POP"||(U==="PUSH"?n.history.push($,$.state):U==="REPLACE"&&n.history.replace($,$.state));let Me;if(U==="POP"){let De=z.get(V.location.pathname);De&&De.has($.pathname)?Me={currentLocation:V.location,nextLocation:$}:z.has($.pathname)&&(Me={currentLocation:$,nextLocation:V.location})}else if(P){let De=z.get(V.location.pathname);De?De.add($.pathname):(De=new Set([$.pathname]),z.set(V.location.pathname,De)),Me={currentLocation:V.location,nextLocation:$}}lt({...W,actionData:ve,loaderData:Ae,historyAction:U,location:$,initialized:!0,navigation:Pg,revalidation:"idle",restoreScrollPosition:Cn($,W.matches||V.matches),preventScrollReset:Re,blockers:je},{viewTransitionOpts:Me,flushSync:ee===!0}),U="POP",I=!1,P=!1,L=!1,be=!1,ye==null||ye.resolve(),ye=null}async function gr($,W){if(typeof $=="number"){n.history.go($);return}let ee=dy(V.location,V.matches,h,$,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:fe,submission:ve,error:Ae}=Zw(!1,ee,W),je=V.location,Re=Uc(V.location,fe,W&&W.state);Re={...Re,...n.history.encodeLocation(Re)};let Me=W&&W.replace!=null?W.replace:void 0,Pe="PUSH";Me===!0?Pe="REPLACE":Me===!1||ve!=null&&Or(ve.formMethod)&&ve.formAction===V.location.pathname+V.location.search&&(Pe="REPLACE");let Ve=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,De=(W&&W.flushSync)===!0,ze=zt({currentLocation:je,nextLocation:Re,historyAction:Pe});if(ze){dt(ze,{state:"blocked",location:Re,proceed(){dt(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:Re}),gr($,W)},reset(){let it=new Map(V.blockers);it.set(ze,yc),lt({blockers:it})}});return}await Wt(Pe,Re,{submission:ve,pendingError:Ae,preventScrollReset:Ve,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:De})}function yr(){ye||(ye=ZC()),ri(),lt({revalidation:"loading"});let $=ye.promise;return V.navigation.state==="submitting"?$:V.navigation.state==="idle"?(Wt(V.historyAction,V.location,{startUninterruptedRevalidation:!0}),$):(Wt(U||V.historyAction,V.navigation.location,{overrideNavigation:V.navigation,enableViewTransition:P===!0}),$)}async function Wt($,W,ee){C&&C.abort(),C=null,U=$,L=(ee&&ee.startUninterruptedRevalidation)===!0,Un(V.location,V.matches),I=(ee&&ee.preventScrollReset)===!0,P=(ee&&ee.enableViewTransition)===!0;let fe=d||c,ve=ee&&ee.overrideNavigation,Ae=ee!=null&&ee.initialHydration&&V.matches&&V.matches.length>0&&!A?V.matches:ra(fe,W,h),je=(ee&&ee.flushSync)===!0;if(Ae&&V.initialized&&!be&&GC(V.location,W)&&!(ee&&ee.submission&&Or(ee.submission.formMethod))){Qt(W,{matches:Ae},{flushSync:je});return}let Re=Ht(Ae,fe,W.pathname);if(Re.active&&Re.matches&&(Ae=Re.matches),!Ae){let{error:wt,notFoundMatches:ft,route:tt}=nn(W.pathname);Qt(W,{matches:ft,loaderData:{},errors:{[tt.id]:wt}},{flushSync:je});return}C=new AbortController;let Me=xl(n.history,W,C.signal,ee&&ee.submission),Pe=new Xw(n.unstable_getContext?await n.unstable_getContext():void 0),Ve;if(ee&&ee.pendingError)Ve=[mo(Ae).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&Or(ee.submission.formMethod)){let wt=await ti(Me,W,ee.submission,Ae,Pe,Re.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:je});if(wt.shortCircuited)return;if(wt.pendingActionResult){let[ft,tt]=wt.pendingActionResult;if(Nr(tt)&&zc(tt.error)&&tt.error.status===404){C=null,Qt(W,{matches:wt.matches,loaderData:{},errors:{[ft]:tt.error}});return}}Ae=wt.matches||Ae,Ve=wt.pendingActionResult,ve=kg(W,ee.submission),je=!1,Re.active=!1,Me=xl(n.history,Me.url,Me.signal)}let{shortCircuited:De,matches:ze,loaderData:it,errors:xt}=await Pr(Me,W,Ae,Pe,Re.active,ve,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,je,Ve);De||(C=null,Qt(W,{matches:ze||Ae,...lE(Ve),loaderData:it,errors:xt}))}async function ti($,W,ee,fe,ve,Ae,je,Re={}){ri();let Me=KC(W,ee);if(lt({navigation:Me},{flushSync:Re.flushSync===!0}),Ae){let De=await jr(fe,W.pathname,$.signal);if(De.type==="aborted")return{shortCircuited:!0};if(De.type==="error"){let ze=mo(De.partialMatches).route.id;return{matches:De.partialMatches,pendingActionResult:[ze,{type:"error",error:De.error}]}}else if(De.matches)fe=De.matches;else{let{notFoundMatches:ze,error:it,route:xt}=nn(W.pathname);return{matches:ze,pendingActionResult:[xt.id,{type:"error",error:it}]}}}let Pe,Ve=Tc(fe,W);if(!Ve.route.action&&!Ve.route.lazy)Pe={type:"error",error:Zr(405,{method:$.method,pathname:W.pathname,routeId:Ve.route.id})};else{let De=Dl(a,o,$,fe,Ve,je?[]:r,ve),ze=await Xn($,De,ve,null);if(Pe=ze[Ve.route.id],!Pe){for(let it of fe)if(ze[it.route.id]){Pe=ze[it.route.id];break}}if($.signal.aborted)return{shortCircuited:!0}}if(po(Pe)){let De;return Re&&Re.replace!=null?De=Re.replace:De=iE(Pe.response.headers.get("Location"),new URL($.url),h)===V.location.pathname+V.location.search,await Yn($,Pe,!0,{submission:ee,replace:De}),{shortCircuited:!0}}if(Nr(Pe)){let De=mo(fe,Ve.route.id);return(Re&&Re.replace)!==!0&&(U="PUSH"),{matches:fe,pendingActionResult:[De.route.id,Pe,Ve.route.id]}}return{matches:fe,pendingActionResult:[Ve.route.id,Pe]}}async function Pr($,W,ee,fe,ve,Ae,je,Re,Me,Pe,Ve,De){let ze=Ae||kg(W,je),it=je||Re||dE(ze),xt=!L&&!Pe;if(ve){if(xt){let rn=dn(De);lt({navigation:ze,...rn!==void 0?{actionData:rn}:{}},{flushSync:Ve})}let Qe=await jr(ee,W.pathname,$.signal);if(Qe.type==="aborted")return{shortCircuited:!0};if(Qe.type==="error"){let rn=mo(Qe.partialMatches).route.id;return{matches:Qe.partialMatches,loaderData:{},errors:{[rn]:Qe.error}}}else if(Qe.matches)ee=Qe.matches;else{let{error:rn,notFoundMatches:br,route:or}=nn(W.pathname);return{matches:br,loaderData:{},errors:{[or.id]:rn}}}}let wt=d||c,{dsMatches:ft,revalidatingFetchers:tt}=Jw($,fe,a,o,n.history,V,ee,it,W,Pe?[]:r,Pe===!0,be,Ee,pe,se,q,wt,h,De);if(ae=++oe,!n.dataStrategy&&!ft.some(Qe=>Qe.shouldLoad)&&tt.length===0){let Qe=Lr();return Qt(W,{matches:ee,loaderData:{},errors:De&&Nr(De[1])?{[De[0]]:De[1].error}:null,...lE(De),...Qe?{fetchers:new Map(V.fetchers)}:{}},{flushSync:Ve}),{shortCircuited:!0}}if(xt){let Qe={};if(!ve){Qe.navigation=ze;let rn=dn(De);rn!==void 0&&(Qe.actionData=rn)}tt.length>0&&(Qe.fetchers=Ua(tt)),lt(Qe,{flushSync:Ve})}tt.forEach(Qe=>{ar(Qe.key),Qe.controller&&Q.set(Qe.key,Qe.controller)});let Vr=()=>tt.forEach(Qe=>ar(Qe.key));C&&C.signal.addEventListener("abort",Vr);let{loaderResults:fn,fetcherResults:Zn}=await wi(ft,tt,$,fe);if($.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Vr),tt.forEach(Qe=>Q.delete(Qe.key));let In=zf(fn);if(In)return await Yn($,In.result,!0,{replace:Me}),{shortCircuited:!0};if(In=zf(Zn),In)return q.add(In.key),await Yn($,In.result,!0,{replace:Me}),{shortCircuited:!0};let{loaderData:Ti,errors:_r}=aE(V,ee,fn,De,tt,Zn);Pe&&V.errors&&(_r={...V.errors,..._r});let Ns=Lr(),zn=Oe(ae),Jn=Ns||zn||tt.length>0;return{matches:ee,loaderData:Ti,errors:_r,...Jn?{fetchers:new Map(V.fetchers)}:{}}}function dn($){if($&&!Nr($[1]))return{[$[0]]:$[1].data};if(V.actionData)return Object.keys(V.actionData).length===0?null:V.actionData}function Ua($){return $.forEach(W=>{let ee=V.fetchers.get(W.key),fe=vc(void 0,ee?ee.data:void 0);V.fetchers.set(W.key,fe)}),new Map(V.fetchers)}async function _i($,W,ee,fe){ar($);let ve=(fe&&fe.flushSync)===!0,Ae=d||c,je=dy(V.location,V.matches,h,ee,W,fe==null?void 0:fe.relative),Re=ra(Ae,je,h),Me=Ht(Re,Ae,je);if(Me.active&&Me.matches&&(Re=Me.matches),!Re){Xe($,W,Zr(404,{pathname:je}),{flushSync:ve});return}let{path:Pe,submission:Ve,error:De}=Zw(!0,je,fe);if(De){Xe($,W,De,{flushSync:ve});return}let ze=Tc(Re,Pe),it=new Xw(n.unstable_getContext?await n.unstable_getContext():void 0),xt=(fe&&fe.preventScrollReset)===!0;if(Ve&&Or(Ve.formMethod)){await bi($,W,Pe,ze,Re,it,Me.active,ve,xt,Ve);return}se.set($,{routeId:W,path:Pe}),await ni($,W,Pe,ze,Re,it,Me.active,ve,xt,Ve)}async function bi($,W,ee,fe,ve,Ae,je,Re,Me,Pe){ri(),se.delete($);function Ve(kt){if(!kt.route.action&&!kt.route.lazy){let Ur=Zr(405,{method:Pe.formMethod,pathname:ee,routeId:W});return Xe($,W,Ur,{flushSync:Re}),!0}return!1}if(!je&&Ve(fe))return;let De=V.fetchers.get($);pt($,YC(Pe,De),{flushSync:Re});let ze=new AbortController,it=xl(n.history,ee,ze.signal,Pe);if(je){let kt=await jr(ve,ee,it.signal,$);if(kt.type==="aborted")return;if(kt.type==="error"){Xe($,W,kt.error,{flushSync:Re});return}else if(kt.matches){if(ve=kt.matches,fe=Tc(ve,ee),Ve(fe))return}else{Xe($,W,Zr(404,{pathname:ee}),{flushSync:Re});return}}Q.set($,ze);let xt=oe,wt=Dl(a,o,it,ve,fe,r,Ae),tt=(await Xn(it,wt,Ae,$))[fe.route.id];if(it.signal.aborted){Q.get($)===ze&&Q.delete($);return}if(pe.has($)){if(po(tt)||Nr(tt)){pt($,ta(void 0));return}}else{if(po(tt))if(Q.delete($),ae>xt){pt($,ta(void 0));return}else return q.add($),pt($,vc(Pe)),Yn(it,tt,!1,{fetcherSubmission:Pe,preventScrollReset:Me});if(Nr(tt)){Xe($,W,tt.error);return}}let Vr=V.navigation.location||V.location,fn=xl(n.history,Vr,ze.signal),Zn=d||c,In=V.navigation.state!=="idle"?ra(Zn,V.navigation.location,h):V.matches;ot(In,"Didn't find any matches after fetcher action");let Ti=++oe;_e.set($,Ti);let _r=vc(Pe,tt.data);V.fetchers.set($,_r);let{dsMatches:Ns,revalidatingFetchers:zn}=Jw(fn,Ae,a,o,n.history,V,In,Pe,Vr,r,!1,be,Ee,pe,se,q,Zn,h,[fe.route.id,tt]);zn.filter(kt=>kt.key!==$).forEach(kt=>{let Ur=kt.key,Xi=V.fetchers.get(Ur),Nn=vc(void 0,Xi?Xi.data:void 0);V.fetchers.set(Ur,Nn),ar(Ur),kt.controller&&Q.set(Ur,kt.controller)}),lt({fetchers:new Map(V.fetchers)});let Jn=()=>zn.forEach(kt=>ar(kt.key));ze.signal.addEventListener("abort",Jn);let{loaderResults:Qe,fetcherResults:rn}=await wi(Ns,zn,fn,Ae);if(ze.signal.aborted)return;ze.signal.removeEventListener("abort",Jn),_e.delete($),Q.delete($),zn.forEach(kt=>Q.delete(kt.key));let br=zf(Qe);if(br)return Yn(fn,br.result,!1,{preventScrollReset:Me});if(br=zf(rn),br)return q.add(br.key),Yn(fn,br.result,!1,{preventScrollReset:Me});let{loaderData:or,errors:xi}=aE(V,In,Qe,void 0,zn,rn);if(V.fetchers.has($)){let kt=ta(tt.data);V.fetchers.set($,kt)}Oe(Ti),V.navigation.state==="loading"&&Ti>ae?(ot(U,"Expected pending action"),C&&C.abort(),Qt(V.navigation.location,{matches:In,loaderData:or,errors:xi,fetchers:new Map(V.fetchers)})):(lt({errors:xi,loaderData:oE(V.loaderData,or,In,xi),fetchers:new Map(V.fetchers)}),be=!1)}async function ni($,W,ee,fe,ve,Ae,je,Re,Me,Pe){let Ve=V.fetchers.get($);pt($,vc(Pe,Ve?Ve.data:void 0),{flushSync:Re});let De=new AbortController,ze=xl(n.history,ee,De.signal);if(je){let tt=await jr(ve,ee,ze.signal,$);if(tt.type==="aborted")return;if(tt.type==="error"){Xe($,W,tt.error,{flushSync:Re});return}else if(tt.matches)ve=tt.matches,fe=Tc(ve,ee);else{Xe($,W,Zr(404,{pathname:ee}),{flushSync:Re});return}}Q.set($,De);let it=oe,xt=Dl(a,o,ze,ve,fe,r,Ae),ft=(await Xn(ze,xt,Ae,$))[fe.route.id];if(Q.get($)===De&&Q.delete($),!ze.signal.aborted){if(pe.has($)){pt($,ta(void 0));return}if(po(ft))if(ae>it){pt($,ta(void 0));return}else{q.add($),await Yn(ze,ft,!1,{preventScrollReset:Me});return}if(Nr(ft)){Xe($,W,ft.error);return}pt($,ta(ft.data))}}async function Yn($,W,ee,{submission:fe,fetcherSubmission:ve,preventScrollReset:Ae,replace:je}={}){W.response.headers.has("X-Remix-Revalidate")&&(be=!0);let Re=W.response.headers.get("Location");ot(Re,"Expected a Location header on the redirect Response"),Re=iE(Re,new URL($.url),h);let Me=Uc(V.location,Re,{_isRedirect:!0});if(t){let xt=!1;if(W.response.headers.has("X-Remix-Reload-Document"))xt=!0;else if(dv.test(Re)){const wt=n.history.createURL(Re);xt=wt.origin!==e.location.origin||ei(wt.pathname,h)==null}if(xt){je?e.location.replace(Re):e.location.assign(Re);return}}C=null;let Pe=je===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ve,formAction:De,formEncType:ze}=V.navigation;!fe&&!ve&&Ve&&De&&ze&&(fe=dE(V.navigation));let it=fe||ve;if(OC.has(W.response.status)&&it&&Or(it.formMethod))await Wt(Pe,Me,{submission:{...it,formAction:Re},preventScrollReset:Ae||I,enableViewTransition:ee?P:void 0});else{let xt=kg(Me,fe);await Wt(Pe,Me,{overrideNavigation:xt,fetcherSubmission:ve,preventScrollReset:Ae||I,enableViewTransition:ee?P:void 0})}}async function Xn($,W,ee,fe){let ve,Ae={};try{ve=await zC(p,$,W,fe,ee,!1)}catch(je){return W.filter(Re=>Re.shouldLoad).forEach(Re=>{Ae[Re.route.id]={type:"error",error:je}}),Ae}for(let[je,Re]of Object.entries(ve))if($C(Re)){let Me=Re.result;Ae[je]={type:"redirect",response:qC(Me,$,je,W,h)}}else Ae[je]=await FC(Re);return Ae}async function wi($,W,ee,fe){let ve=Xn(ee,$,fe,null),Ae=Promise.all(W.map(async Me=>{if(Me.matches&&Me.match&&Me.request&&Me.controller){let Ve=(await Xn(Me.request,Me.matches,fe,Me.key))[Me.match.route.id];return{[Me.key]:Ve}}else return Promise.resolve({[Me.key]:{type:"error",error:Zr(404,{pathname:Me.path})}})})),je=await ve,Re=(await Ae).reduce((Me,Pe)=>Object.assign(Me,Pe),{});return{loaderResults:je,fetcherResults:Re}}function ri(){be=!0,se.forEach(($,W)=>{Q.has(W)&&Ee.add(W),ar(W)})}function pt($,W,ee={}){V.fetchers.set($,W),lt({fetchers:new Map(V.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function Xe($,W,ee,fe={}){let ve=mo(V.matches,W);qt($),lt({errors:{[ve.route.id]:ee},fetchers:new Map(V.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function _n($){return ge.set($,(ge.get($)||0)+1),pe.has($)&&pe.delete($),V.fetchers.get($)||MC}function qt($){let W=V.fetchers.get($);Q.has($)&&!(W&&W.state==="loading"&&_e.has($))&&ar($),se.delete($),_e.delete($),q.delete($),pe.delete($),Ee.delete($),V.fetchers.delete($)}function Yi($){let W=(ge.get($)||0)-1;W<=0?(ge.delete($),pe.add($)):ge.set($,W),lt({fetchers:new Map(V.fetchers)})}function ar($){let W=Q.get($);W&&(W.abort(),Q.delete($))}function kr($){for(let W of $){let ee=_n(W),fe=ta(ee.data);V.fetchers.set(W,fe)}}function Lr(){let $=[],W=!1;for(let ee of q){let fe=V.fetchers.get(ee);ot(fe,`Expected fetcher: ${ee}`),fe.state==="loading"&&(q.delete(ee),$.push(ee),W=!0)}return kr($),W}function Oe($){let W=[];for(let[ee,fe]of _e)if(fe<$){let ve=V.fetchers.get(ee);ot(ve,`Expected fetcher: ${ee}`),ve.state==="loading"&&(ar(ee),_e.delete(ee),W.push(ee))}return kr(W),W.length>0}function Ne($,W){let ee=V.blockers.get($)||yc;return xe.get($)!==W&&xe.set($,W),ee}function We($){V.blockers.delete($),xe.delete($)}function dt($,W){let ee=V.blockers.get($)||yc;ot(ee.state==="unblocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="proceeding"||ee.state==="blocked"&&W.state==="unblocked"||ee.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${W.state}`);let fe=new Map(V.blockers);fe.set($,W),lt({blockers:fe})}function zt({currentLocation:$,nextLocation:W,historyAction:ee}){if(xe.size===0)return;xe.size>1&&tn(!1,"A router only supports one blocker at a time");let fe=Array.from(xe.entries()),[ve,Ae]=fe[fe.length-1],je=V.blockers.get(ve);if(!(je&&je.state==="proceeding")&&Ae({currentLocation:$,nextLocation:W,historyAction:ee}))return ve}function nn($){let W=Zr(404,{pathname:$}),ee=d||c,{matches:fe,route:ve}=uE(ee);return{notFoundMatches:fe,route:ve,error:W}}function Wn($,W,ee){if(E=$,M=W,T=ee||null,!N&&V.navigation===Pg){N=!0;let fe=Cn(V.location,V.matches);fe!=null&&lt({restoreScrollPosition:fe})}return()=>{E=null,M=null,T=null}}function Rn($,W){return T&&T($,W.map(fe=>uC(fe,V.loaderData)))||$.key}function Un($,W){if(E&&M){let ee=Rn($,W);E[ee]=M()}}function Cn($,W){if(E){let ee=Rn($,W),fe=E[ee];if(typeof fe=="number")return fe}return null}function Ht($,W,ee){if(n.patchRoutesOnNavigation)if($){if(Object.keys($[0].params).length>0)return{active:!0,matches:nh(W,ee,h,!0)}}else return{active:!0,matches:nh(W,ee,h,!0)||[]};return{active:!1,matches:null}}async function jr($,W,ee,fe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:$};let ve=$;for(;;){let Ae=d==null,je=d||c,Re=o;try{await n.patchRoutesOnNavigation({signal:ee,path:W,matches:ve,fetcherKey:fe,patch:(Ve,De)=>{ee.aborted||eE(Ve,De,je,Re,a)}})}catch(Ve){return{type:"error",error:Ve,partialMatches:ve}}finally{Ae&&!ee.aborted&&(c=[...c])}if(ee.aborted)return{type:"aborted"};let Me=ra(je,W,h);if(Me)return{type:"success",matches:Me};let Pe=nh(je,W,h,!0);if(!Pe||ve.length===Pe.length&&ve.every((Ve,De)=>Ve.route.id===Pe[De].route.id))return{type:"success",matches:null};ve=Pe}}function vr($){o={},d=yh($,a,void 0,o)}function Ei($,W){let ee=d==null;eE($,W,d||c,o,a),ee&&(c=[...c],lt({}))}return j={get basename(){return h},get future(){return g},get state(){return V},get routes(){return c},get window(){return e},initialize:rt,subscribe:bt,enableScrollRestoration:Wn,navigate:gr,fetch:_i,revalidate:yr,createHref:$=>n.history.createHref($),encodeLocation:$=>n.history.encodeLocation($),getFetcher:_n,deleteFetcher:Yi,dispose:Fe,getBlocker:Ne,deleteBlocker:We,patchRoutes:Ei,_internalFetchControllers:Q,_internalSetRoutes:vr},j}function kC(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function dy(n,e,t,r,a,o){let c,d;if(a){c=[];for(let p of e)if(c.push(p),p.route.id===a){d=p;break}}else c=e,d=e[e.length-1];let h=cv(r||".",uv(c),ei(n.pathname,t)||n.pathname,o==="path");if(r==null&&(h.search=n.search,h.hash=n.hash),(r==null||r===""||r===".")&&d){let p=fv(h.search);if(d.route.index&&!p)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let g=new URLSearchParams(h.search),_=g.getAll("index");g.delete("index"),_.filter(E=>E).forEach(E=>g.append("index",E));let b=g.toString();h.search=b?`?${b}`:""}}return t!=="/"&&(h.pathname=h.pathname==="/"?t:Bi([t,h.pathname])),Aa(h)}function Zw(n,e,t){if(!t||!kC(t))return{path:e};if(t.formMethod&&!QC(t.formMethod))return{path:e,error:Zr(405,{method:t.formMethod})};let r=()=>({path:e,error:Zr(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),c=Qx(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Or(o))return r();let _=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((b,[E,T])=>`${b}${E}=${T}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:_}}}else if(t.formEncType==="application/json"){if(!Or(o))return r();try{let _=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:c,formEncType:t.formEncType,formData:void 0,json:_,text:void 0}}}catch{return r()}}}ot(typeof FormData=="function","FormData is not available in this environment");let d,h;if(t.formData)d=my(t.formData),h=t.formData;else if(t.body instanceof FormData)d=my(t.body),h=t.body;else if(t.body instanceof URLSearchParams)d=t.body,h=sE(d);else if(t.body==null)d=new URLSearchParams,h=new FormData;else try{d=new URLSearchParams(t.body),h=sE(d)}catch{return r()}let p={formMethod:o,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Or(p.formMethod))return{path:e,submission:p};let g=Da(e);return n&&g.search&&fv(g.search)&&d.append("index",""),g.search=`?${d}`,{path:Aa(g),submission:p}}function Jw(n,e,t,r,a,o,c,d,h,p,g,_,b,E,T,M,N,O,A){var F;let R=A?Nr(A[1])?A[1].error:A[1].data:void 0,B=a.createURL(o.location),j=a.createURL(h),V;if(g&&o.errors){let L=Object.keys(o.errors)[0];V=c.findIndex(be=>be.route.id===L)}else if(A&&Nr(A[1])){let L=A[0];V=c.findIndex(be=>be.route.id===L)-1}let U=A?A[1].statusCode:void 0,I=U&&U>=400,C={currentUrl:B,currentParams:((F=o.matches[0])==null?void 0:F.params)||{},nextUrl:j,nextParams:c[0].params,...d,actionResult:R,actionStatus:U},P=c.map((L,be)=>{let{route:Ee}=L,Q=null;if(V!=null&&be>V?Q=!1:Ee.lazy?Q=!0:Ee.loader==null?Q=!1:g?Q=fy(Ee,o.loaderData,o.errors):LC(o.loaderData,o.matches[be],L)&&(Q=!0),Q!==null)return hy(t,r,n,L,p,e,Q);let oe=I?!1:_||B.pathname+B.search===j.pathname+j.search||B.search!==j.search||jC(o.matches[be],L),ae={...C,defaultShouldRevalidate:oe},_e=bh(L,ae);return hy(t,r,n,L,p,e,_e,ae)}),z=[];return T.forEach((L,be)=>{if(g||!c.some(se=>se.route.id===L.routeId)||E.has(be))return;let Ee=ra(N,L.path,O);if(!Ee){z.push({key:be,routeId:L.routeId,path:L.path,matches:null,match:null,request:null,controller:null});return}if(M.has(be))return;let Q=o.fetchers.get(be),oe=Tc(Ee,L.path),ae=new AbortController,_e=xl(a,L.path,ae.signal),q=null;if(b.has(be))b.delete(be),q=Dl(t,r,_e,Ee,oe,p,e);else if(Q&&Q.state!=="idle"&&Q.data===void 0)_&&(q=Dl(t,r,_e,Ee,oe,p,e));else{let se={...C,defaultShouldRevalidate:I?!1:_};bh(oe,se)&&(q=Dl(t,r,_e,Ee,oe,p,e,se))}q&&z.push({key:be,routeId:L.routeId,path:L.path,matches:q,match:oe,request:_e,controller:ae})}),{dsMatches:P,revalidatingFetchers:z}}function fy(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function LC(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function jC(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function bh(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function eE(n,e,t,r,a){let o;if(n){let h=r[n];ot(h,`No route found to patch children into: routeId = ${n}`),h.children||(h.children=[]),o=h.children}else o=t;let c=e.filter(h=>!o.some(p=>Fx(h,p))),d=yh(c,a,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...d)}function Fx(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>Fx(t,o))}):!1}var tE=new WeakMap,qx=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let a=t[e.id];if(ot(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[n];if(!o)return;let c=tE.get(a);c||(c={},tE.set(a,c));let d=c[n];if(d)return d;let h=(async()=>{let p=sC(n),_=a[n]!==void 0&&n!=="hasErrorBoundary";if(p)tn(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(_)tn(!1,`Route "${a.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let b=await o();b!=null&&(Object.assign(a,{[n]:b}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[n]=void 0,Object.values(a.lazy).every(b=>b===void 0)&&(a.lazy=void 0))})();return c[n]=h,h},nE=new WeakMap;function VC(n,e,t,r,a){let o=t[n.id];if(ot(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let g=nE.get(o);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let _=(async()=>{ot(typeof n.lazy=="function","No lazy route function found");let b=await n.lazy(),E={};for(let T in b){let M=b[T];if(M===void 0)continue;let N=oC(T),A=o[T]!==void 0&&T!=="hasErrorBoundary";N?tn(!N,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?tn(!A,`Route "${o.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):E[T]=M}Object.assign(o,E),Object.assign(o,{...r(o),lazy:void 0})})();return nE.set(o,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let c=Object.keys(n.lazy),d=[],h;for(let g of c){if(a&&a.includes(g))continue;let _=qx({key:g,route:n,manifest:t,mapRouteProperties:r});_&&(d.push(_),g===e&&(h=_))}let p=d.length>0?Promise.all(d).then(()=>{}):void 0;return p==null||p.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:h}}async function rE(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function UC(n){return n.matches.some(e=>e.route.unstable_middleware)?Hx(n,!1,()=>rE(n),(e,t)=>({[t]:{type:"error",result:e}})):rE(n)}async function Hx(n,e,t,r){let{matches:a,request:o,params:c,context:d}=n,h={handlerResult:void 0};try{let p=a.flatMap(_=>_.route.unstable_middleware?_.route.unstable_middleware.map(b=>[_.route.id,b]):[]),g=await Gx({request:o,params:c,context:d},p,e,h,t);return e?g:h.handlerResult}catch(p){if(!h.middlewareError)throw p;let g=await r(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,g):g}}async function Gx(n,e,t,r,a,o=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=e[o];if(!d)return r.handlerResult=await a(),r.handlerResult;let[h,p]=d,g=!1,_,b=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await Gx(n,e,t,r,a,o+1)};try{let E=await p({request:n.request,params:n.params,context:n.context},b);return g?E===void 0?_:E:b()}catch(E){throw r.middlewareError?r.middlewareError.error!==E&&(r.middlewareError={routeId:h,error:E}):r.middlewareError={routeId:h,error:E},E}}function $x(n,e,t,r,a){let o=qx({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),c=VC(r.route,Or(t.method)?"action":"loader",e,n,a);return{middleware:o,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function hy(n,e,t,r,a,o,c,d=null){let h=!1,p=$x(n,e,t,r,a);return{...r,_lazyPromises:p,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(g){return h=!0,d?typeof g=="boolean"?bh(r,{...d,defaultShouldRevalidate:g}):bh(r,d):c},resolve(g){return h||c||g&&t.method==="GET"&&(r.route.lazy||r.route.loader)?BC({request:t,match:r,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Dl(n,e,t,r,a,o,c,d=null){return r.map(h=>h.route.id!==a.route.id?{...h,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:$x(n,e,t,h,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:hy(n,e,t,h,o,c,!0,d))}async function zC(n,e,t,r,a,o){t.some(p=>{var g;return(g=p._lazyPromises)==null?void 0:g.middleware})&&await Promise.all(t.map(p=>{var g;return(g=p._lazyPromises)==null?void 0:g.middleware}));let c={request:e,params:t[0].params,context:a,matches:t},h=await n({...c,fetcherKey:r,unstable_runClientMiddleware:p=>{let g=c;return Hx(g,!1,()=>p({...g,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(_,b)=>({[b]:{type:"error",result:_}}))}});try{await Promise.all(t.flatMap(p=>{var g,_;return[(g=p._lazyPromises)==null?void 0:g.handler,(_=p._lazyPromises)==null?void 0:_.route]}))}catch{}return h}async function BC({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:a,scopedContext:o}){let c,d,h=Or(n.method),p=h?"action":"loader",g=_=>{let b,E=new Promise((N,O)=>b=O);d=()=>b(),n.signal.addEventListener("abort",d);let T=N=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):_({request:n,params:e.params,context:o},...N!==void 0?[N]:[]),M=(async()=>{try{return{type:"data",result:await(a?a(O=>T(O)):T())}}catch(N){return{type:"error",result:N}}})();return Promise.race([M,E])};try{let _=h?e.route.action:e.route.loader;if(t||r)if(_){let b,[E]=await Promise.all([g(_).catch(T=>{b=T}),t,r]);if(b!==void 0)throw b;c=E}else{await t;let b=h?e.route.action:e.route.loader;if(b)[c]=await Promise.all([g(b),r]);else if(p==="action"){let E=new URL(n.url),T=E.pathname+E.search;throw Zr(405,{method:n.method,pathname:T,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)c=await g(_);else{let b=new URL(n.url),E=b.pathname+b.search;throw Zr(404,{pathname:E})}}catch(_){return{type:"error",result:_}}finally{d&&n.signal.removeEventListener("abort",d)}return c}async function FC(n){var r,a,o,c,d,h;let{result:e,type:t}=n;if(Kx(e)){let p;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new _h(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?cE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new _h(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:zc(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:zc(e)?e.status:void 0}:cE(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function qC(n,e,t,r,a){let o=n.headers.get("Location");if(ot(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!dv.test(o)){let c=r.slice(0,r.findIndex(d=>d.route.id===t)+1);o=dy(new URL(e.url),c,a,o),n.headers.set("Location",o)}return n}function iE(n,e,t){if(dv.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=ei(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return n}function xl(n,e,t,r){let a=n.createURL(Qx(e)).toString(),o={signal:t};if(r&&Or(r.formMethod)){let{formMethod:c,formEncType:d}=r;o.method=c.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(r.json)):d==="text/plain"?o.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?o.body=my(r.formData):o.body=r.formData}return new Request(a,o)}function my(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function sE(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function HC(n,e,t,r=!1,a=!1){let o={},c=null,d,h=!1,p={},g=t&&Nr(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let b=_.route.id,E=e[b];if(ot(!po(E),"Cannot handle redirect results in processLoaderData"),Nr(E)){let T=E.error;if(g!==void 0&&(T=g,g=void 0),c=c||{},a)c[b]=T;else{let M=mo(n,b);c[M.route.id]==null&&(c[M.route.id]=T)}r||(o[b]=Bx),h||(h=!0,d=zc(E.error)?E.error.status:500),E.headers&&(p[b]=E.headers)}else o[b]=E.data,E.statusCode&&E.statusCode!==200&&!h&&(d=E.statusCode),E.headers&&(p[b]=E.headers)}),g!==void 0&&t&&(c={[t[0]]:g},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:c,statusCode:d||200,loaderHeaders:p}}function aE(n,e,t,r,a,o){let{loaderData:c,errors:d}=HC(e,t,r);return a.filter(h=>!h.matches||h.matches.some(p=>p.shouldLoad)).forEach(h=>{let{key:p,match:g,controller:_}=h,b=o[p];if(ot(b,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(Nr(b)){let E=mo(n.matches,g==null?void 0:g.route.id);d&&d[E.route.id]||(d={...d,[E.route.id]:b.error}),n.fetchers.delete(p)}else if(po(b))ot(!1,"Unhandled fetcher revalidation redirect");else{let E=ta(b.data);n.fetchers.set(p,E)}}),{loaderData:c,errors:d}}function oE(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==Bx).reduce((o,[c,d])=>(o[c]=d,o),{});for(let o of t){let c=o.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&o.route.loader&&(a[c]=n[c]),r&&r.hasOwnProperty(c))break}return a}function lE(n){return n?Nr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function mo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function uE(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Zr(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",r&&e&&t?d=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",d=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",r&&e&&t?d=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(d=`Invalid request method "${r.toUpperCase()}"`)),new _h(n||500,c,new Error(d),!0)}function zf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(po(a))return{key:r,result:a}}}function Qx(n){let e=typeof n=="string"?Da(n):n;return Aa({...e,hash:""})}function GC(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function $C(n){return Kx(n.result)&&NC.has(n.result.status)}function Nr(n){return n.type==="error"}function po(n){return(n&&n.type)==="redirect"}function cE(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Kx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function QC(n){return IC.has(n.toUpperCase())}function Or(n){return RC.has(n.toUpperCase())}function fv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Tc(n,e){let t=typeof e=="string"?Da(e).search:e.search;if(n[n.length-1].route.index&&fv(t||""))return n[n.length-1];let r=Vx(n);return r[r.length-1]}function dE(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:c}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:c,text:void 0}}}function kg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function KC(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function vc(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function YC(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ta(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function XC(n,e){try{let t=n.sessionStorage.getItem(zx);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function WC(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(zx,JSON.stringify(t))}catch(r){tn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function ZC(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Po=H.createContext(null);Po.displayName="DataRouter";var ad=H.createContext(null);ad.displayName="DataRouterState";var hv=H.createContext({isTransitioning:!1});hv.displayName="ViewTransition";var Yx=H.createContext(new Map);Yx.displayName="Fetchers";var JC=H.createContext(null);JC.displayName="Await";var Ki=H.createContext(null);Ki.displayName="Navigation";var Wh=H.createContext(null);Wh.displayName="Location";var vi=H.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var mv=H.createContext(null);mv.displayName="RouteError";function eI(n,{relative:e}={}){ot(od(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=H.useContext(Ki),{hash:a,pathname:o,search:c}=ld(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:Bi([t,o])),r.createHref({pathname:d,search:c,hash:a})}function od(){return H.useContext(Wh)!=null}function Pa(){return ot(od(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Wh).location}var Xx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wx(n){H.useContext(Ki).static||H.useLayoutEffect(n)}function Zx(){let{isDataRoute:n}=H.useContext(vi);return n?pI():tI()}function tI(){ot(od(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(Po),{basename:e,navigator:t}=H.useContext(Ki),{matches:r}=H.useContext(vi),{pathname:a}=Pa(),o=JSON.stringify(uv(r)),c=H.useRef(!1);return Wx(()=>{c.current=!0}),H.useCallback((h,p={})=>{if(tn(c.current,Xx),!c.current)return;if(typeof h=="number"){t.go(h);return}let g=cv(h,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Bi([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,o,a,n])}var nI=H.createContext(null);function rI(n){let e=H.useContext(vi).outlet;return e&&H.createElement(nI.Provider,{value:n},e)}function pv(){let{matches:n}=H.useContext(vi),e=n[n.length-1];return e?e.params:{}}function ld(n,{relative:e}={}){let{matches:t}=H.useContext(vi),{pathname:r}=Pa(),a=JSON.stringify(uv(t));return H.useMemo(()=>cv(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function iI(n,e,t,r){ot(od(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=H.useContext(Ki),{matches:c}=H.useContext(vi),d=c[c.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",_=d&&d.route;{let A=_&&_.path||"";Jx(p,!_||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let b=Pa(),E;E=b;let T=E.pathname||"/",M=T;if(g!=="/"){let A=g.replace(/^\//,"").split("/");M="/"+T.replace(/^\//,"").split("/").slice(A.length).join("/")}let N=!o&&t&&t.matches&&t.matches.length>0?t.matches:ra(n,{pathname:M});return tn(_||N!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),tn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),uI(N&&N.map(A=>Object.assign({},A,{params:Object.assign({},h,A.params),pathname:Bi([g,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?g:Bi([g,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),c,t,r)}function sI(){let n=mI(),e=zc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:o},"ErrorBoundary")," or"," ",H.createElement("code",{style:o},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:a},t):null,c)}var aI=H.createElement(sI,null),oI=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?H.createElement(vi.Provider,{value:this.props.routeContext},H.createElement(mv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lI({routeContext:n,match:e,children:t}){let r=H.useContext(Po);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(vi.Provider,{value:n},t)}function uI(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);ot(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(t)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:_}=t,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,p,g)=>{let _,b=!1,E=null,T=null;t&&(_=o&&p.route.id?o[p.route.id]:void 0,E=p.route.errorElement||aI,c&&(d<0&&g===0?(Jx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,T=null):d===g&&(b=!0,T=p.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,g+1)),N=()=>{let O;return _?O=E:b?O=T:p.route.Component?O=H.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=h,H.createElement(lI,{match:p,routeContext:{outlet:h,matches:M,isDataRoute:t!=null},children:O})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?H.createElement(oI,{location:t.location,revalidation:t.revalidation,component:E,error:_,children:N(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):N()},null)}function gv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cI(n){let e=H.useContext(Po);return ot(e,gv(n)),e}function dI(n){let e=H.useContext(ad);return ot(e,gv(n)),e}function fI(n){let e=H.useContext(vi);return ot(e,gv(n)),e}function yv(n){let e=fI(n),t=e.matches[e.matches.length-1];return ot(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function hI(){return yv("useRouteId")}function mI(){var r;let n=H.useContext(mv),e=dI("useRouteError"),t=yv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function pI(){let{router:n}=cI("useNavigate"),e=yv("useNavigate"),t=H.useRef(!1);return Wx(()=>{t.current=!0}),H.useCallback(async(a,o={})=>{tn(t.current,Xx),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var fE={};function Jx(n,e,t){!e&&!fE[n]&&(fE[n]=!0,tn(!1,t))}var hE={};function mE(n,e){!n&&!hE[e]&&(hE[e]=!0,console.warn(e))}function gI(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&tn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:H.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&tn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:H.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&tn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:H.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var yI=["HydrateFallback","hydrateFallbackElement"],vI=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function _I({router:n,flushSync:e}){let[t,r]=H.useState(n.state),[a,o]=H.useState(),[c,d]=H.useState({isTransitioning:!1}),[h,p]=H.useState(),[g,_]=H.useState(),[b,E]=H.useState(),T=H.useRef(new Map),M=H.useCallback((R,{deletedFetchers:B,flushSync:j,viewTransitionOpts:V})=>{R.fetchers.forEach((I,C)=>{I.data!==void 0&&T.current.set(C,I.data)}),B.forEach(I=>T.current.delete(I)),mE(j===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let U=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(mE(V==null||U,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!V||!U){e&&j?e(()=>r(R)):H.startTransition(()=>r(R));return}if(e&&j){e(()=>{g&&(h&&h.resolve(),g.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let I=n.window.document.startViewTransition(()=>{e(()=>r(R))});I.finished.finally(()=>{e(()=>{p(void 0),_(void 0),o(void 0),d({isTransitioning:!1})})}),e(()=>_(I));return}g?(h&&h.resolve(),g.skipTransition(),E({state:R,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(o(R),d({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[n.window,e,g,h]);H.useLayoutEffect(()=>n.subscribe(M),[n,M]),H.useEffect(()=>{c.isTransitioning&&!c.flushSync&&p(new vI)},[c]),H.useEffect(()=>{if(h&&a&&n.window){let R=a,B=h.promise,j=n.window.document.startViewTransition(async()=>{H.startTransition(()=>r(R)),await B});j.finished.finally(()=>{p(void 0),_(void 0),o(void 0),d({isTransitioning:!1})}),_(j)}},[a,h,n.window]),H.useEffect(()=>{h&&a&&t.location.key===a.location.key&&h.resolve()},[h,g,t.location,a]),H.useEffect(()=>{!c.isTransitioning&&b&&(o(b.state),d({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),E(void 0))},[c.isTransitioning,b]);let N=H.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:R=>n.navigate(R),push:(R,B,j)=>n.navigate(R,{state:B,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(R,B,j)=>n.navigate(R,{replace:!0,state:B,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[n]),O=n.basename||"/",A=H.useMemo(()=>({router:n,navigator:N,static:!1,basename:O}),[n,N,O]);return H.createElement(H.Fragment,null,H.createElement(Po.Provider,{value:A},H.createElement(ad.Provider,{value:t},H.createElement(Yx.Provider,{value:T.current},H.createElement(hv.Provider,{value:c},H.createElement(TI,{basename:O,location:t.location,navigationType:t.historyAction,navigator:N},H.createElement(bI,{routes:n.routes,future:n.future,state:t})))))),null)}var bI=H.memo(wI);function wI({routes:n,future:e,state:t}){return iI(n,void 0,t,e)}function EI(n){return rI(n.context)}function TI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){ot(!od(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=H.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof t=="string"&&(t=Da(t));let{pathname:h="/",search:p="",hash:g="",state:_=null,key:b="default"}=t,E=H.useMemo(()=>{let T=ei(h,c);return T==null?null:{location:{pathname:T,search:p,hash:g,state:_,key:b},navigationType:r}},[c,h,p,g,_,b,r]);return tn(E!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:H.createElement(Ki.Provider,{value:d},H.createElement(Wh.Provider,{children:e,value:E}))}var rh="get",ih="application/x-www-form-urlencoded";function Zh(n){return n!=null&&typeof n.tagName=="string"}function xI(n){return Zh(n)&&n.tagName.toLowerCase()==="button"}function SI(n){return Zh(n)&&n.tagName.toLowerCase()==="form"}function AI(n){return Zh(n)&&n.tagName.toLowerCase()==="input"}function RI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function CI(n,e){return n.button===0&&(!e||e==="_self")&&!RI(n)}function py(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function II(n,e){let t=py(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var Bf=null;function NI(){if(Bf===null)try{new FormData(document.createElement("form"),0),Bf=!1}catch{Bf=!0}return Bf}var OI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lg(n){return n!=null&&!OI.has(n)?(tn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):n}function MI(n,e){let t,r,a,o,c;if(SI(n)){let d=n.getAttribute("action");r=d?ei(d,e):null,t=n.getAttribute("method")||rh,a=Lg(n.getAttribute("enctype"))||ih,o=new FormData(n)}else if(xI(n)||AI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||d.getAttribute("action");if(r=h?ei(h,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||rh,a=Lg(n.getAttribute("formenctype"))||Lg(d.getAttribute("enctype"))||ih,o=new FormData(d,n),!NI()){let{name:p,type:g,value:_}=n;if(g==="image"){let b=p?`${p}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else p&&o.append(p,_)}}else{if(Zh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rh,r=null,a=ih,c=n}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:c}}function vv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function DI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function kI(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await DI(o,t);return c.links?c.links():[]}return[]}));return UI(r.flat(1).filter(PI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function pE(n,e,t,r,a,o){let c=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,d=(h,p)=>{var g;return t[p].pathname!==h.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>c(h,p)||d(h,p)):o==="data"?e.filter((h,p)=>{var _;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function LI(n,e,{includeHydrateFallback:t}={}){return jI(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function jI(n){return[...new Set(n)]}function VI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function UI(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(VI(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}var zI=new Set([100,101,204,205]);function BI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ei(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function e1(){let n=H.useContext(Po);return vv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function FI(){let n=H.useContext(ad);return vv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _v=H.createContext(void 0);_v.displayName="FrameworkContext";function t1(){let n=H.useContext(_v);return vv(n,"You must render this element inside a <HydratedRouter> element"),n}function qI(n,e){let t=H.useContext(_v),[r,a]=H.useState(!1),[o,c]=H.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,b=H.useRef(null);H.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let M=O=>{O.forEach(A=>{c(A.isIntersecting)})},N=new IntersectionObserver(M,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[n]),H.useEffect(()=>{if(r){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[r]);let E=()=>{a(!0)},T=()=>{a(!1),c(!1)};return t?n!=="intent"?[o,b,{}]:[o,b,{onFocus:_c(d,E),onBlur:_c(h,T),onMouseEnter:_c(p,E),onMouseLeave:_c(g,T),onTouchStart:_c(_,E)}]:[!1,b,{}]}function _c(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function HI({page:n,...e}){let{router:t}=e1(),r=H.useMemo(()=>ra(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?H.createElement($I,{page:n,matches:r,...e}):null}function GI(n){let{manifest:e,routeModules:t}=t1(),[r,a]=H.useState([]);return H.useEffect(()=>{let o=!1;return kI(n,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[n,e,t]),r}function $I({page:n,matches:e,...t}){let r=Pa(),{manifest:a,routeModules:o}=t1(),{basename:c}=e1(),{loaderData:d,matches:h}=FI(),p=H.useMemo(()=>pE(n,e,h,a,r,"data"),[n,e,h,a,r]),g=H.useMemo(()=>pE(n,e,h,a,r,"assets"),[n,e,h,a,r]),_=H.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,M=!1;if(e.forEach(O=>{var R;let A=a.routes[O.route.id];!A||!A.hasLoader||(!p.some(B=>B.route.id===O.route.id)&&O.route.id in d&&((R=o[O.route.id])!=null&&R.shouldRevalidate)||A.hasClientLoader?M=!0:T.add(O.route.id))}),T.size===0)return[];let N=BI(n,c);return M&&T.size>0&&N.searchParams.set("_routes",e.filter(O=>T.has(O.route.id)).map(O=>O.route.id).join(",")),[N.pathname+N.search]},[c,d,r,a,p,e,n,o]),b=H.useMemo(()=>LI(g,a),[g,a]),E=GI(g);return H.createElement(H.Fragment,null,_.map(T=>H.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),b.map(T=>H.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),E.map(({key:T,link:M})=>H.createElement("link",{key:T,...M})))}function QI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var n1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{n1&&(window.__reactRouterVersion="7.5.3")}catch{}function KI(n,e){return PC({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:tC({window:e==null?void 0:e.window}),hydrationData:YI(),routes:n,mapRouteProperties:gI,hydrationRouteProperties:yI,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function YI(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:XI(n.errors)}),n}function XI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new _h(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let c=new o(a.message);c.stack="",t[r]=c}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var r1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bt=H.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:d,target:h,to:p,preventScrollReset:g,viewTransition:_,...b},E){let{basename:T}=H.useContext(Ki),M=typeof p=="string"&&r1.test(p),N,O=!1;if(typeof p=="string"&&M&&(N=p,n1))try{let C=new URL(window.location.href),P=p.startsWith("//")?new URL(C.protocol+p):new URL(p),z=ei(P.pathname,T);P.origin===C.origin&&z!=null?p=z+P.search+P.hash:O=!0}catch{tn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=eI(p,{relative:a}),[R,B,j]=qI(r,b),V=eN(p,{replace:c,state:d,target:h,preventScrollReset:g,relative:a,viewTransition:_});function U(C){e&&e(C),C.defaultPrevented||V(C)}let I=H.createElement("a",{...b,...j,href:N||A,onClick:O||o?e:U,ref:QI(E,B),target:h,"data-discover":!M&&t==="render"?"true":void 0});return R&&!M?H.createElement(H.Fragment,null,I,H.createElement(HI,{page:A})):I});Bt.displayName="Link";var WI=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:d,children:h,...p},g){let _=ld(c,{relative:p.relative}),b=Pa(),E=H.useContext(ad),{navigator:T,basename:M}=H.useContext(Ki),N=E!=null&&aN(_)&&d===!0,O=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,A=b.pathname,R=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(A=A.toLowerCase(),R=R?R.toLowerCase():null,O=O.toLowerCase()),R&&M&&(R=ei(R,M)||R);const B=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let j=A===O||!a&&A.startsWith(O)&&A.charAt(B)==="/",V=R!=null&&(R===O||!a&&R.startsWith(O)&&R.charAt(O.length)==="/"),U={isActive:j,isPending:V,isTransitioning:N},I=j?e:void 0,C;typeof r=="function"?C=r(U):C=[r,j?"active":null,V?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(U):o;return H.createElement(Bt,{...p,"aria-current":I,className:C,ref:g,style:P,to:c,viewTransition:d},typeof h=="function"?h(U):h)});WI.displayName="NavLink";var ZI=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:c=rh,action:d,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:_,...b},E)=>{let T=iN(),M=sN(d,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&r1.test(d),A=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let B=R.nativeEvent.submitter,j=(B==null?void 0:B.getAttribute("formmethod"))||c;T(B||R.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:a,state:o,relative:p,preventScrollReset:g,viewTransition:_})};return H.createElement("form",{ref:E,method:N,action:M,onSubmit:r?h:A,...b,"data-discover":!O&&n==="render"?"true":void 0})});ZI.displayName="Form";function JI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i1(n){let e=H.useContext(Po);return ot(e,JI(n)),e}function eN(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:c}={}){let d=Zx(),h=Pa(),p=ld(n,{relative:o});return H.useCallback(g=>{if(CI(g,e)){g.preventDefault();let _=t!==void 0?t:Aa(h)===Aa(p);d(n,{replace:_,state:r,preventScrollReset:a,relative:o,viewTransition:c})}},[h,d,p,t,r,e,n,a,o,c])}function tN(n){tn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=H.useRef(py(n)),t=H.useRef(!1),r=Pa(),a=H.useMemo(()=>II(r.search,t.current?null:e.current),[r.search]),o=Zx(),c=H.useCallback((d,h)=>{const p=py(typeof d=="function"?d(a):d);t.current=!0,o("?"+p,h)},[o,a]);return[a,c]}var nN=0,rN=()=>`__${String(++nN)}__`;function iN(){let{router:n}=i1("useSubmit"),{basename:e}=H.useContext(Ki),t=hI();return H.useCallback(async(r,a={})=>{let{action:o,method:c,encType:d,formData:h,body:p}=MI(r,e);if(a.navigate===!1){let g=a.fetcherKey||rN();await n.fetch(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function sN(n,{relative:e}={}){let{basename:t}=H.useContext(Ki),r=H.useContext(vi);ot(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...ld(n||".",{relative:e})},c=Pa();if(n==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(_=>_).forEach(_=>d.append("index",_));let g=d.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Bi([t,o.pathname])),Aa(o)}function aN(n,e={}){let t=H.useContext(hv);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=i1("useViewTransitionState"),a=ld(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ei(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=ei(t.nextLocation.pathname,r)||t.nextLocation.pathname;return vh(a.pathname,c)!=null||vh(a.pathname,o)!=null}new TextEncoder;[...zI];var oN=Px();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lN(n){return H.createElement(_I,{flushSync:oN.flushSync,...n})}var Ff={},gE;function uN(){if(gE)return Ff;gE=1;function n(o){if(typeof window>"u")return;const c=document.createElement("style");return c.setAttribute("type","text/css"),c.innerHTML=o,document.head.appendChild(c),o}Object.defineProperty(Ff,"__esModule",{value:!0});var e=Xh();function t(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=t(e);n(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const a=e.forwardRef(function({style:c={},className:d="",autoFill:h=!1,play:p=!0,pauseOnHover:g=!1,pauseOnClick:_=!1,direction:b="left",speed:E=50,delay:T=0,loop:M=0,gradient:N=!1,gradientColor:O="white",gradientWidth:A=200,onFinish:R,onCycleComplete:B,onMount:j,children:V},U){const[I,C]=e.useState(0),[P,z]=e.useState(0),[F,L]=e.useState(1),[be,Ee]=e.useState(!1),Q=e.useRef(null),oe=U||Q,ae=e.useRef(null),_e=e.useCallback(()=>{if(ae.current&&oe.current){const ye=oe.current.getBoundingClientRect(),rt=ae.current.getBoundingClientRect();let Fe=ye.width,bt=rt.width;(b==="up"||b==="down")&&(Fe=ye.height,bt=rt.height),L(h&&Fe&&bt&&bt<Fe?Math.ceil(Fe/bt):1),C(Fe),z(bt)}},[h,oe,b]);e.useEffect(()=>{if(be&&(_e(),ae.current&&oe.current)){const ye=new ResizeObserver(()=>_e());return ye.observe(oe.current),ye.observe(ae.current),()=>{ye&&ye.disconnect()}}},[_e,oe,be]),e.useEffect(()=>{_e()},[_e,V]),e.useEffect(()=>{Ee(!0)},[]),e.useEffect(()=>{typeof j=="function"&&j()},[]);const q=e.useMemo(()=>h?P*F/E:P<I?I/E:P/E,[h,I,P,F,E]),se=e.useMemo(()=>Object.assign(Object.assign({},c),{"--pause-on-hover":!p||g?"paused":"running","--pause-on-click":!p||g&&!_||_?"paused":"running","--width":b==="up"||b==="down"?"100vh":"100%","--transform":b==="up"?"rotate(-90deg)":b==="down"?"rotate(90deg)":"none"}),[c,p,g,_,b]),ge=e.useMemo(()=>({"--gradient-color":O,"--gradient-width":typeof A=="number"?`${A}px`:A}),[O,A]),pe=e.useMemo(()=>({"--play":p?"running":"paused","--direction":b==="left"?"normal":"reverse","--duration":`${q}s`,"--delay":`${T}s`,"--iteration-count":M?`${M}`:"infinite","--min-width":h?"auto":"100%"}),[p,b,q,T,M,h]),xe=e.useMemo(()=>({"--transform":b==="up"?"rotate(90deg)":b==="down"?"rotate(-90deg)":"none"}),[b]),le=e.useCallback(ye=>[...Array(Number.isFinite(ye)&&ye>=0?ye:0)].map((rt,Fe)=>r.default.createElement(e.Fragment,{key:Fe},e.Children.map(V,bt=>r.default.createElement("div",{style:xe,className:"rfm-child"},bt)))),[xe,V]);return be?r.default.createElement("div",{ref:oe,style:se,className:"rfm-marquee-container "+d},N&&r.default.createElement("div",{style:ge,className:"rfm-overlay"}),r.default.createElement("div",{className:"rfm-marquee",style:pe,onAnimationIteration:B,onAnimationEnd:R},r.default.createElement("div",{className:"rfm-initial-child-container",ref:ae},e.Children.map(V,ye=>r.default.createElement("div",{style:xe,className:"rfm-child"},ye))),le(F-1)),r.default.createElement("div",{className:"rfm-marquee",style:pe},le(F))):null});return Ff.default=a,Ff}var cN=uN();const s1=Dx(cN);var a1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yE=Vt.createContext&&Vt.createContext(a1),dN=["attr","size","title"];function fN(n,e){if(n==null)return{};var t=hN(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function hN(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function wh(){return wh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wh.apply(this,arguments)}function vE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Eh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vE(Object(t),!0).forEach(function(r){mN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mN(n,e,t){return e=pN(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pN(n){var e=gN(n,"string");return typeof e=="symbol"?e:e+""}function gN(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function o1(n){return n&&n.map((e,t)=>Vt.createElement(e.tag,Eh({key:t},e.attr),o1(e.child)))}function ud(n){return e=>Vt.createElement(yN,wh({attr:Eh({},n.attr)},e),o1(n.child))}function yN(n){var e=t=>{var{attr:r,size:a,title:o}=n,c=fN(n,dN),d=a||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Vt.createElement("svg",wh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:h,style:Eh(Eh({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&Vt.createElement("title",null,o),n.children)};return yE!==void 0?Vt.createElement(yE.Consumer,null,t=>e(t)):e(a1)}function vN(n){return ud({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"},child:[]}]})(n)}function _N(n){return ud({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function _E(n){return ud({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M260.062 32C138.605 32 40.134 129.701 40.134 250.232c0 41.23 11.532 79.79 31.559 112.687L32 480l121.764-38.682c31.508 17.285 67.745 27.146 106.298 27.146C381.535 468.464 480 370.749 480 250.232 480 129.701 381.535 32 260.062 32zm109.362 301.11c-5.174 12.827-28.574 24.533-38.899 25.072-10.314.547-10.608 7.994-66.84-16.434-56.225-24.434-90.052-83.844-92.719-87.67-2.669-3.812-21.78-31.047-20.749-58.455 1.038-27.413 16.047-40.346 21.404-45.725 5.351-5.387 11.486-6.352 15.232-6.413 4.428-.072 7.296-.132 10.573-.011 3.274.124 8.192-.685 12.45 10.639 4.256 11.323 14.443 39.153 15.746 41.989 1.302 2.839 2.108 6.126.102 9.771-2.012 3.653-3.042 5.935-5.961 9.083-2.935 3.148-6.174 7.042-8.792 9.449-2.92 2.665-5.97 5.572-2.9 11.269 3.068 5.693 13.653 24.356 29.779 39.736 20.725 19.771 38.598 26.329 44.098 29.317 5.515 3.004 8.806 2.67 12.226-.929 3.404-3.599 14.639-15.746 18.596-21.169 3.955-5.438 7.661-4.373 12.742-2.329 5.078 2.052 32.157 16.556 37.673 19.551 5.51 2.989 9.193 4.529 10.51 6.9 1.317 2.38.901 13.531-4.271 26.359z"},child:[]}]})(n)}function bN(n){return ud({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M508.6 148.8c0-45-33.1-81.2-74-81.2C379.2 65 322.7 64 265 64h-18c-57.6 0-114.2 1-169.6 3.6C36.6 67.6 3.5 104 3.5 149 1 184.6-.1 220.2 0 255.8c-.1 35.6 1 71.2 3.4 106.9 0 45 33.1 81.5 73.9 81.5 58.2 2.7 117.9 3.9 178.6 3.8 60.8.2 120.3-1 178.6-3.8 40.9 0 74-36.5 74-81.5 2.4-35.7 3.5-71.3 3.4-107 .2-35.6-.9-71.2-3.3-106.9zM207 353.9V157.4l145 98.2-145 98.3z"},child:[]}]})(n)}const wN=()=>{};var bE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},EN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],d=n[t++],h=((a&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},u1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,d=c?n[a+1]:0,h=a+2<n.length,p=h?n[a+2]:0,g=o>>2,_=(o&3)<<4|d>>4;let b=(d&15)<<2|p>>6,E=p&63;h||(E=64,c||(b=64)),r.push(t[g],t[_],t[b],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(l1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):EN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||d==null||p==null||_==null)throw new TN;const b=o<<2|d>>4;if(r.push(b),p!==64){const E=d<<4&240|p>>2;if(r.push(E),_!==64){const T=p<<6&192|_;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class TN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xN=function(n){const e=l1(n);return u1.encodeByteArray(e,!0)},Th=function(n){return xN(n).replace(/\./g,"")},c1=function(n){try{return u1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=()=>SN().__FIREBASE_DEFAULTS__,RN=()=>{if(typeof process>"u"||typeof bE>"u")return;const n=bE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},CN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&c1(n[1]);return e&&JSON.parse(e)},Jh=()=>{try{return wN()||AN()||RN()||CN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},d1=n=>{var e,t;return(t=(e=Jh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},IN=n=>{const e=d1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},f1=()=>{var n;return(n=Jh())===null||n===void 0?void 0:n.config},h1=n=>{var e;return(e=Jh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Th(JSON.stringify(t)),Th(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function DN(){var n;const e=(n=Jh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jN(){const n=Kn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function VN(){return!DN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UN(){try{return typeof indexedDB=="object"}catch{return!1}}function zN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="FirebaseError";class Cs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=BN,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cd.prototype.create)}}class cd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?FN(o,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Cs(a,d,r)}}function FN(n,e){return n.replace(qN,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const qN=/\{\$([^}]+)}/g;function HN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ao(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],c=e[a];if(wE(o)&&wE(c)){if(!Ao(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function wE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Sc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function GN(n,e){const t=new $N(n,e);return t.subscribe.bind(t)}class $N{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");QN(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=jg),a.error===void 0&&(a.error=jg),a.complete===void 0&&(a.complete=jg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n){return n&&n._delegate?n._delegate:n}class Ro{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new NN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XN(e))try{this.getOrInitializeService({instanceIdentifier:ho})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ho){return this.instances.has(e)}getOptions(e=ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ho){return this.component?this.component.multipleInstances?e:ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YN(n){return n===ho?void 0:n}function XN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new KN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ut||(ut={}));const ZN={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},JN=ut.INFO,eO={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},tO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=eO[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bv{constructor(e){this.name=e,this._logLevel=JN,this._logHandler=tO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const nO=(n,e)=>e.some(t=>n instanceof t);let EE,TE;function rO(){return EE||(EE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iO(){return TE||(TE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m1=new WeakMap,gy=new WeakMap,p1=new WeakMap,Vg=new WeakMap,wv=new WeakMap;function sO(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(ba(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&m1.set(t,n)}).catch(()=>{}),wv.set(e,n),e}function aO(n){if(gy.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});gy.set(n,e)}let yy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return gy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||p1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ba(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function oO(n){yy=n(yy)}function lO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ug(this),e,...t);return p1.set(r,e.sort?e.sort():[e]),ba(r)}:iO().includes(n)?function(...e){return n.apply(Ug(this),e),ba(m1.get(this))}:function(...e){return ba(n.apply(Ug(this),e))}}function uO(n){return typeof n=="function"?lO(n):(n instanceof IDBTransaction&&aO(n),nO(n,rO())?new Proxy(n,yy):n)}function ba(n){if(n instanceof IDBRequest)return sO(n);if(Vg.has(n))return Vg.get(n);const e=uO(n);return e!==n&&(Vg.set(n,e),wv.set(e,n)),e}const Ug=n=>wv.get(n);function cO(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),d=ba(c);return r&&c.addEventListener("upgradeneeded",h=>{r(ba(c.result),h.oldVersion,h.newVersion,ba(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const dO=["get","getKey","getAll","getAllKeys","count"],fO=["put","add","delete","clear"],zg=new Map;function xE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(zg.get(e))return zg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=fO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||dO.includes(t)))return;const o=async function(c,...d){const h=this.transaction(c,a?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&h.done]))[0]};return zg.set(e,o),o}oO(n=>({...n,get:(e,t,r)=>xE(e,t)||n.get(e,t,r),has:(e,t)=>!!xE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function mO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vy="@firebase/app",SE="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new bv("@firebase/app"),pO="@firebase/app-compat",gO="@firebase/analytics-compat",yO="@firebase/analytics",vO="@firebase/app-check-compat",_O="@firebase/app-check",bO="@firebase/auth",wO="@firebase/auth-compat",EO="@firebase/database",TO="@firebase/data-connect",xO="@firebase/database-compat",SO="@firebase/functions",AO="@firebase/functions-compat",RO="@firebase/installations",CO="@firebase/installations-compat",IO="@firebase/messaging",NO="@firebase/messaging-compat",OO="@firebase/performance",MO="@firebase/performance-compat",DO="@firebase/remote-config",PO="@firebase/remote-config-compat",kO="@firebase/storage",LO="@firebase/storage-compat",jO="@firebase/firestore",VO="@firebase/vertexai",UO="@firebase/firestore-compat",zO="firebase",BO="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="[DEFAULT]",FO={[vy]:"fire-core",[pO]:"fire-core-compat",[yO]:"fire-analytics",[gO]:"fire-analytics-compat",[_O]:"fire-app-check",[vO]:"fire-app-check-compat",[bO]:"fire-auth",[wO]:"fire-auth-compat",[EO]:"fire-rtdb",[TO]:"fire-data-connect",[xO]:"fire-rtdb-compat",[SO]:"fire-fn",[AO]:"fire-fn-compat",[RO]:"fire-iid",[CO]:"fire-iid-compat",[IO]:"fire-fcm",[NO]:"fire-fcm-compat",[OO]:"fire-perf",[MO]:"fire-perf-compat",[DO]:"fire-rc",[PO]:"fire-rc-compat",[kO]:"fire-gcs",[LO]:"fire-gcs-compat",[jO]:"fire-fst",[UO]:"fire-fst-compat",[VO]:"fire-vertex","fire-js":"fire-js",[zO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,qO=new Map,by=new Map;function AE(n,e){try{n.container.addComponent(e)}catch(t){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function eu(n){const e=n.name;if(by.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;by.set(e,n);for(const t of xh.values())AE(t,n);for(const t of qO.values())AE(t,n);return!0}function Ev(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function di(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wa=new cd("app","Firebase",HO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=BO;function g1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_y,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw wa.create("bad-app-name",{appName:String(a)});if(t||(t=f1()),!t)throw wa.create("no-options");const o=xh.get(a);if(o){if(Ao(t,o.options)&&Ao(r,o.config))return o;throw wa.create("duplicate-app",{appName:a})}const c=new WN(a);for(const h of by.values())c.addComponent(h);const d=new GO(t,r,c);return xh.set(a,d),d}function y1(n=_y){const e=xh.get(n);if(!e&&n===_y&&f1())return g1();if(!e)throw wa.create("no-app",{appName:n});return e}function Ea(n,e,t){var r;let a=(r=FO[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(d.join(" "));return}eu(new Ro(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="firebase-heartbeat-database",QO=1,Bc="firebase-heartbeat-store";let Bg=null;function v1(){return Bg||(Bg=cO($O,QO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bc)}catch(t){console.warn(t)}}}}).catch(n=>{throw wa.create("idb-open",{originalErrorMessage:n.message})})),Bg}async function KO(n){try{const t=(await v1()).transaction(Bc),r=await t.objectStore(Bc).get(_1(n));return await t.done,r}catch(e){if(e instanceof Cs)Ts.warn(e.message);else{const t=wa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ts.warn(t.message)}}}async function RE(n,e){try{const r=(await v1()).transaction(Bc,"readwrite");await r.objectStore(Bc).put(e,_1(n)),await r.done}catch(t){if(t instanceof Cs)Ts.warn(t.message);else{const r=wa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ts.warn(r.message)}}}function _1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=1024,XO=30;class WO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new JO(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=CE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>XO){const c=eM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ts.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=CE(),{heartbeatsToSend:r,unsentEntries:a}=ZO(this._heartbeatsCache.heartbeats),o=Th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ts.warn(t),""}}}function CE(){return new Date().toISOString().substring(0,10)}function ZO(n,e=YO){const t=[];let r=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),IE(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),IE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class JO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UN()?zN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await KO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return RE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return RE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function IE(n){return Th(JSON.stringify({version:2,heartbeats:n})).length}function eM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(n){eu(new Ro("platform-logger",e=>new hO(e),"PRIVATE")),eu(new Ro("heartbeat",e=>new WO(e),"PRIVATE")),Ea(vy,SE,n),Ea(vy,SE,"esm2017"),Ea("fire-js","")}tM("");var NE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ta,b1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,I){function C(){}C.prototype=I.prototype,U.D=I.prototype,U.prototype=new C,U.prototype.constructor=U,U.C=function(P,z,F){for(var L=Array(arguments.length-2),be=2;be<arguments.length;be++)L[be-2]=arguments[be];return I.prototype[z].apply(P,L)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(U,I,C){C||(C=0);var P=Array(16);if(typeof I=="string")for(var z=0;16>z;++z)P[z]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(z=0;16>z;++z)P[z]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=U.g[0],C=U.g[1],z=U.g[2];var F=U.g[3],L=I+(F^C&(z^F))+P[0]+3614090360&4294967295;I=C+(L<<7&4294967295|L>>>25),L=F+(z^I&(C^z))+P[1]+3905402710&4294967295,F=I+(L<<12&4294967295|L>>>20),L=z+(C^F&(I^C))+P[2]+606105819&4294967295,z=F+(L<<17&4294967295|L>>>15),L=C+(I^z&(F^I))+P[3]+3250441966&4294967295,C=z+(L<<22&4294967295|L>>>10),L=I+(F^C&(z^F))+P[4]+4118548399&4294967295,I=C+(L<<7&4294967295|L>>>25),L=F+(z^I&(C^z))+P[5]+1200080426&4294967295,F=I+(L<<12&4294967295|L>>>20),L=z+(C^F&(I^C))+P[6]+2821735955&4294967295,z=F+(L<<17&4294967295|L>>>15),L=C+(I^z&(F^I))+P[7]+4249261313&4294967295,C=z+(L<<22&4294967295|L>>>10),L=I+(F^C&(z^F))+P[8]+1770035416&4294967295,I=C+(L<<7&4294967295|L>>>25),L=F+(z^I&(C^z))+P[9]+2336552879&4294967295,F=I+(L<<12&4294967295|L>>>20),L=z+(C^F&(I^C))+P[10]+4294925233&4294967295,z=F+(L<<17&4294967295|L>>>15),L=C+(I^z&(F^I))+P[11]+2304563134&4294967295,C=z+(L<<22&4294967295|L>>>10),L=I+(F^C&(z^F))+P[12]+1804603682&4294967295,I=C+(L<<7&4294967295|L>>>25),L=F+(z^I&(C^z))+P[13]+4254626195&4294967295,F=I+(L<<12&4294967295|L>>>20),L=z+(C^F&(I^C))+P[14]+2792965006&4294967295,z=F+(L<<17&4294967295|L>>>15),L=C+(I^z&(F^I))+P[15]+1236535329&4294967295,C=z+(L<<22&4294967295|L>>>10),L=I+(z^F&(C^z))+P[1]+4129170786&4294967295,I=C+(L<<5&4294967295|L>>>27),L=F+(C^z&(I^C))+P[6]+3225465664&4294967295,F=I+(L<<9&4294967295|L>>>23),L=z+(I^C&(F^I))+P[11]+643717713&4294967295,z=F+(L<<14&4294967295|L>>>18),L=C+(F^I&(z^F))+P[0]+3921069994&4294967295,C=z+(L<<20&4294967295|L>>>12),L=I+(z^F&(C^z))+P[5]+3593408605&4294967295,I=C+(L<<5&4294967295|L>>>27),L=F+(C^z&(I^C))+P[10]+38016083&4294967295,F=I+(L<<9&4294967295|L>>>23),L=z+(I^C&(F^I))+P[15]+3634488961&4294967295,z=F+(L<<14&4294967295|L>>>18),L=C+(F^I&(z^F))+P[4]+3889429448&4294967295,C=z+(L<<20&4294967295|L>>>12),L=I+(z^F&(C^z))+P[9]+568446438&4294967295,I=C+(L<<5&4294967295|L>>>27),L=F+(C^z&(I^C))+P[14]+3275163606&4294967295,F=I+(L<<9&4294967295|L>>>23),L=z+(I^C&(F^I))+P[3]+4107603335&4294967295,z=F+(L<<14&4294967295|L>>>18),L=C+(F^I&(z^F))+P[8]+1163531501&4294967295,C=z+(L<<20&4294967295|L>>>12),L=I+(z^F&(C^z))+P[13]+2850285829&4294967295,I=C+(L<<5&4294967295|L>>>27),L=F+(C^z&(I^C))+P[2]+4243563512&4294967295,F=I+(L<<9&4294967295|L>>>23),L=z+(I^C&(F^I))+P[7]+1735328473&4294967295,z=F+(L<<14&4294967295|L>>>18),L=C+(F^I&(z^F))+P[12]+2368359562&4294967295,C=z+(L<<20&4294967295|L>>>12),L=I+(C^z^F)+P[5]+4294588738&4294967295,I=C+(L<<4&4294967295|L>>>28),L=F+(I^C^z)+P[8]+2272392833&4294967295,F=I+(L<<11&4294967295|L>>>21),L=z+(F^I^C)+P[11]+1839030562&4294967295,z=F+(L<<16&4294967295|L>>>16),L=C+(z^F^I)+P[14]+4259657740&4294967295,C=z+(L<<23&4294967295|L>>>9),L=I+(C^z^F)+P[1]+2763975236&4294967295,I=C+(L<<4&4294967295|L>>>28),L=F+(I^C^z)+P[4]+1272893353&4294967295,F=I+(L<<11&4294967295|L>>>21),L=z+(F^I^C)+P[7]+4139469664&4294967295,z=F+(L<<16&4294967295|L>>>16),L=C+(z^F^I)+P[10]+3200236656&4294967295,C=z+(L<<23&4294967295|L>>>9),L=I+(C^z^F)+P[13]+681279174&4294967295,I=C+(L<<4&4294967295|L>>>28),L=F+(I^C^z)+P[0]+3936430074&4294967295,F=I+(L<<11&4294967295|L>>>21),L=z+(F^I^C)+P[3]+3572445317&4294967295,z=F+(L<<16&4294967295|L>>>16),L=C+(z^F^I)+P[6]+76029189&4294967295,C=z+(L<<23&4294967295|L>>>9),L=I+(C^z^F)+P[9]+3654602809&4294967295,I=C+(L<<4&4294967295|L>>>28),L=F+(I^C^z)+P[12]+3873151461&4294967295,F=I+(L<<11&4294967295|L>>>21),L=z+(F^I^C)+P[15]+530742520&4294967295,z=F+(L<<16&4294967295|L>>>16),L=C+(z^F^I)+P[2]+3299628645&4294967295,C=z+(L<<23&4294967295|L>>>9),L=I+(z^(C|~F))+P[0]+4096336452&4294967295,I=C+(L<<6&4294967295|L>>>26),L=F+(C^(I|~z))+P[7]+1126891415&4294967295,F=I+(L<<10&4294967295|L>>>22),L=z+(I^(F|~C))+P[14]+2878612391&4294967295,z=F+(L<<15&4294967295|L>>>17),L=C+(F^(z|~I))+P[5]+4237533241&4294967295,C=z+(L<<21&4294967295|L>>>11),L=I+(z^(C|~F))+P[12]+1700485571&4294967295,I=C+(L<<6&4294967295|L>>>26),L=F+(C^(I|~z))+P[3]+2399980690&4294967295,F=I+(L<<10&4294967295|L>>>22),L=z+(I^(F|~C))+P[10]+4293915773&4294967295,z=F+(L<<15&4294967295|L>>>17),L=C+(F^(z|~I))+P[1]+2240044497&4294967295,C=z+(L<<21&4294967295|L>>>11),L=I+(z^(C|~F))+P[8]+1873313359&4294967295,I=C+(L<<6&4294967295|L>>>26),L=F+(C^(I|~z))+P[15]+4264355552&4294967295,F=I+(L<<10&4294967295|L>>>22),L=z+(I^(F|~C))+P[6]+2734768916&4294967295,z=F+(L<<15&4294967295|L>>>17),L=C+(F^(z|~I))+P[13]+1309151649&4294967295,C=z+(L<<21&4294967295|L>>>11),L=I+(z^(C|~F))+P[4]+4149444226&4294967295,I=C+(L<<6&4294967295|L>>>26),L=F+(C^(I|~z))+P[11]+3174756917&4294967295,F=I+(L<<10&4294967295|L>>>22),L=z+(I^(F|~C))+P[2]+718787259&4294967295,z=F+(L<<15&4294967295|L>>>17),L=C+(F^(z|~I))+P[9]+3951481745&4294967295,U.g[0]=U.g[0]+I&4294967295,U.g[1]=U.g[1]+(z+(L<<21&4294967295|L>>>11))&4294967295,U.g[2]=U.g[2]+z&4294967295,U.g[3]=U.g[3]+F&4294967295}r.prototype.u=function(U,I){I===void 0&&(I=U.length);for(var C=I-this.blockSize,P=this.B,z=this.h,F=0;F<I;){if(z==0)for(;F<=C;)a(this,U,F),F+=this.blockSize;if(typeof U=="string"){for(;F<I;)if(P[z++]=U.charCodeAt(F++),z==this.blockSize){a(this,P),z=0;break}}else for(;F<I;)if(P[z++]=U[F++],z==this.blockSize){a(this,P),z=0;break}}this.h=z,this.o+=I},r.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var I=1;I<U.length-8;++I)U[I]=0;var C=8*this.o;for(I=U.length-8;I<U.length;++I)U[I]=C&255,C/=256;for(this.u(U),U=Array(16),I=C=0;4>I;++I)for(var P=0;32>P;P+=8)U[C++]=this.g[I]>>>P&255;return U};function o(U,I){var C=d;return Object.prototype.hasOwnProperty.call(C,U)?C[U]:C[U]=I(U)}function c(U,I){this.h=I;for(var C=[],P=!0,z=U.length-1;0<=z;z--){var F=U[z]|0;P&&F==I||(C[z]=F,P=!1)}this.g=C}var d={};function h(U){return-128<=U&&128>U?o(U,function(I){return new c([I|0],0>I?-1:0)}):new c([U|0],0>U?-1:0)}function p(U){if(isNaN(U)||!isFinite(U))return _;if(0>U)return N(p(-U));for(var I=[],C=1,P=0;U>=C;P++)I[P]=U/C|0,C*=4294967296;return new c(I,0)}function g(U,I){if(U.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(U.charAt(0)=="-")return N(g(U.substring(1),I));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(I,8)),P=_,z=0;z<U.length;z+=8){var F=Math.min(8,U.length-z),L=parseInt(U.substring(z,z+F),I);8>F?(F=p(Math.pow(I,F)),P=P.j(F).add(p(L))):(P=P.j(C),P=P.add(p(L)))}return P}var _=h(0),b=h(1),E=h(16777216);n=c.prototype,n.m=function(){if(M(this))return-N(this).m();for(var U=0,I=1,C=0;C<this.g.length;C++){var P=this.i(C);U+=(0<=P?P:4294967296+P)*I,I*=4294967296}return U},n.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(T(this))return"0";if(M(this))return"-"+N(this).toString(U);for(var I=p(Math.pow(U,6)),C=this,P="";;){var z=B(C,I).g;C=O(C,z.j(I));var F=((0<C.g.length?C.g[0]:C.h)>>>0).toString(U);if(C=z,T(C))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function T(U){if(U.h!=0)return!1;for(var I=0;I<U.g.length;I++)if(U.g[I]!=0)return!1;return!0}function M(U){return U.h==-1}n.l=function(U){return U=O(this,U),M(U)?-1:T(U)?0:1};function N(U){for(var I=U.g.length,C=[],P=0;P<I;P++)C[P]=~U.g[P];return new c(C,~U.h).add(b)}n.abs=function(){return M(this)?N(this):this},n.add=function(U){for(var I=Math.max(this.g.length,U.g.length),C=[],P=0,z=0;z<=I;z++){var F=P+(this.i(z)&65535)+(U.i(z)&65535),L=(F>>>16)+(this.i(z)>>>16)+(U.i(z)>>>16);P=L>>>16,F&=65535,L&=65535,C[z]=L<<16|F}return new c(C,C[C.length-1]&-2147483648?-1:0)};function O(U,I){return U.add(N(I))}n.j=function(U){if(T(this)||T(U))return _;if(M(this))return M(U)?N(this).j(N(U)):N(N(this).j(U));if(M(U))return N(this.j(N(U)));if(0>this.l(E)&&0>U.l(E))return p(this.m()*U.m());for(var I=this.g.length+U.g.length,C=[],P=0;P<2*I;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var z=0;z<U.g.length;z++){var F=this.i(P)>>>16,L=this.i(P)&65535,be=U.i(z)>>>16,Ee=U.i(z)&65535;C[2*P+2*z]+=L*Ee,A(C,2*P+2*z),C[2*P+2*z+1]+=F*Ee,A(C,2*P+2*z+1),C[2*P+2*z+1]+=L*be,A(C,2*P+2*z+1),C[2*P+2*z+2]+=F*be,A(C,2*P+2*z+2)}for(P=0;P<I;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=I;P<2*I;P++)C[P]=0;return new c(C,0)};function A(U,I){for(;(U[I]&65535)!=U[I];)U[I+1]+=U[I]>>>16,U[I]&=65535,I++}function R(U,I){this.g=U,this.h=I}function B(U,I){if(T(I))throw Error("division by zero");if(T(U))return new R(_,_);if(M(U))return I=B(N(U),I),new R(N(I.g),N(I.h));if(M(I))return I=B(U,N(I)),new R(N(I.g),I.h);if(30<U.g.length){if(M(U)||M(I))throw Error("slowDivide_ only works with positive integers.");for(var C=b,P=I;0>=P.l(U);)C=j(C),P=j(P);var z=V(C,1),F=V(P,1);for(P=V(P,2),C=V(C,2);!T(P);){var L=F.add(P);0>=L.l(U)&&(z=z.add(C),F=L),P=V(P,1),C=V(C,1)}return I=O(U,z.j(I)),new R(z,I)}for(z=_;0<=U.l(I);){for(C=Math.max(1,Math.floor(U.m()/I.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),F=p(C),L=F.j(I);M(L)||0<L.l(U);)C-=P,F=p(C),L=F.j(I);T(F)&&(F=b),z=z.add(F),U=O(U,L)}return new R(z,U)}n.A=function(U){return B(this,U).h},n.and=function(U){for(var I=Math.max(this.g.length,U.g.length),C=[],P=0;P<I;P++)C[P]=this.i(P)&U.i(P);return new c(C,this.h&U.h)},n.or=function(U){for(var I=Math.max(this.g.length,U.g.length),C=[],P=0;P<I;P++)C[P]=this.i(P)|U.i(P);return new c(C,this.h|U.h)},n.xor=function(U){for(var I=Math.max(this.g.length,U.g.length),C=[],P=0;P<I;P++)C[P]=this.i(P)^U.i(P);return new c(C,this.h^U.h)};function j(U){for(var I=U.g.length+1,C=[],P=0;P<I;P++)C[P]=U.i(P)<<1|U.i(P-1)>>>31;return new c(C,U.h)}function V(U,I){var C=I>>5;I%=32;for(var P=U.g.length-C,z=[],F=0;F<P;F++)z[F]=0<I?U.i(F+C)>>>I|U.i(F+C+1)<<32-I:U.i(F+C);return new c(z,U.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,b1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=g,Ta=c}).apply(typeof NE<"u"?NE:typeof self<"u"?self:typeof window<"u"?window:{});var qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w1,Ac,E1,sh,wy,T1,x1,S1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,x){return f==Array.prototype||f==Object.prototype||(f[w]=x.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof qf=="object"&&qf];for(var w=0;w<f.length;++w){var x=f[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function a(f,w){if(w)e:{var x=r;f=f.split(".");for(var k=0;k<f.length-1;k++){var Z=f[k];if(!(Z in x))break e;x=x[Z]}f=f[f.length-1],k=x[f],w=w(k),w!=k&&w!=null&&e(x,f,{configurable:!0,writable:!0,value:w})}}function o(f,w){f instanceof String&&(f+="");var x=0,k=!1,Z={next:function(){if(!k&&x<f.length){var ie=x++;return{value:w(ie,f[ie]),done:!1}}return k=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(f){return f||function(){return o(this,function(w,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function h(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function p(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function g(f,w,x){return f.call.apply(f.bind,arguments)}function _(f,w,x){if(!f)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,k),f.apply(w,Z)}}return function(){return f.apply(w,arguments)}}function b(f,w,x){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,b.apply(null,arguments)}function E(f,w){var x=Array.prototype.slice.call(arguments,1);return function(){var k=x.slice();return k.push.apply(k,arguments),f.apply(this,k)}}function T(f,w){function x(){}x.prototype=w.prototype,f.aa=w.prototype,f.prototype=new x,f.prototype.constructor=f,f.Qb=function(k,Z,ie){for(var we=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)we[gt-2]=arguments[gt];return w.prototype[Z].apply(k,we)}}function M(f){const w=f.length;if(0<w){const x=Array(w);for(let k=0;k<w;k++)x[k]=f[k];return x}return[]}function N(f,w){for(let x=1;x<arguments.length;x++){const k=arguments[x];if(h(k)){const Z=f.length||0,ie=k.length||0;f.length=Z+ie;for(let we=0;we<ie;we++)f[Z+we]=k[we]}else f.push(k)}}class O{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function A(f){return/^[\s\xa0]*$/.test(f)}function R(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function B(f){return B[" "](f),f}B[" "]=function(){};var j=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function V(f,w,x){for(const k in f)w.call(x,f[k],k,f)}function U(f,w){for(const x in f)w.call(void 0,f[x],x,f)}function I(f){const w={};for(const x in f)w[x]=f[x];return w}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(f,w){let x,k;for(let Z=1;Z<arguments.length;Z++){k=arguments[Z];for(x in k)f[x]=k[x];for(let ie=0;ie<C.length;ie++)x=C[ie],Object.prototype.hasOwnProperty.call(k,x)&&(f[x]=k[x])}}function z(f){var w=1;f=f.split(":");const x=[];for(;0<w&&f.length;)x.push(f.shift()),w--;return f.length&&x.push(f.join(":")),x}function F(f){d.setTimeout(()=>{throw f},0)}function L(){var f=_e;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class be{constructor(){this.h=this.g=null}add(w,x){const k=Ee.get();k.set(w,x),this.h?this.h.next=k:this.g=k,this.h=k}}var Ee=new O(()=>new Q,f=>f.reset());class Q{constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ae=!1,_e=new be,q=()=>{const f=d.Promise.resolve(void 0);oe=()=>{f.then(se)}};var se=()=>{for(var f;f=L();){try{f.h.call(f.g)}catch(x){F(x)}var w=Ee;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}ae=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const x=()=>{};d.addEventListener("test",x,w),d.removeEventListener("test",x,w)}catch{}return f}();function le(f,w){if(pe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var x=this.type=f.type,k=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(j){e:{try{B(w.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(w=null)}}else x=="mouseover"?w=f.fromElement:x=="mouseout"&&(w=f.toElement);this.relatedTarget=w,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ye[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&le.aa.h.call(this)}}T(le,pe);var ye={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function bt(f,w,x,k,Z){this.listener=f,this.proxy=null,this.src=w,this.type=x,this.capture=!!k,this.ha=Z,this.key=++Fe,this.da=this.fa=!1}function lt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Qt(f){this.src=f,this.g={},this.h=0}Qt.prototype.add=function(f,w,x,k,Z){var ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);var we=yr(f,w,k,Z);return-1<we?(w=f[we],x||(w.fa=!1)):(w=new bt(w,this.src,ie,!!k,Z),w.fa=x,f.push(w)),w};function gr(f,w){var x=w.type;if(x in f.g){var k=f.g[x],Z=Array.prototype.indexOf.call(k,w,void 0),ie;(ie=0<=Z)&&Array.prototype.splice.call(k,Z,1),ie&&(lt(w),f.g[x].length==0&&(delete f.g[x],f.h--))}}function yr(f,w,x,k){for(var Z=0;Z<f.length;++Z){var ie=f[Z];if(!ie.da&&ie.listener==w&&ie.capture==!!x&&ie.ha==k)return Z}return-1}var Wt="closure_lm_"+(1e6*Math.random()|0),ti={};function Pr(f,w,x,k,Z){if(Array.isArray(w)){for(var ie=0;ie<w.length;ie++)Pr(f,w[ie],x,k,Z);return null}return x=ri(x),f&&f[rt]?f.K(w,x,p(k)?!!k.capture:!1,Z):dn(f,w,x,!1,k,Z)}function dn(f,w,x,k,Z,ie){if(!w)throw Error("Invalid event type");var we=p(Z)?!!Z.capture:!!Z,gt=Xn(f);if(gt||(f[Wt]=gt=new Qt(f)),x=gt.add(w,x,k,we,ie),x.proxy)return x;if(k=Ua(),x.proxy=k,k.src=f,k.listener=x,f.addEventListener)xe||(Z=we),Z===void 0&&(Z=!1),f.addEventListener(w.toString(),k,Z);else if(f.attachEvent)f.attachEvent(ni(w.toString()),k);else if(f.addListener&&f.removeListener)f.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ua(){function f(x){return w.call(f.src,f.listener,x)}const w=Yn;return f}function _i(f,w,x,k,Z){if(Array.isArray(w))for(var ie=0;ie<w.length;ie++)_i(f,w[ie],x,k,Z);else k=p(k)?!!k.capture:!!k,x=ri(x),f&&f[rt]?(f=f.i,w=String(w).toString(),w in f.g&&(ie=f.g[w],x=yr(ie,x,k,Z),-1<x&&(lt(ie[x]),Array.prototype.splice.call(ie,x,1),ie.length==0&&(delete f.g[w],f.h--)))):f&&(f=Xn(f))&&(w=f.g[w.toString()],f=-1,w&&(f=yr(w,x,k,Z)),(x=-1<f?w[f]:null)&&bi(x))}function bi(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[rt])gr(w.i,f);else{var x=f.type,k=f.proxy;w.removeEventListener?w.removeEventListener(x,k,f.capture):w.detachEvent?w.detachEvent(ni(x),k):w.addListener&&w.removeListener&&w.removeListener(k),(x=Xn(w))?(gr(x,f),x.h==0&&(x.src=null,w[Wt]=null)):lt(f)}}}function ni(f){return f in ti?ti[f]:ti[f]="on"+f}function Yn(f,w){if(f.da)f=!0;else{w=new le(w,this);var x=f.listener,k=f.ha||f.src;f.fa&&bi(f),f=x.call(k,w)}return f}function Xn(f){return f=f[Wt],f instanceof Qt?f:null}var wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ri(f){return typeof f=="function"?f:(f[wi]||(f[wi]=function(w){return f.handleEvent(w)}),f[wi])}function pt(){ge.call(this),this.i=new Qt(this),this.M=this,this.F=null}T(pt,ge),pt.prototype[rt]=!0,pt.prototype.removeEventListener=function(f,w,x,k){_i(this,f,w,x,k)};function Xe(f,w){var x,k=f.F;if(k)for(x=[];k;k=k.F)x.push(k);if(f=f.M,k=w.type||w,typeof w=="string")w=new pe(w,f);else if(w instanceof pe)w.target=w.target||f;else{var Z=w;w=new pe(k,f),P(w,Z)}if(Z=!0,x)for(var ie=x.length-1;0<=ie;ie--){var we=w.g=x[ie];Z=_n(we,k,!0,w)&&Z}if(we=w.g=f,Z=_n(we,k,!0,w)&&Z,Z=_n(we,k,!1,w)&&Z,x)for(ie=0;ie<x.length;ie++)we=w.g=x[ie],Z=_n(we,k,!1,w)&&Z}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var x=f.g[w],k=0;k<x.length;k++)lt(x[k]);delete f.g[w],f.h--}}this.F=null},pt.prototype.K=function(f,w,x,k){return this.i.add(String(f),w,!1,x,k)},pt.prototype.L=function(f,w,x,k){return this.i.add(String(f),w,!0,x,k)};function _n(f,w,x,k){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var Z=!0,ie=0;ie<w.length;++ie){var we=w[ie];if(we&&!we.da&&we.capture==x){var gt=we.listener,hn=we.ha||we.src;we.fa&&gr(f.i,we),Z=gt.call(hn,k)!==!1&&Z}}return Z&&!k.defaultPrevented}function qt(f,w,x){if(typeof f=="function")x&&(f=b(f,x));else if(f&&typeof f.handleEvent=="function")f=b(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:d.setTimeout(f,w||0)}function Yi(f){f.g=qt(()=>{f.g=null,f.i&&(f.i=!1,Yi(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class ar extends ge{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Yi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(f){ge.call(this),this.h=f,this.g={}}T(kr,ge);var Lr=[];function Oe(f){V(f.g,function(w,x){this.g.hasOwnProperty(x)&&bi(w)},f),f.g={}}kr.prototype.N=function(){kr.aa.N.call(this),Oe(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ne=d.JSON.stringify,We=d.JSON.parse,dt=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function zt(){}zt.prototype.h=null;function nn(f){return f.h||(f.h=f.i())}function Wn(){}var Rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Un(){pe.call(this,"d")}T(Un,pe);function Cn(){pe.call(this,"c")}T(Cn,pe);var Ht={},jr=null;function vr(){return jr=jr||new pt}Ht.La="serverreachability";function Ei(f){pe.call(this,Ht.La,f)}T(Ei,pe);function $(f){const w=vr();Xe(w,new Ei(w))}Ht.STAT_EVENT="statevent";function W(f,w){pe.call(this,Ht.STAT_EVENT,f),this.stat=w}T(W,pe);function ee(f){const w=vr();Xe(w,new W(w,f))}Ht.Ma="timingevent";function fe(f,w){pe.call(this,Ht.Ma,f),this.size=w}T(fe,pe);function ve(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},w)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function je(f,w,x,k,Z,ie){f.info(function(){if(f.g)if(ie)for(var we="",gt=ie.split("&"),hn=0;hn<gt.length;hn++){var yt=gt[hn].split("=");if(1<yt.length){var wn=yt[0];yt=yt[1];var mn=wn.split("_");we=2<=mn.length&&mn[1]=="type"?we+(wn+"="+yt+"&"):we+(wn+"=redacted&")}}else we=null;else we=ie;return"XMLHTTP REQ ("+k+") [attempt "+Z+"]: "+w+`
`+x+`
`+we})}function Re(f,w,x,k,Z,ie,we){f.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Z+"]: "+w+`
`+x+`
`+ie+" "+we})}function Me(f,w,x,k){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ve(f,x)+(k?" "+k:"")})}function Pe(f,w){f.info(function(){return"TIMEOUT: "+w})}Ae.prototype.info=function(){};function Ve(f,w){if(!f.g)return w;if(!w)return null;try{var x=JSON.parse(w);if(x){for(f=0;f<x.length;f++)if(Array.isArray(x[f])){var k=x[f];if(!(2>k.length)){var Z=k[1];if(Array.isArray(Z)&&!(1>Z.length)){var ie=Z[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var we=1;we<Z.length;we++)Z[we]=""}}}}return Ne(x)}catch{return w}}var De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ze={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},it;function xt(){}T(xt,zt),xt.prototype.g=function(){return new XMLHttpRequest},xt.prototype.i=function(){return{}},it=new xt;function wt(f,w,x,k){this.j=f,this.i=w,this.l=x,this.R=k||1,this.U=new kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var tt={},Vr={};function fn(f,w,x){f.L=1,f.v=Fa(wr(w)),f.m=x,f.P=!0,Zn(f,null)}function Zn(f,w){f.F=Date.now(),_r(f),f.A=wr(f.v);var x=f.A,k=f.R;Array.isArray(k)||(k=[String(k)]),wu(x.i,"t",k),f.C=0,x=f.j.J,f.h=new ft,f.g=Pd(f.j,x?w:null,!f.m),0<f.O&&(f.M=new ar(b(f.Y,f,f.g),f.O)),w=f.U,x=f.g,k=f.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(Lr[0]=Z.toString()),Z=Lr);for(var ie=0;ie<Z.length;ie++){var we=Pr(x,Z[ie],k||w.handleEvent,!1,w.h||w);if(!we)break;w.g[we.key]=we}w=f.H?I(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),$(),je(f.i,f.u,f.A,f.l,f.R,f.m)}wt.prototype.ca=function(f){f=f.target;const w=this.M;w&&qr(f)==3?w.j():this.Y(f)},wt.prototype.Y=function(f){try{if(f==this.g)e:{const mn=qr(this.g);var w=this.g.Ba();const rs=this.g.Z();if(!(3>mn)&&(mn!=3||this.g&&(this.h.h||this.g.oa()||Ad(this.g)))){this.J||mn!=4||w==7||(w==8||0>=rs?$(3):$(2)),zn(this);var x=this.g.Z();this.X=x;t:if(In(this)){var k=Ad(this.g);f="";var Z=k.length,ie=qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qe(this),Jn(this);var we="";break t}this.h.i=new d.TextDecoder}for(w=0;w<Z;w++)this.h.h=!0,f+=this.h.i.decode(k[w],{stream:!(ie&&w==Z-1)});k.length=0,this.h.g+=f,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=x==200,Re(this.i,this.u,this.A,this.l,this.R,mn,x),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,hn=this.g;if((gt=hn.g?hn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(gt)){var yt=gt;break t}}yt=null}if(x=yt)Me(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rn(this,x);else{this.o=!1,this.s=3,ee(12),Qe(this),Jn(this);break e}}if(this.P){x=!0;let On;for(;!this.J&&this.C<we.length;)if(On=Ti(this,we),On==Vr){mn==4&&(this.s=4,ee(14),x=!1),Me(this.i,this.l,null,"[Incomplete Response]");break}else if(On==tt){this.s=4,ee(15),Me(this.i,this.l,we,"[Invalid Chunk]"),x=!1;break}else Me(this.i,this.l,On,null),rn(this,On);if(In(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mn!=4||we.length!=0||this.h.h||(this.s=1,ee(16),x=!1),this.o=this.o&&x,!x)Me(this.i,this.l,we,"[Invalid Chunked Response]"),Qe(this),Jn(this);else if(0<we.length&&!this.W){this.W=!0;var wn=this.j;wn.g==this&&wn.ba&&!wn.M&&(wn.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),Xa(wn),wn.M=!0,ee(11))}}else Me(this.i,this.l,we,null),rn(this,we);mn==4&&Qe(this),this.o&&!this.J&&(mn==4?Od(this.j,this):(this.o=!1,_r(this)))}else Dm(this.g),x==400&&0<we.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Qe(this),Jn(this)}}}catch{}finally{}};function In(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Ti(f,w){var x=f.C,k=w.indexOf(`
`,x);return k==-1?Vr:(x=Number(w.substring(x,k)),isNaN(x)?tt:(k+=1,k+x>w.length?Vr:(w=w.slice(k,k+x),f.C=k+x,w)))}wt.prototype.cancel=function(){this.J=!0,Qe(this)};function _r(f){f.S=Date.now()+f.I,Ns(f,f.I)}function Ns(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=ve(b(f.ba,f),w)}function zn(f){f.B&&(d.clearTimeout(f.B),f.B=null)}wt.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Pe(this.i,this.A),this.L!=2&&($(),ee(17)),Qe(this),this.s=2,Jn(this)):Ns(this,this.S-f)};function Jn(f){f.j.G==0||f.J||Od(f.j,f)}function Qe(f){zn(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,Oe(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function rn(f,w){try{var x=f.j;if(x.G!=0&&(x.g==f||Ur(x.h,f))){if(!f.K&&Ur(x.h,f)&&x.G==3){try{var k=x.Da.g.parse(w)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Z=k;if(Z[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<f.F)Ko(x),$o(x);else break e;Au(x),ee(18)}}else x.za=Z[1],0<x.za-x.T&&37500>Z[2]&&x.F&&x.v==0&&!x.C&&(x.C=ve(b(x.Za,x),6e3));if(1>=kt(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else ns(x,11)}else if((f.K||x.g==f)&&Ko(x),!A(w))for(Z=x.Da.g.parse(w),w=0;w<Z.length;w++){let yt=Z[w];if(x.T=yt[0],yt=yt[1],x.G==2)if(yt[0]=="c"){x.K=yt[1],x.ia=yt[2];const wn=yt[3];wn!=null&&(x.la=wn,x.j.info("VER="+x.la));const mn=yt[4];mn!=null&&(x.Aa=mn,x.j.info("SVER="+x.Aa));const rs=yt[5];rs!=null&&typeof rs=="number"&&0<rs&&(k=1.5*rs,x.L=k,x.j.info("backChannelRequestTimeoutMs_="+k)),k=x;const On=f.g;if(On){const Oi=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oi){var ie=k.h;ie.g||Oi.indexOf("spdy")==-1&&Oi.indexOf("quic")==-1&&Oi.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Xi(ie,ie.h),ie.h=null))}if(k.D){const Cu=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;Cu&&(k.ya=Cu,Ot(k.I,k.D,Cu))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-f.F,x.j.info("Handshake RTT: "+x.R+"ms")),k=x;var we=f;if(k.qa=Dd(k,k.J?k.ia:null,k.W),we.K){Nn(k.h,we);var gt=we,hn=k.L;hn&&(gt.I=hn),gt.B&&(zn(gt),_r(gt)),k.g=we}else Id(k);0<x.i.length&&Qo(x)}else yt[0]!="stop"&&yt[0]!="close"||ns(x,7);else x.G==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?ns(x,7):xu(x):yt[0]!="noop"&&x.l&&x.l.ta(yt),x.v=0)}}$(4)}catch{}}var br=class{constructor(f,w){this.g=f,this.map=w}};function or(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xi(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function kt(f){return f.h?1:f.g?f.g.size:0}function Ur(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function Xi(f,w){f.g?f.g.add(w):f.h=w}function Nn(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}or.prototype.cancel=function(){if(this.i=yu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function yu(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const x of f.g.values())w=w.concat(x.D);return w}return M(f.i)}function Im(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var w=[],x=f.length,k=0;k<x;k++)w.push(f[k]);return w}w=[],x=0;for(k in f)w[x++]=f[k];return w}function zo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var w=[];f=f.length;for(var x=0;x<f;x++)w.push(x);return w}w=[],x=0;for(const k in f)w[x++]=k;return w}}}function vu(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var x=zo(f),k=Im(f),Z=k.length,ie=0;ie<Z;ie++)w.call(void 0,k[ie],x&&x[ie],f)}var za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nm(f,w){if(f){f=f.split("&");for(var x=0;x<f.length;x++){var k=f[x].indexOf("="),Z=null;if(0<=k){var ie=f[x].substring(0,k);Z=f[x].substring(k+1)}else ie=f[x];w(ie,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function sn(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof sn){this.h=f.h,Ba(this,f.j),this.o=f.o,this.g=f.g,Os(this,f.s),this.l=f.l;var w=f.i,x=new Zi;x.i=w.i,w.g&&(x.g=new Map(w.g),x.h=w.h),Wi(this,x),this.m=f.m}else f&&(w=String(f).match(za))?(this.h=!1,Ba(this,w[1]||"",!0),this.o=zr(w[2]||""),this.g=zr(w[3]||"",!0),Os(this,w[4]),this.l=zr(w[5]||"",!0),Wi(this,w[6]||"",!0),this.m=zr(w[7]||"")):(this.h=!1,this.i=new Zi(null,this.h))}sn.prototype.toString=function(){var f=[],w=this.j;w&&f.push(qa(w,_u,!0),":");var x=this.g;return(x||w=="file")&&(f.push("//"),(w=this.o)&&f.push(qa(w,_u,!0),"@"),f.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&f.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&f.push("/"),f.push(qa(x,x.charAt(0)=="/"?Om:bu,!0))),(x=this.i.toString())&&f.push("?",x),(x=this.m)&&f.push("#",qa(x,Bo)),f.join("")};function wr(f){return new sn(f)}function Ba(f,w,x){f.j=x?zr(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Os(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function Wi(f,w,x){w instanceof Zi?(f.i=w,xd(f.i,f.h)):(x||(w=qa(w,Mm)),f.i=new Zi(w,f.h))}function Ot(f,w,x){f.i.set(w,x)}function Fa(f){return Ot(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function zr(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function qa(f,w,x){return typeof f=="string"?(f=encodeURI(f).replace(w,Td),x&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Td(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var _u=/[#\/\?@]/g,bu=/[#\?:]/g,Om=/[#\?]/g,Mm=/[#\?@]/g,Bo=/#/g;function Zi(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Br(f){f.g||(f.g=new Map,f.h=0,f.i&&Nm(f.i,function(w,x){f.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}n=Zi.prototype,n.add=function(f,w){Br(this),this.i=null,f=Si(this,f);var x=this.g.get(f);return x||this.g.set(f,x=[]),x.push(w),this.h+=1,this};function Ji(f,w){Br(f),w=Si(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function es(f,w){return Br(f),w=Si(f,w),f.g.has(w)}n.forEach=function(f,w){Br(this),this.g.forEach(function(x,k){x.forEach(function(Z){f.call(w,Z,k,this)},this)},this)},n.na=function(){Br(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),x=[];for(let k=0;k<w.length;k++){const Z=f[k];for(let ie=0;ie<Z.length;ie++)x.push(w[k])}return x},n.V=function(f){Br(this);let w=[];if(typeof f=="string")es(this,f)&&(w=w.concat(this.g.get(Si(this,f))));else{f=Array.from(this.g.values());for(let x=0;x<f.length;x++)w=w.concat(f[x])}return w},n.set=function(f,w){return Br(this),this.i=null,f=Si(this,f),es(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},n.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function wu(f,w,x){Ji(f,w),0<x.length&&(f.i=null,f.g.set(Si(f,w),M(x)),f.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var x=0;x<w.length;x++){var k=w[x];const ie=encodeURIComponent(String(k)),we=this.V(k);for(k=0;k<we.length;k++){var Z=ie;we[k]!==""&&(Z+="="+encodeURIComponent(String(we[k]))),f.push(Z)}}return this.i=f.join("&")};function Si(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function xd(f,w){w&&!f.j&&(Br(f),f.i=null,f.g.forEach(function(x,k){var Z=k.toLowerCase();k!=Z&&(Ji(this,k),wu(this,Z,x))},f)),f.j=w}function Ha(f,w){const x=new Ae;if(d.Image){const k=new Image;k.onload=E(Fr,x,"TestLoadImage: loaded",!0,w,k),k.onerror=E(Fr,x,"TestLoadImage: error",!1,w,k),k.onabort=E(Fr,x,"TestLoadImage: abort",!1,w,k),k.ontimeout=E(Fr,x,"TestLoadImage: timeout",!1,w,k),d.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=f}else w(!1)}function ii(f,w){const x=new Ae,k=new AbortController,Z=setTimeout(()=>{k.abort(),Fr(x,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:k.signal}).then(ie=>{clearTimeout(Z),ie.ok?Fr(x,"TestPingServer: ok",!0,w):Fr(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Z),Fr(x,"TestPingServer: error",!1,w)})}function Fr(f,w,x,k,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),k(x)}catch{}}function Ga(){this.g=new dt}function Ai(f,w,x){const k=x||"";try{vu(f,function(Z,ie){let we=Z;p(Z)&&(we=Ne(Z)),w.push(k+ie+"="+encodeURIComponent(we))})}catch(Z){throw w.push(k+"type="+encodeURIComponent("_badmap")),Z}}function Ms(f){this.l=f.Ub||null,this.j=f.eb||!1}T(Ms,zt),Ms.prototype.g=function(){return new ts(this.l,this.j)},Ms.prototype.i=function(f){return function(){return f}}({});function ts(f,w){pt.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(ts,pt),n=ts.prototype,n.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,Ci(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||d).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ri(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eu(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eu(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?Ri(this):Ci(this),this.readyState==3&&Eu(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Ri(this))},n.Qa=function(f){this.g&&(this.response=f,Ri(this))},n.ga=function(){this.g&&Ri(this)};function Ri(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ci(f)}n.setRequestHeader=function(f,w){this.u.append(f,w)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,f.push(x[0]+": "+x[1]),x=w.next();return f.join(`\r
`)};function Ci(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Tu(f){let w="";return V(f,function(x,k){w+=k,w+=":",w+=x,w+=`\r
`}),w}function bn(f,w,x){e:{for(k in x){var k=!1;break e}k=!0}k||(x=Tu(x),typeof f=="string"?x!=null&&encodeURIComponent(String(x)):Ot(f,w,x))}function St(f){pt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(St,pt);var Fo=/^https?$/i,$a=["POST","PUT"];n=St.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,w,x,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():it.g(),this.v=this.o?nn(this.o):nn(it),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(ie){Sd(this,ie);return}if(f=x||"",x=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Z in k)x.set(Z,k[Z]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ie of k.keys())x.set(ie,k.get(ie));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(x.keys()).find(ie=>ie.toLowerCase()=="content-type"),Z=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call($a,w,void 0))||k||Z||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,we]of x)this.g.setRequestHeader(ie,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qa(this),this.u=!0,this.g.send(f),this.u=!1}catch(ie){Sd(this,ie)}};function Sd(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,qo(f),Ii(f)}function qo(f){f.A||(f.A=!0,Xe(f,"complete"),Xe(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Xe(this,"complete"),Xe(this,"abort"),Ii(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),St.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ho(this):this.bb())},n.bb=function(){Ho(this)};function Ho(f){if(f.h&&typeof c<"u"&&(!f.v[1]||qr(f)!=4||f.Z()!=2)){if(f.u&&qr(f)==4)qt(f.Ea,0,f);else if(Xe(f,"readystatechange"),qr(f)==4){f.h=!1;try{const we=f.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var x;if(!(x=w)){var k;if(k=we===0){var Z=String(f.D).match(za)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),k=!Fo.test(Z?Z.toLowerCase():"")}x=k}if(x)Xe(f,"complete"),Xe(f,"success");else{f.m=6;try{var ie=2<qr(f)?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.Z()+"]",qo(f)}}finally{Ii(f)}}}}function Ii(f,w){if(f.g){Qa(f);const x=f.g,k=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||Xe(f,"ready");try{x.onreadystatechange=k}catch{}}}function Qa(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function qr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<qr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),We(w)}};function Ad(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Dm(f){const w={};f=(f.g&&2<=qr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<f.length;k++){if(A(f[k]))continue;var x=z(f[k]);const Z=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ie=w[Z]||[];w[Z]=ie,ie.push(x)}U(w,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ka(f,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[f]||w}function Go(f){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ka("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ka("baseRetryDelayMs",5e3,f),this.cb=Ka("retryDelaySeedMs",1e4,f),this.Wa=Ka("forwardChannelMaxRetries",2,f),this.wa=Ka("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new or(f&&f.concurrentRequestLimit),this.Da=new Ga,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Go.prototype,n.la=8,n.G=1,n.connect=function(f,w,x,k){ee(0),this.W=f,this.H=w||{},x&&k!==void 0&&(this.H.OSID=x,this.H.OAID=k),this.F=this.X,this.I=Dd(this,null,this.W),Qo(this)};function xu(f){if(Rd(f),f.G==3){var w=f.U++,x=wr(f.I);if(Ot(x,"SID",f.K),Ot(x,"RID",w),Ot(x,"TYPE","terminate"),Ya(f,x),w=new wt(f,f.j,w),w.L=2,w.v=Fa(wr(x)),x=!1,d.navigator&&d.navigator.sendBeacon)try{x=d.navigator.sendBeacon(w.v.toString(),"")}catch{}!x&&d.Image&&(new Image().src=w.v,x=!0),x||(w.g=Pd(w.j,null),w.g.ea(w.v)),w.F=Date.now(),_r(w)}Md(f)}function $o(f){f.g&&(Xa(f),f.g.cancel(),f.g=null)}function Rd(f){$o(f),f.u&&(d.clearTimeout(f.u),f.u=null),Ko(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Qo(f){if(!xi(f.h)&&!f.s){f.s=!0;var w=f.Ga;oe||q(),ae||(oe(),ae=!0),_e.add(w,f),f.B=0}}function Pm(f,w){return kt(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=ve(b(f.Ga,f,w),Ru(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Z=new wt(this,this.j,f);let ie=this.o;if(this.S&&(ie?(ie=I(ie),P(ie,this.S)):ie=this.S),this.m!==null||this.O||(Z.H=ie,ie=null),this.P)e:{for(var w=0,x=0;x<this.i.length;x++){t:{var k=this.i[x];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(w+=k,4096<w){w=x;break e}if(w===4096||x===this.i.length-1){w=x+1;break e}}w=1e3}else w=1e3;w=Cd(this,Z,w),x=wr(this.I),Ot(x,"RID",f),Ot(x,"CVER",22),this.D&&Ot(x,"X-HTTP-Session-Id",this.D),Ya(this,x),ie&&(this.O?w="headers="+encodeURIComponent(String(Tu(ie)))+"&"+w:this.m&&bn(x,this.m,ie)),Xi(this.h,Z),this.Ua&&Ot(x,"TYPE","init"),this.P?(Ot(x,"$req",w),Ot(x,"SID","null"),Z.T=!0,fn(Z,x,null)):fn(Z,x,w),this.G=2}}else this.G==3&&(f?Su(this,f):this.i.length==0||xi(this.h)||Su(this))};function Su(f,w){var x;w?x=w.l:x=f.U++;const k=wr(f.I);Ot(k,"SID",f.K),Ot(k,"RID",x),Ot(k,"AID",f.T),Ya(f,k),f.m&&f.o&&bn(k,f.m,f.o),x=new wt(f,f.j,x,f.B+1),f.m===null&&(x.H=f.o),w&&(f.i=w.D.concat(f.i)),w=Cd(f,x,1e3),x.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Xi(f.h,x),fn(x,k,w)}function Ya(f,w){f.H&&V(f.H,function(x,k){Ot(w,k,x)}),f.l&&vu({},function(x,k){Ot(w,k,x)})}function Cd(f,w,x){x=Math.min(f.i.length,x);var k=f.l?b(f.l.Na,f.l,f):null;e:{var Z=f.i;let ie=-1;for(;;){const we=["count="+x];ie==-1?0<x?(ie=Z[0].g,we.push("ofs="+ie)):ie=0:we.push("ofs="+ie);let gt=!0;for(let hn=0;hn<x;hn++){let yt=Z[hn].g;const wn=Z[hn].map;if(yt-=ie,0>yt)ie=Math.max(0,Z[hn].g-100),gt=!1;else try{Ai(wn,we,"req"+yt+"_")}catch{k&&k(wn)}}if(gt){k=we.join("&");break e}}}return f=f.i.splice(0,x),w.D=f,k}function Id(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;oe||q(),ae||(oe(),ae=!0),_e.add(w,f),f.v=0}}function Au(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=ve(b(f.Fa,f),Ru(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Nd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ve(b(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),$o(this),Nd(this))};function Xa(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Nd(f){f.g=new wt(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=wr(f.qa);Ot(w,"RID","rpc"),Ot(w,"SID",f.K),Ot(w,"AID",f.T),Ot(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ot(w,"TO",f.ja),Ot(w,"TYPE","xmlhttp"),Ya(f,w),f.m&&f.o&&bn(w,f.m,f.o),f.L&&(f.g.I=f.L);var x=f.g;f=f.ia,x.L=1,x.v=Fa(wr(w)),x.m=null,x.P=!0,Zn(x,f)}n.Za=function(){this.C!=null&&(this.C=null,$o(this),Au(this),ee(19))};function Ko(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Od(f,w){var x=null;if(f.g==w){Ko(f),Xa(f),f.g=null;var k=2}else if(Ur(f.h,w))x=w.D,Nn(f.h,w),k=1;else return;if(f.G!=0){if(w.o)if(k==1){x=w.m?w.m.length:0,w=Date.now()-w.F;var Z=f.B;k=vr(),Xe(k,new fe(k,x)),Qo(f)}else Id(f);else if(Z=w.s,Z==3||Z==0&&0<w.X||!(k==1&&Pm(f,w)||k==2&&Au(f)))switch(x&&0<x.length&&(w=f.h,w.i=w.i.concat(x)),Z){case 1:ns(f,5);break;case 4:ns(f,10);break;case 3:ns(f,6);break;default:ns(f,2)}}}function Ru(f,w){let x=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(x*=2),x*w}function ns(f,w){if(f.j.info("Error code "+w),w==2){var x=b(f.fb,f),k=f.Xa;const Z=!k;k=new sn(k||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ba(k,"https"),Fa(k),Z?Ha(k.toString(),x):ii(k.toString(),x)}else ee(2);f.G=0,f.l&&f.l.sa(w),Md(f),Rd(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Md(f){if(f.G=0,f.ka=[],f.l){const w=yu(f.h);(w.length!=0||f.i.length!=0)&&(N(f.ka,w),N(f.ka,f.i),f.h.i.length=0,M(f.i),f.i.length=0),f.l.ra()}}function Dd(f,w,x){var k=x instanceof sn?wr(x):new sn(x);if(k.g!="")w&&(k.g=w+"."+k.g),Os(k,k.s);else{var Z=d.location;k=Z.protocol,w=w?w+"."+Z.hostname:Z.hostname,Z=+Z.port;var ie=new sn(null);k&&Ba(ie,k),w&&(ie.g=w),Z&&Os(ie,Z),x&&(ie.l=x),k=ie}return x=f.D,w=f.ya,x&&w&&Ot(k,x,w),Ot(k,"VER",f.la),Ya(f,k),k}function Pd(f,w,x){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new St(new Ms({eb:x})):new St(f.pa),w.Ha(f.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kd(){}n=kd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Yo(){}Yo.prototype.g=function(f,w){return new er(f,w)};function er(f,w){pt.call(this),this.g=new Go(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!A(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!A(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Ni(this)}T(er,pt),er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){xu(this.g)},er.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var x={};x.__data__=f,f=x}else this.u&&(x={},x.__data__=Ne(f),f=x);w.i.push(new br(w.Ya++,f)),w.G==3&&Qo(w)},er.prototype.N=function(){this.g.l=null,delete this.j,xu(this.g),delete this.g,er.aa.N.call(this)};function Ld(f){Un.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const x in w){f=x;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}T(Ld,Un);function jd(){Cn.call(this),this.status=1}T(jd,Cn);function Ni(f){this.g=f}T(Ni,kd),Ni.prototype.ua=function(){Xe(this.g,"a")},Ni.prototype.ta=function(f){Xe(this.g,new Ld(f))},Ni.prototype.sa=function(f){Xe(this.g,new jd)},Ni.prototype.ra=function(){Xe(this.g,"b")},Yo.prototype.createWebChannel=Yo.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,S1=function(){return new Yo},x1=function(){return vr()},T1=Ht,wy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,sh=De,ze.COMPLETE="complete",E1=ze,Wn.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Ac=Wn,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,w1=St}).apply(typeof qf<"u"?qf:typeof self<"u"?self:typeof window<"u"?window:{});const OE="@firebase/firestore",ME="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new bv("@firebase/firestore");function Sl(){return Co.logLevel}function Se(n,...e){if(Co.logLevel<=ut.DEBUG){const t=e.map(Tv);Co.debug(`Firestore (${du}): ${n}`,...t)}}function xs(n,...e){if(Co.logLevel<=ut.ERROR){const t=e.map(Tv);Co.error(`Firestore (${du}): ${n}`,...t)}}function tu(n,...e){if(Co.logLevel<=ut.WARN){const t=e.map(Tv);Co.warn(`Firestore (${du}): ${n}`,...t)}}function Tv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,A1(n,r,t)}function A1(n,e,t){let r=`FIRESTORE (${du}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw xs(r),new Error(r)}function Ct(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||A1(e,a,r)}function Ye(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Cs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gn.UNAUTHENTICATED))}shutdown(){}}class rM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iM{constructor(e){this.t=e,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ct(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Es,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},d=h=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Es)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string",31837,{l:r}),new R1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new Gn(e)}}class sM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new sM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ct(this.o===void 0,3512);const r=o=>{o.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new DE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new DE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=lM(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function et(n,e){return n<e?-1:n>e?1:0}function Ey(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return et(r,a);{const o=C1(),c=uM(o.encode(PE(n,t)),o.encode(PE(e,t)));return c!==0?c:et(r,a)}}t+=r>65535?2:1}return et(n.length,e.length)}function PE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function uM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return et(n[t],e[t]);return et(n.length,e.length)}function nu(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=-62135596800,LE=1e6;class yn{static now(){return yn.fromMillis(Date.now())}static fromDate(e){return yn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*LE);return new yn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<kE)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LE}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-kE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new yn(0,0))}static max(){return new Ke(new yn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="__name__";class ji{constructor(e,t,r){t===void 0?t=0:t>e.length&&He(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&He(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=ji.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return et(e.length,t.length)}static compareSegments(e,t){const r=ji.isNumericId(e),a=ji.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?ji.extractNumericId(e).compare(ji.extractNumericId(t)):Ey(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ta.fromString(e.substring(4,e.length-2))}}class Ut extends ji{construct(e,t,r){return new Ut(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Ut(t)}static emptyPath(){return new Ut([])}}const cM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends ji{construct(e,t,r){return new jn(e,t,r)}static isValidIdentifier(e){return cM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jE}static keyField(){return new jn([jE])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Te(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Te(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(o(),a++)}if(o(),c)throw new Te(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(t)}static emptyPath(){return new jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Ut.fromString(e))}static fromName(e){return new Le(Ut.fromString(e).popFirst(5))}static empty(){return new Le(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=-1;function dM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ke.fromTimestamp(r===1e9?new yn(t+1,0):new yn(t,r));return new Ra(a,Le.empty(),e)}function fM(n){return new Ra(n.readTime,n.key,Fc)}class Ra{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ra(Ke.min(),Le.empty(),Fc)}static max(){return new Ra(Ke.max(),Le.empty(),Fc)}}function hM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(n.documentKey,e.documentKey),t!==0?t:et(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==mM)throw n;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,r)=>{t(e)})}static reject(e){return new me((t,r)=>{r(e)})}static waitFor(e){return new me((t,r)=>{let a=0,o=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++o,c&&o===a&&t()},h=>r(h))}),c=!0,o===a&&t()})}static or(e){let t=me.resolve(!1);for(const r of e)t=t.next(a=>a?me.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new me((r,a)=>{const o=e.length,c=new Array(o);let d=0;for(let h=0;h<o;h++){const p=h;t(e[p]).next(g=>{c[p]=g,++d,d===o&&r(c)},g=>a(g))}})}static doWhile(e,t){return new me((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function gM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}em.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=-1;function tm(n){return n==null}function Sh(n){return n===0&&1/n==-1/0}function yM(n){return typeof n=="number"&&Number.isInteger(n)&&!Sh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="";function vM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=VE(e)),e=_M(n.get(t),e);return VE(e)}function _M(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case N1:t+="";break;default:t+=o}}return t}function VE(n){return n+N1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ka(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function O1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,t){this.comparator=e,this.root=t||kn.EMPTY}insert(e,t){return new $t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hf(this.root,e,this.comparator,!0)}}class Hf{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??kn.RED,this.left=a??kn.EMPTY,this.right=o??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new kn(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return kn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new kn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zE(this.data.getIterator())}getIteratorFrom(e){return new zE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vn(this.comparator);return t.data=e,t}}class zE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new Dr([])}unionWith(e){let t=new vn(jn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Dr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new M1("Invalid base64 string: "+o):o}}(e);return new Vn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o}(e);return new Vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const bM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(n){if(Ct(!!n,39018),typeof n=="string"){let e=0;const t=bM.exec(n);if(Ct(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:en(n.seconds),nanos:en(n.nanos)}}function en(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ia(n){return typeof n=="string"?Vn.fromBase64String(n):Vn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="server_timestamp",P1="__type__",k1="__previous_value__",L1="__local_write_time__";function nm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[P1])===null||t===void 0?void 0:t.stringValue)===D1}function rm(n){const e=n.mapValue.fields[k1];return nm(e)?rm(e):e}function qc(n){const e=Ca(n.mapValue.fields[L1].timestampValue);return new yn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,t,r,a,o,c,d,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p}}const Ah="(default)";class Hc{constructor(e,t){this.projectId=e,this.database=t||Ah}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database===Ah}isEqual(e){return e instanceof Hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="__type__",EM="__max__",Gf={mapValue:{}},V1="__vector__",Rh="value";function Na(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nm(n)?4:xM(n)?9007199254740991:TM(n)?10:11:He(28295,{value:n})}function Qi(n,e){if(n===e)return!0;const t=Na(n);if(t!==Na(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qc(n).isEqual(qc(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Ca(a.timestampValue),d=Ca(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return Ia(a.bytesValue).isEqual(Ia(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return en(a.geoPointValue.latitude)===en(o.geoPointValue.latitude)&&en(a.geoPointValue.longitude)===en(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return en(a.integerValue)===en(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=en(a.doubleValue),d=en(o.doubleValue);return c===d?Sh(c)===Sh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return nu(n.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return function(a,o){const c=a.mapValue.fields||{},d=o.mapValue.fields||{};if(UE(c)!==UE(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!Qi(c[h],d[h])))return!1;return!0}(n,e);default:return He(52216,{left:n})}}function Gc(n,e){return(n.values||[]).find(t=>Qi(t,e))!==void 0}function ru(n,e){if(n===e)return 0;const t=Na(n),r=Na(e);if(t!==r)return et(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return et(n.booleanValue,e.booleanValue);case 2:return function(o,c){const d=en(o.integerValue||o.doubleValue),h=en(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(n,e);case 3:return BE(n.timestampValue,e.timestampValue);case 4:return BE(qc(n),qc(e));case 5:return Ey(n.stringValue,e.stringValue);case 6:return function(o,c){const d=Ia(o),h=Ia(c);return d.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),h=c.split("/");for(let p=0;p<d.length&&p<h.length;p++){const g=et(d[p],h[p]);if(g!==0)return g}return et(d.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const d=et(en(o.latitude),en(c.latitude));return d!==0?d:et(en(o.longitude),en(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return FE(n.arrayValue,e.arrayValue);case 10:return function(o,c){var d,h,p,g;const _=o.fields||{},b=c.fields||{},E=(d=_[Rh])===null||d===void 0?void 0:d.arrayValue,T=(h=b[Rh])===null||h===void 0?void 0:h.arrayValue,M=et(((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0,((g=T==null?void 0:T.values)===null||g===void 0?void 0:g.length)||0);return M!==0?M:FE(E,T)}(n.mapValue,e.mapValue);case 11:return function(o,c){if(o===Gf.mapValue&&c===Gf.mapValue)return 0;if(o===Gf.mapValue)return 1;if(c===Gf.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),p=c.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const b=Ey(h[_],g[_]);if(b!==0)return b;const E=ru(d[h[_]],p[g[_]]);if(E!==0)return E}return et(h.length,g.length)}(n.mapValue,e.mapValue);default:throw He(23264,{Pe:t})}}function BE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return et(n,e);const t=Ca(n),r=Ca(e),a=et(t.seconds,r.seconds);return a!==0?a:et(t.nanos,r.nanos)}function FE(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=ru(t[a],r[a]);if(o)return o}return et(t.length,r.length)}function iu(n){return Ty(n)}function Ty(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ca(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ia(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Le.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=Ty(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${Ty(t.fields[c])}`;return a+"}"}(n.mapValue):He(61005,{value:n})}function ah(n){switch(Na(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rm(n);return e?16+ah(e):16;case 5:return 2*n.stringValue.length;case 6:return Ia(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+ah(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return ka(r.fields,(o,c)=>{a+=o.length+ah(c)}),a}(n.mapValue);default:throw He(13486,{value:n})}}function Ch(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function xy(n){return!!n&&"integerValue"in n}function Sv(n){return!!n&&"arrayValue"in n}function qE(n){return!!n&&"nullValue"in n}function HE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function oh(n){return!!n&&"mapValue"in n}function TM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[j1])===null||t===void 0?void 0:t.stringValue)===V1}function Pc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ka(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Pc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function xM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===EM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!oh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pc(t)}setAll(e){let t=jn.emptyPath(),r={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,r,a),r={},a=[],t=d.popLast()}c?r[d.lastSegment()]=Pc(c):a.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());oh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];oh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ka(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new mr(Pc(this.value))}}function U1(n){const e=[];return ka(n.fields,(t,r)=>{const a=new jn([t]);if(oh(r)){const o=U1(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)}),new Dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,t,r,a,o,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new $n(e,0,Ke.min(),Ke.min(),Ke.min(),mr.empty(),0)}static newFoundDocument(e,t,r,a){return new $n(e,1,t,Ke.min(),r,a,0)}static newNoDocument(e,t){return new $n(e,2,t,Ke.min(),Ke.min(),mr.empty(),0)}static newUnknownDocument(e,t){return new $n(e,3,t,Ke.min(),Ke.min(),mr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,t){this.position=e,this.inclusive=t}}function GE(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?r=Le.comparator(Le.fromName(c.referenceValue),t.key):r=ru(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function $E(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t="asc"){this.field=e,this.dir=t}}function SM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{}class un extends z1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new RM(e,t,r):t==="array-contains"?new NM(e,r):t==="in"?new OM(e,r):t==="not-in"?new MM(e,r):t==="array-contains-any"?new DM(e,r):new un(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new CM(e,r):new IM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ru(t,this.value)):t!==null&&Na(this.value)===Na(t)&&this.matchesComparison(ru(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends z1{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new gi(e,t)}matches(e){return B1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function B1(n){return n.op==="and"}function F1(n){return AM(n)&&B1(n)}function AM(n){for(const e of n.filters)if(e instanceof gi)return!1;return!0}function Sy(n){if(n instanceof un)return n.field.canonicalString()+n.op.toString()+iu(n.value);if(F1(n))return n.filters.map(e=>Sy(e)).join(",");{const e=n.filters.map(t=>Sy(t)).join(",");return`${n.op}(${e})`}}function q1(n,e){return n instanceof un?function(r,a){return a instanceof un&&r.op===a.op&&r.field.isEqual(a.field)&&Qi(r.value,a.value)}(n,e):n instanceof gi?function(r,a){return a instanceof gi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,c,d)=>o&&q1(c,a.filters[d]),!0):!1}(n,e):void He(19439)}function H1(n){return n instanceof un?function(t){return`${t.field.canonicalString()} ${t.op} ${iu(t.value)}`}(n):n instanceof gi?function(t){return t.op.toString()+" {"+t.getFilters().map(H1).join(" ,")+"}"}(n):"Filter"}class RM extends un{constructor(e,t,r){super(e,t,r),this.key=Le.fromName(r.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class CM extends un{constructor(e,t){super(e,"in",t),this.keys=G1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class IM extends un{constructor(e,t){super(e,"not-in",t),this.keys=G1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function G1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Le.fromName(r.referenceValue))}class NM extends un{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sv(t)&&Gc(t.arrayValue,this.value)}}class OM extends un{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gc(this.value.arrayValue,t)}}class MM extends un{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gc(this.value.arrayValue,t)}}class DM extends un{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Gc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,t=null,r=[],a=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=d,this.Ie=null}}function QE(n,e=null,t=[],r=[],a=null,o=null,c=null){return new PM(n,e,t,r,a,o,c)}function Av(n){const e=Ye(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Sy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),tm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>iu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>iu(r)).join(",")),e.Ie=t}return e.Ie}function Rv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!SM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!q1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$E(n.startAt,e.startAt)&&$E(n.endAt,e.endAt)}function Ay(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t=null,r=[],a=[],o=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function kM(n,e,t,r,a,o,c,d){return new ko(n,e,t,r,a,o,c,d)}function im(n){return new ko(n)}function KE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Cv(n){return n.collectionGroup!==null}function Pl(n){const e=Ye(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new vn(jn.comparator);return c.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new $c(o,r))}),t.has(jn.keyField().canonicalString())||e.Ee.push(new $c(jn.keyField(),r))}return e.Ee}function Fi(n){const e=Ye(n);return e.de||(e.de=LM(e,Pl(n))),e.de}function LM(n,e){if(n.limitType==="F")return QE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new $c(a.field,o)});const t=n.endAt?new su(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new su(n.startAt.position,n.startAt.inclusive):null;return QE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ry(n,e){const t=n.filters.concat([e]);return new ko(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ih(n,e,t){return new ko(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sm(n,e){return Rv(Fi(n),Fi(e))&&n.limitType===e.limitType}function $1(n){return`${Av(Fi(n))}|lt:${n.limitType}`}function Al(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>H1(a)).join(", ")}]`),tm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>iu(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>iu(a)).join(",")),`Target(${r})`}(Fi(n))}; limitType=${n.limitType})`}function am(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of Pl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(c,d,h){const p=GE(c,d,h);return c.inclusive?p<=0:p<0}(r.startAt,Pl(r),a)||r.endAt&&!function(c,d,h){const p=GE(c,d,h);return c.inclusive?p>=0:p>0}(r.endAt,Pl(r),a))}(n,e)}function jM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Q1(n){return(e,t)=>{let r=!1;for(const a of Pl(n)){const o=VM(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function VM(n,e,t){const r=n.field.isKeyField()?Le.comparator(e.key,t.key):function(o,c,d){const h=c.data.field(o),p=d.data.field(o);return h!==null&&p!==null?ru(h,p):He(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return O1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=new $t(Le.comparator);function Ss(){return UM}const K1=new $t(Le.comparator);function Rc(...n){let e=K1;for(const t of n)e=e.insert(t.key,t);return e}function Y1(n){let e=K1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function go(){return kc()}function X1(){return kc()}function kc(){return new Lo(n=>n.toString(),(n,e)=>n.isEqual(e))}const zM=new $t(Le.comparator),BM=new vn(Le.comparator);function ct(...n){let e=BM;for(const t of n)e=e.add(t);return e}const FM=new vn(et);function qM(){return FM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function W1(n){return{integerValue:""+n}}function HM(n,e){return yM(e)?W1(e):Iv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this._=void 0}}function GM(n,e,t){return n instanceof Qc?function(a,o){const c={fields:{[P1]:{stringValue:D1},[L1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&nm(o)&&(o=rm(o)),o&&(c.fields[k1]=o),{mapValue:c}}(t,e):n instanceof Kc?J1(n,e):n instanceof Yc?eS(n,e):function(a,o){const c=Z1(a,o),d=YE(c)+YE(a.Re);return xy(c)&&xy(a.Re)?W1(d):Iv(a.serializer,d)}(n,e)}function $M(n,e,t){return n instanceof Kc?J1(n,e):n instanceof Yc?eS(n,e):t}function Z1(n,e){return n instanceof Nh?function(r){return xy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Qc extends om{}class Kc extends om{constructor(e){super(),this.elements=e}}function J1(n,e){const t=tS(e);for(const r of n.elements)t.some(a=>Qi(a,r))||t.push(r);return{arrayValue:{values:t}}}class Yc extends om{constructor(e){super(),this.elements=e}}function eS(n,e){let t=tS(e);for(const r of n.elements)t=t.filter(a=>!Qi(a,r));return{arrayValue:{values:t}}}class Nh extends om{constructor(e,t){super(),this.serializer=e,this.Re=t}}function YE(n){return en(n.integerValue||n.doubleValue)}function tS(n){return Sv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,t){this.field=e,this.transform=t}}function KM(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof Kc&&a instanceof Kc||r instanceof Yc&&a instanceof Yc?nu(r.elements,a.elements,Qi):r instanceof Nh&&a instanceof Nh?Qi(r.Re,a.Re):r instanceof Qc&&a instanceof Qc}(n.transform,e.transform)}class YM{constructor(e,t){this.version=e,this.transformResults=t}}class Jr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jr}static exists(e){return new Jr(void 0,e)}static updateTime(e){return new Jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}let lm=class{};function nS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Nv(n.key,Jr.none()):new fd(n.key,n.data,Jr.none());{const t=n.data,r=mr.empty();let a=new vn(jn.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new La(n.key,r,new Dr(a.toArray()),Jr.none())}}function XM(n,e,t){n instanceof fd?function(a,o,c){const d=a.value.clone(),h=WE(a.fieldTransforms,o,c.transformResults);d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof La?function(a,o,c){if(!lh(a.precondition,o))return void o.convertToUnknownDocument(c.version);const d=WE(a.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(rS(a)),h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Lc(n,e,t,r){return n instanceof fd?function(o,c,d,h){if(!lh(o.precondition,c))return d;const p=o.value.clone(),g=ZE(o.fieldTransforms,h,c);return p.setAll(g),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof La?function(o,c,d,h){if(!lh(o.precondition,c))return d;const p=ZE(o.fieldTransforms,h,c),g=c.data;return g.setAll(rS(o)),g.setAll(p),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,c,d){return lh(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function WM(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=Z1(r.transform,a||null);o!=null&&(t===null&&(t=mr.empty()),t.set(r.field,o))}return t||null}function XE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&nu(r,a,(o,c)=>KM(o,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fd extends lm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class La extends lm{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function WE(n,e,t){const r=new Map;Ct(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,d=e.data.field(o.field);r.set(o.field,$M(c,d,t[a]))}return r}function ZE(n,e,t){const r=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);r.set(a.field,GM(o,c,e))}return r}class Nv extends lm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZM extends lm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&XM(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Lc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Lc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=X1();return this.mutations.forEach(a=>{const o=e.get(a.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=t.has(a.key)?null:d;const h=nS(c,d);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ct())}isEqual(e){return this.batchId===e.batchId&&nu(this.mutations,e.mutations,(t,r)=>XE(t,r))&&nu(this.baseMutations,e.baseMutations,(t,r)=>XE(t,r))}}class Ov{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Ct(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return zM}();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new Ov(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,_t;function nD(n){switch(n){case ce.OK:return He(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return He(15467,{code:n})}}function iS(n){if(n===void 0)return xs("GRPC error has no .code"),ce.UNKNOWN;switch(n){case ln.OK:return ce.OK;case ln.CANCELLED:return ce.CANCELLED;case ln.UNKNOWN:return ce.UNKNOWN;case ln.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case ln.INTERNAL:return ce.INTERNAL;case ln.UNAVAILABLE:return ce.UNAVAILABLE;case ln.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case ln.NOT_FOUND:return ce.NOT_FOUND;case ln.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case ln.ABORTED:return ce.ABORTED;case ln.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case ln.DATA_LOSS:return ce.DATA_LOSS;default:return He(39323,{code:n})}}(_t=ln||(ln={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new Ta([4294967295,4294967295],0);function JE(n){const e=C1().encode(n),t=new b1;return t.update(e),new Uint8Array(t.digest())}function eT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ta([t,r],0),new Ta([a,o],0)]}class Mv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Cc(`Invalid padding: ${t}`);if(r<0)throw new Cc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Cc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ta.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(Ta.fromNumber(r)));return a.compare(rD)===1&&(a=new Ta([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=JE(e),[r,a]=eT(t);for(let o=0;o<this.hashCount;o++){const c=this.we(r,a,o);if(!this.be(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Mv(o,a,t);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=JE(e),[r,a]=eT(t);for(let o=0;o<this.hashCount;o++){const c=this.we(r,a,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,hd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new um(Ke.min(),a,new $t(et),Ss(),ct())}}class hd{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new hd(r,t,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class sS{constructor(e,t){this.targetId=e,this.Ce=t}}class aS{constructor(e,t,r=Vn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class tT{constructor(){this.Fe=0,this.Me=nT(),this.xe=Vn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ct(),t=ct(),r=ct();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:He(38017,{changeType:o})}}),new hd(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=nT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ct(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class iD{constructor(e){this.ze=e,this.je=new Map,this.He=Ss(),this.Je=$f(),this.Ye=$f(),this.Ze=new $t(et)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:He(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(Ay(o))if(r===0){const c=new Le(o.path);this.tt(t,c,$n.newNoDocument(c,Ke.min()))}else Ct(r===1,20013,{expectedCount:r});else{const c=this.ut(t);if(c!==r){const d=this.ct(e),h=d?this.lt(d,e,c):1;if(h!==0){this.st(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let c,d;try{c=Ia(r).toUint8Array()}catch(h){if(h instanceof M1)return tu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Mv(c,a,o)}catch(h){return tu(h instanceof Cc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.pe===0?null:d}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,c)=>{const d=this._t(c);if(d){if(o.current&&Ay(d.target)){const h=new Le(d.target.path);this.Et(h).has(c)||this.dt(c,h)||this.tt(c,h,$n.newNoDocument(h,e))}o.Le&&(t.set(c,o.qe()),o.Qe())}});let r=ct();this.Ye.forEach((o,c)=>{let d=!0;c.forEachWhile(h=>{const p=this._t(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.He.forEach((o,c)=>c.setReadTime(e));const a=new um(e,t,this.Ze,this.He,r);return this.He=Ss(),this.Je=$f(),this.Ye=$f(),this.Ze=new $t(et),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new tT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new vn(et),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new vn(et),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new tT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function $f(){return new $t(Le.comparator)}function nT(){return new $t(Le.comparator)}const sD={asc:"ASCENDING",desc:"DESCENDING"},aD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oD={and:"AND",or:"OR"};class lD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cy(n,e){return n.useProto3Json||tm(e)?e:{value:e}}function Oh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uD(n,e){return Oh(n,e.toTimestamp())}function qi(n){return Ct(!!n,49232),Ke.fromTimestamp(function(t){const r=Ca(t);return new yn(r.seconds,r.nanos)}(n))}function Dv(n,e){return Iy(n,e).canonicalString()}function Iy(n,e){const t=function(a){return new Ut(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function lS(n){const e=Ut.fromString(n);return Ct(hS(e),10190,{key:e.toString()}),e}function Ny(n,e){return Dv(n.databaseId,e.path)}function Fg(n,e){const t=lS(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Le(cS(t))}function uS(n,e){return Dv(n.databaseId,e)}function cD(n){const e=lS(n);return e.length===4?Ut.emptyPath():cS(e)}function Oy(n){return new Ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cS(n){return Ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rT(n,e,t){return{name:Ny(n,e),fields:t.value.mapValue.fields}}function dD(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:He(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(p,g){return p.useProto3Json?(Ct(g===void 0||typeof g=="string",58123),Vn.fromBase64String(g||"")):(Ct(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Vn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const g=p.code===void 0?ce.UNKNOWN:iS(p.code);return new Te(g,p.message||"")}(c);t=new aS(r,a,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Fg(n,r.document.name),o=qi(r.document.updateTime),c=r.document.createTime?qi(r.document.createTime):Ke.min(),d=new mr({mapValue:{fields:r.document.fields}}),h=$n.newFoundDocument(a,o,c,d),p=r.targetIds||[],g=r.removedTargetIds||[];t=new uh(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Fg(n,r.document),o=r.readTime?qi(r.readTime):Ke.min(),c=$n.newNoDocument(a,o),d=r.removedTargetIds||[];t=new uh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Fg(n,r.document),o=r.removedTargetIds||[];t=new uh([],o,a,null)}else{if(!("filter"in e))return He(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new tD(a,o),d=r.targetId;t=new sS(d,c)}}return t}function fD(n,e){let t;if(e instanceof fd)t={update:rT(n,e.key,e.value)};else if(e instanceof Nv)t={delete:Ny(n,e.key)};else if(e instanceof La)t={update:rT(n,e.key,e.data),updateMask:wD(e.fieldMask)};else{if(!(e instanceof ZM))return He(16599,{ft:e.type});t={verify:Ny(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const d=c.transform;if(d instanceof Qc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Kc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Yc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Nh)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw He(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:uD(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:He(27497)}(n,e.precondition)),t}function hD(n,e){return n&&n.length>0?(Ct(e!==void 0,14353),n.map(t=>function(a,o){let c=a.updateTime?qi(a.updateTime):qi(o);return c.isEqual(Ke.min())&&(c=qi(o)),new YM(c,a.transformResults||[])}(t,e))):[]}function mD(n,e){return{documents:[uS(n,e.path)]}}function pD(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=uS(n,a);const o=function(p){if(p.length!==0)return fS(gi.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const c=function(p){if(p.length!==0)return p.map(g=>function(b){return{field:Rl(b.field),direction:vD(b.dir)}}(g))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Cy(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function gD(n){let e=cD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Ct(r===1,65062);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const b=dS(_);return b instanceof gi&&F1(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(_){return _.map(b=>function(T){return new $c(Cl(T.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(_){let b;return b=typeof _=="object"?_.value:_,tm(b)?null:b}(t.limit));let h=null;t.startAt&&(h=function(_){const b=!!_.before,E=_.values||[];return new su(E,b)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const b=!_.before,E=_.values||[];return new su(E,b)}(t.endAt)),kM(e,a,c,o,d,"F",h,p)}function yD(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Cl(t.unaryFilter.field);return un.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Cl(t.unaryFilter.field);return un.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cl(t.unaryFilter.field);return un.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Cl(t.unaryFilter.field);return un.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}}(n):n.fieldFilter!==void 0?function(t){return un.create(Cl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return gi.create(t.compositeFilter.filters.map(r=>dS(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return He(1026)}}(t.compositeFilter.op))}(n):He(30097,{filter:n})}function vD(n){return sD[n]}function _D(n){return aD[n]}function bD(n){return oD[n]}function Rl(n){return{fieldPath:n.canonicalString()}}function Cl(n){return jn.fromServerFormat(n.fieldPath)}function fS(n){return n instanceof un?function(t){if(t.op==="=="){if(HE(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NAN"}};if(qE(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(HE(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NOT_NAN"}};if(qE(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(t.field),op:_D(t.op),value:t.value}}}(n):n instanceof gi?function(t){const r=t.getFilters().map(a=>fS(a));return r.length===1?r[0]:{compositeFilter:{op:bD(t.op),filters:r}}}(n):He(54877,{filter:n})}function wD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t,r,a,o=Ke.min(),c=Ke.min(),d=Vn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new ga(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.wt=e}}function TD(n){const e=gD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ih(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.yn=new SD}addToCollectionParentIndex(e,t){return this.yn.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(Ra.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(Ra.min())}updateCollectionGroup(e,t,r){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class SD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new vn(Ut.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new vn(Ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mS=41943040;class fr{static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(mS,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new au(0)}static ir(){return new au(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="LruGarbageCollector",AD=1048576;function aT([n,e],[t,r]){const a=et(n,t);return a===0?et(e,r):a}class RD{constructor(e){this.cr=e,this.buffer=new vn(aT),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();aT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Se(sT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){hu(t)?Se(sT,"Ignoring IndexedDB error during garbage collection: ",t):await fu(t)}await this.Ir(3e5)})}}class ID{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return me.resolve(em.le);const r=new RD(t);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(iT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iT):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,a,o,c,d,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(r=_,d=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Sl()<=ut.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_})))}}function ND(n,e){return new ID(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.changes=new Lo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?me.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&Lc(r.mutation,a,Dr.empty(),yn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ct()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ct()){const a=go();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let c=Rc();return o.forEach((d,h)=>{c=c.insert(d,h.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=go();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ct()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,r,a){let o=Ss();const c=kc(),d=function(){return kc()}();return t.forEach((h,p)=>{const g=r.get(p.key);a.has(p.key)&&(g===void 0||g.mutation instanceof La)?o=o.insert(p.key,p):g!==void 0?(c.set(p.key,g.mutation.getFieldMask()),Lc(g.mutation,p,g.mutation.getFieldMask(),yn.now())):c.set(p.key,Dr.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((p,g)=>c.set(p,g)),t.forEach((p,g)=>{var _;return d.set(p,new MD(g,(_=c.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,t){const r=kc();let a=new $t((c,d)=>c-d),o=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||Dr.empty();g=d.applyToLocalView(p,g),r.set(h,g);const _=(a.get(d.batchId)||ct()).add(h);a=a.insert(d.batchId,_)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,g=h.value,_=X1();g.forEach(b=>{if(!o.has(b)){const E=nS(t.get(b),r.get(b));E!==null&&_.set(b,E),o=o.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return me.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(c){return Le.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):me.resolve(go());let d=Fc,h=o;return c.next(p=>me.forEach(p,(g,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),o.get(g)?me.resolve():this.remoteDocumentCache.getEntry(e,g).next(b=>{h=h.insert(g,b)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,h,p,ct())).next(g=>({batchId:d,changes:Y1(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next(r=>{let a=Rc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let c=Rc();return this.indexManager.getCollectionParents(e,o).next(d=>me.forEach(d,h=>{const p=function(_,b){return new ko(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(g=>{g.forEach((_,b)=>{c=c.insert(_,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(c=>{o.forEach((h,p)=>{const g=p.getKey();c.get(g)===null&&(c=c.insert(g,$n.newInvalidDocument(g)))});let d=Rc();return c.forEach((h,p)=>{const g=o.get(h);g!==void 0&&Lc(g.mutation,p,Dr.empty(),yn.now()),am(t,p)&&(d=d.insert(h,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return me.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:qi(a.createTime)}}(t)),me.resolve()}getNamedQuery(e,t){return me.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:TD(a.bundledQuery),readTime:qi(a.readTime)}}(t)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.overlays=new $t(Le.comparator),this.Or=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const r=go();return me.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.St(e,t,o)}),me.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),me.resolve()}getOverlaysForCollection(e,t,r){const a=go(),o=t.length+1,c=new Le(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return me.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new $t((p,g)=>p-g);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=o.get(p.largestBatchId);g===null&&(g=go(),o=o.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=go(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>d.set(p,g)),!(d.size()>=a)););return me.resolve(d)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new eD(t,r));let o=this.Or.get(t);o===void 0&&(o=ct(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this.Nr=new vn(Sn.Br),this.Lr=new vn(Sn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Sn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Sn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Le(new Ut([])),r=new Sn(t,e),a=new Sn(t,e+1),o=[];return this.Lr.forEachInRange([r,a],c=>{this.Qr(c),o.push(c.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Le(new Ut([])),r=new Sn(t,e),a=new Sn(t,e+1);let o=ct();return this.Lr.forEachInRange([r,a],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new Sn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Le.comparator(e.key,t.key)||et(e.Gr,t.Gr)}static kr(e,t){return et(e.Gr,t.Gr)||Le.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new vn(Sn.Br)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new JM(o,t,r,a);this.mutationQueue.push(c);for(const d of a)this.zr=this.zr.add(new Sn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return me.resolve(c)}lookupMutationBatch(e,t){return me.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Hr(r),o=a<0?0:a;return me.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?xv:this.Jn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Sn(t,0),a=new Sn(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,a],c=>{const d=this.jr(c.Gr);o.push(d)}),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vn(et);return t.forEach(a=>{const o=new Sn(a,0),c=new Sn(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,c],d=>{r=r.add(d.Gr)})}),me.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Le.isDocumentKey(o)||(o=o.child(""));const c=new Sn(new Le(o),0);let d=new vn(et);return this.zr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(h.Gr)),!0)},c),me.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Ct(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return me.forEach(t.mutations,a=>{const o=new Sn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Sn(t,0),a=this.zr.firstAfterOrEqual(r);return me.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.Zr=e,this.docs=function(){return new $t(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,c=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return me.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(t))}getEntries(e,t){let r=Ss();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():$n.newInvalidDocument(a))}),me.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Ss();const c=t.path,d=new Le(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||hM(fM(g),r)<=0||(a.has(g.key)||am(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return me.resolve(o)}getAllFromCollectionGroup(e,t,r,a){He(9500)}Xr(e,t){return me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new UD(this)}getSize(e){return me.resolve(this.size)}}class UD extends OD{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),me.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.persistence=e,this.ei=new Lo(t=>Av(t),Rv),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.ti=0,this.ni=new Pv,this.targetCount=0,this.ri=au.rr()}forEachTarget(e,t){return this.ei.forEach((r,a)=>t(a)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),me.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new au(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.ar(t),me.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ei.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),me.waitFor(o).next(()=>a)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return me.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),me.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(c=>{o.push(a.markPotentiallyOrphaned(e,c))}),me.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return me.resolve(r)}containsKey(e,t){return me.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,t){this.ii={},this.overlays={},this.si=new em(0),this.oi=!1,this.oi=!0,this._i=new LD,this.referenceDelegate=e(this),this.ai=new zD(this),this.indexManager=new xD,this.remoteDocumentCache=function(a){return new VD(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new ED(t),this.ci=new PD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new jD(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Se("MemoryPersistence","Starting transaction:",e);const a=new BD(this.si.next());return this.referenceDelegate.li(),r(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,t){return me.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class BD extends pM{constructor(e){super(),this.currentSequenceNumber=e}}class kv{constructor(e){this.persistence=e,this.Ti=new Pv,this.Ii=null}static Ei(e){return new kv(e)}get di(){if(this.Ii)return this.Ii;throw He(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),me.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),me.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,r=>{const a=Le.fromPath(r);return this.Ai(e,a).next(o=>{o||t.removeEntry(a,Ke.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return me.or([()=>me.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Mh{constructor(e,t){this.persistence=e,this.Ri=new Lo(r=>vM(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=ND(this,t)}static Ei(e,t){return new Mh(e,t)}li(){}hi(e){return me.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return me.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(o=>o?me.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,c=>this.gr(e,c,t).next(d=>{d||(r++,o.removeEntry(c,Ke.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),me.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),me.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),me.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ah(e.data.value)),t}gr(e,t,r){return me.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return me.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=a}static Ps(e,t){let r=ct(),a=ct();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Lv(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return VN()?8:gM(Kn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.Rs(e,t).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Vs(e,t,a,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new FD;return this.fs(e,t,c).next(d=>{if(o.result=d,this.Is)return this.gs(e,t,c,d.size)})}).next(()=>o.result)}gs(e,t,r,a){return r.documentReadCount<this.Es?(Sl()<=ut.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Al(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),me.resolve()):(Sl()<=ut.DEBUG&&Se("QueryEngine","Query:",Al(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Sl()<=ut.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Al(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(t))):me.resolve())}Rs(e,t){if(KE(t))return me.resolve(null);let r=Fi(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Ih(t,null,"F"),r=Fi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=ct(...o);return this.As.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.ps(t,d);return this.ys(t,p,c,h.readTime)?this.Rs(e,Ih(t,null,"F")):this.ws(e,p,t,h)}))})))}Vs(e,t,r,a){return KE(t)||a.isEqual(Ke.min())?me.resolve(null):this.As.getDocuments(e,r).next(o=>{const c=this.ps(t,o);return this.ys(t,c,r,a)?me.resolve(null):(Sl()<=ut.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Al(t)),this.ws(e,c,t,dM(a,Fc)).next(d=>d))})}ps(e,t){let r=new vn(Q1(e));return t.forEach((a,o)=>{am(e,o)&&(r=r.add(o))}),r}ys(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,t,r){return Sl()<=ut.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Al(t)),this.As.getDocumentsMatchingQuery(e,t,Ra.min(),r)}ws(e,t,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="LocalStore",HD=3e8;class GD{constructor(e,t,r,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new $t(et),this.Ds=new Lo(o=>Av(o),Rv),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DD(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function $D(n,e,t,r){return new GD(n,e,t,r)}async function gS(n,e){const t=Ye(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],d=[];let h=ct();for(const p of a){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of o){d.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Ms:p,removedBatchIds:c,addedBatchIds:d}))})})}function QD(n,e){const t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,h,p,g){const _=p.batch,b=_.keys();let E=me.resolve();return b.forEach(T=>{E=E.next(()=>g.getEntry(h,T)).next(M=>{const N=p.docVersions.get(T);Ct(N!==null,48541),M.version.compareTo(N)<0&&(_.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),g.addEntry(M)))})}),E.next(()=>d.mutationQueue.removeMutationBatch(h,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let h=ct();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function yS(n){const e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function KD(n,e){const t=Ye(n),r=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const d=[];e.targetChanges.forEach((g,_)=>{const b=a.get(_);if(!b)return;d.push(t.ai.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.ai.addMatchingKeys(o,g.addedDocuments,_)));let E=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?E=E.withResumeToken(Vn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,r)),a=a.insert(_,E),function(M,N,O){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=HD?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(b,E,g)&&d.push(t.ai.updateTargetData(o,E))});let h=Ss(),p=ct();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),d.push(YD(o,c,e.documentUpdates).next(g=>{h=g.xs,p=g.Os})),!r.isEqual(Ke.min())){const g=t.ai.getLastRemoteSnapshotVersion(o).next(_=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(g)}return me.waitFor(d).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(t.Ss=a,o))}function YD(n,e,t){let r=ct(),a=ct();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let c=Ss();return t.forEach((d,h)=>{const p=o.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(Ke.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):Se(jv,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)}),{xs:c,Os:a}})}function XD(n,e){const t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=xv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WD(n,e){const t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ai.getTargetData(r,e).next(o=>o?(a=o,me.resolve(a)):t.ai.allocateTargetId(r).next(c=>(a=new ga(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function My(n,e,t){const r=Ye(n),a=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!hu(c))throw c;Se(jv,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function oT(n,e,t){const r=Ye(n);let a=Ke.min(),o=ct();return r.persistence.runTransaction("Execute query","readwrite",c=>function(h,p,g){const _=Ye(h),b=_.Ds.get(g);return b!==void 0?me.resolve(_.Ss.get(b)):_.ai.getTargetData(p,g)}(r,c,Fi(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(c,d.targetId).next(h=>{o=h})}).next(()=>r.bs.getDocumentsMatchingQuery(c,e,t?a:Ke.min(),t?o:ct())).next(d=>(ZD(r,jM(e),d),{documents:d,Ns:o})))}function ZD(n,e,t){let r=n.vs.get(e)||Ke.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class lT{constructor(){this.activeTargetIds=qM()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JD{constructor(){this.So=new lT,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new lT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="ConnectivityMonitor";class cT{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Se(uT,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Se(uT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf=null;function Dy(){return Qf===null?Qf=function(){return 268435456+Math.round(2147483648*Math.random())}():Qf++,"0x"+Qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="RestConnection",tP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nP{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===Ah?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,t,r,a,o){const c=Dy(),d=this.$o(e,t.toUriEncodedString());Se(qg,`Sending RPC '${e}' ${c}:`,d,r);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(h,a,o),this.Ko(e,d,h,r).then(p=>(Se(qg,`Received RPC '${e}' ${c}: `,p),p),p=>{throw tu(qg,`RPC '${e}' ${c} failed with error: `,p,"url: ",d,"request:",r),p})}Wo(e,t,r,a,o,c){return this.Qo(e,t,r,a,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+du}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}$o(e,t){const r=tP[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class iP extends nP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,a){const o=Dy();return new Promise((c,d)=>{const h=new w1;h.setWithCredentials(!0),h.listenOnce(E1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case sh.NO_ERROR:const g=h.getResponseJson();Se(qn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case sh.TIMEOUT:Se(qn,`RPC '${e}' ${o} timed out`),d(new Te(ce.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const _=h.getStatus();if(Se(qn,`RPC '${e}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const E=b==null?void 0:b.error;if(E&&E.status&&E.message){const T=function(N){const O=N.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(O)>=0?O:ce.UNKNOWN}(E.status);d(new Te(T,E.message))}else d(new Te(ce.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Te(ce.UNAVAILABLE,"Connection failed."));break;default:He(9055,{s_:e,streamId:o,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{Se(qn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(a);Se(qn,`RPC '${e}' ${o} sending request:`,a),h.send(t,"POST",p,r,15)})}a_(e,t,r){const a=Dy(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=S1(),d=x1(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=o.join("");Se(qn,`Creating RPC '${e}' stream ${a}: ${g}`,h);const _=c.createWebChannel(g,h);let b=!1,E=!1;const T=new rP({Go:N=>{E?Se(qn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(b||(Se(qn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),b=!0),Se(qn,`RPC '${e}' stream ${a} sending:`,N),_.send(N))},zo:()=>_.close()}),M=(N,O,A)=>{N.listen(O,R=>{try{A(R)}catch(B){setTimeout(()=>{throw B},0)}})};return M(_,Ac.EventType.OPEN,()=>{E||(Se(qn,`RPC '${e}' stream ${a} transport opened.`),T.t_())}),M(_,Ac.EventType.CLOSE,()=>{E||(E=!0,Se(qn,`RPC '${e}' stream ${a} transport closed`),T.r_())}),M(_,Ac.EventType.ERROR,N=>{E||(E=!0,tu(qn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),T.r_(new Te(ce.UNAVAILABLE,"The operation could not be completed")))}),M(_,Ac.EventType.MESSAGE,N=>{var O;if(!E){const A=N.data[0];Ct(!!A,16349);const R=A,B=(R==null?void 0:R.error)||((O=R[0])===null||O===void 0?void 0:O.error);if(B){Se(qn,`RPC '${e}' stream ${a} received error:`,B);const j=B.status;let V=function(C){const P=ln[C];if(P!==void 0)return iS(P)}(j),U=B.message;V===void 0&&(V=ce.INTERNAL,U="Unknown error status: "+j+" with message "+B.message),E=!0,T.r_(new Te(V,U)),_.close()}else Se(qn,`RPC '${e}' stream ${a} received:`,A),T.i_(A)}}),M(d,T1.STAT_EVENT,N=>{N.stat===wy.PROXY?Se(qn,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===wy.NOPROXY&&Se(qn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{T.n_()},0),T}}function Hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(n){return new lD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t,r=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-r);a>0&&Se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="PersistentStream";class _S{constructor(e,t,r,a,o,c,d,h){this.bi=e,this.R_=r,this.V_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new vS(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(xs(t.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===t&&this.B_(r,a)},r=>{e(()=>{const a=new Te(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Se(dT,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Se(dT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sP extends _S{constructor(e,t,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=dD(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ke.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ke.min():c.readTime?qi(c.readTime):Ke.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=Oy(this.serializer),t.addTarget=function(o,c){let d;const h=c.target;if(d=Ay(h)?{documents:mD(o,h)}:{query:pD(o,h).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=oS(o,c.resumeToken);const p=Cy(o,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ke.min())>0){d.readTime=Oh(o,c.snapshotVersion.toTimestamp());const p=Cy(o,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=yD(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=Oy(this.serializer),t.removeTarget=e,this.F_(t)}}class aP extends _S{constructor(e,t,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=hD(e.writeResults,e.commitTime),r=qi(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=Oy(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>fD(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{}class lP extends oP{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Qo(e,Iy(t,r),a,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(ce.UNKNOWN,o.toString())})}Wo(e,t,r,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,Iy(t,r),a,c,d,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Te(ce.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class uP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(xs(t),this.ea=!1):Se("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="RemoteStore";class cP{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(c=>{r.enqueueAndForget(async()=>{jo(this)&&(Se(Io,"Restarting streams for network reachability change."),await async function(h){const p=Ye(h);p.aa.add(4),await md(p),p.la.set("Unknown"),p.aa.delete(4),await dm(p)}(this))})}),this.la=new uP(r,a)}}async function dm(n){if(jo(n))for(const e of n.ua)await e(!0)}async function md(n){for(const e of n.ua)await e(!1)}function bS(n,e){const t=Ye(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Bv(t)?zv(t):mu(t).b_()&&Uv(t,e))}function Vv(n,e){const t=Ye(n),r=mu(t);t._a.delete(e),r.b_()&&wS(t,e),t._a.size===0&&(r.b_()?r.v_():jo(t)&&t.la.set("Unknown"))}function Uv(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}mu(n).U_(e)}function wS(n,e){n.ha.Ke(e),mu(n).K_(e)}function zv(n){n.ha=new iD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),mu(n).start(),n.la.ta()}function Bv(n){return jo(n)&&!mu(n).w_()&&n._a.size>0}function jo(n){return Ye(n).aa.size===0}function ES(n){n.ha=void 0}async function dP(n){n.la.set("Online")}async function fP(n){n._a.forEach((e,t)=>{Uv(n,e)})}async function hP(n,e){ES(n),Bv(n)?(n.la.ia(e),zv(n)):n.la.set("Unknown")}async function mP(n,e,t){if(n.la.set("Online"),e instanceof aS&&e.state===2&&e.cause)try{await async function(a,o){const c=o.cause;for(const d of o.targetIds)a._a.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a._a.delete(d),a.ha.removeTarget(d))}(n,e)}catch(r){Se(Io,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dh(n,r)}else if(e instanceof uh?n.ha.Xe(e):e instanceof sS?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ke.min()))try{const r=await yS(n.localStore);t.compareTo(r)>=0&&await function(o,c){const d=o.ha.It(c);return d.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=o._a.get(p);g&&o._a.set(p,g.withResumeToken(h.resumeToken,c))}}),d.targetMismatches.forEach((h,p)=>{const g=o._a.get(h);if(!g)return;o._a.set(h,g.withResumeToken(Vn.EMPTY_BYTE_STRING,g.snapshotVersion)),wS(o,h);const _=new ga(g.target,h,p,g.sequenceNumber);Uv(o,_)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){Se(Io,"Failed to raise snapshot:",r),await Dh(n,r)}}async function Dh(n,e,t){if(!hu(e))throw e;n.aa.add(1),await md(n),n.la.set("Offline"),t||(t=()=>yS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Se(Io,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await dm(n)})}function TS(n,e){return e().catch(t=>Dh(n,t,e))}async function fm(n){const e=Ye(n),t=Oa(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:xv;for(;pP(e);)try{const a=await XD(e.localStore,r);if(a===null){e.oa.length===0&&t.v_();break}r=a.batchId,gP(e,a)}catch(a){await Dh(e,a)}xS(e)&&SS(e)}function pP(n){return jo(n)&&n.oa.length<10}function gP(n,e){n.oa.push(e);const t=Oa(n);t.b_()&&t.W_&&t.G_(e.mutations)}function xS(n){return jo(n)&&!Oa(n).w_()&&n.oa.length>0}function SS(n){Oa(n).start()}async function yP(n){Oa(n).H_()}async function vP(n){const e=Oa(n);for(const t of n.oa)e.G_(t.mutations)}async function _P(n,e,t){const r=n.oa.shift(),a=Ov.from(r,e,t);await TS(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await fm(n)}async function bP(n,e){e&&Oa(n).W_&&await async function(r,a){if(function(c){return nD(c)&&c!==ce.ABORTED}(a.code)){const o=r.oa.shift();Oa(r).D_(),await TS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await fm(r)}}(n,e),xS(n)&&SS(n)}async function fT(n,e){const t=Ye(n);t.asyncQueue.verifyOperationInProgress(),Se(Io,"RemoteStore received new credentials");const r=jo(t);t.aa.add(3),await md(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await dm(t)}async function wP(n,e){const t=Ye(n);e?(t.aa.delete(2),await dm(t)):e||(t.aa.add(2),await md(t),t.la.set("Unknown"))}function mu(n){return n.Pa||(n.Pa=function(t,r,a){const o=Ye(t);return o.Y_(),new sP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:dP.bind(null,n),Jo:fP.bind(null,n),Zo:hP.bind(null,n),Q_:mP.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Bv(n)?zv(n):n.la.set("Unknown")):(await n.Pa.stop(),ES(n))})),n.Pa}function Oa(n){return n.Ta||(n.Ta=function(t,r,a){const o=Ye(t);return o.Y_(),new aP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:yP.bind(null,n),Zo:bP.bind(null,n),z_:vP.bind(null,n),j_:_P.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await fm(n)):(await n.Ta.stop(),n.oa.length>0&&(Se(Io,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const c=Date.now()+r,d=new Fv(e,t,c,a,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qv(n,e){if(xs("AsyncQueue",`${e}: ${n}`),hu(n))return new Te(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{static emptySet(e){return new kl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Le.comparator(t.key,r.key):(t,r)=>Le.comparator(t.key,r.key),this.keyedMap=Rc(),this.sortedSet=new $t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new kl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.Ia=new $t(Le.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):He(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class ou{constructor(e,t,r,a,o,c,d,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,o){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new ou(e,t,kl.emptySet(t),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class TP{constructor(){this.queries=mT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const a=Ye(t),o=a.queries;a.queries=mT(),o.forEach((c,d)=>{for(const h of d.Ra)h.onError(r)})})(this,new Te(ce.ABORTED,"Firestore shutting down"))}}function mT(){return new Lo(n=>$1(n),sm)}async function Hv(n,e){const t=Ye(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Va()&&e.ma()&&(r=2):(o=new EP,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(a,!0);break;case 1:o.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=qv(c,`Initialization of query '${Al(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&$v(t)}async function Gv(n,e){const t=Ye(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const c=o.Ra.indexOf(e);c>=0&&(o.Ra.splice(c,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function xP(n,e){const t=Ye(n);let r=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const d of c.Ra)d.pa(a)&&(r=!0);c.Aa=a}}r&&$v(t)}function SP(n,e,t){const r=Ye(n),a=r.queries.get(e);if(a)for(const o of a.Ra)o.onError(t);r.queries.delete(e)}function $v(n){n.fa.forEach(e=>{e.next()})}var Py,pT;(pT=Py||(Py={})).ya="default",pT.Cache="cache";class Qv{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new ou(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Py.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.key=e}}class RS{constructor(e){this.key=e}}class AP{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ct(),this.mutatedKeys=ct(),this.Ua=Q1(e),this.Ka=new kl(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new hT,a=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,_)=>{const b=a.get(g),E=am(this.query,_)?_:null,T=!!b&&this.mutatedKeys.has(b.key),M=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let N=!1;b&&E?b.data.isEqual(E.data)?T!==M&&(r.track({type:3,doc:E}),N=!0):this.ja(b,E)||(r.track({type:2,doc:E}),N=!0,(h&&this.Ua(E,h)>0||p&&this.Ua(E,p)<0)&&(d=!0)):!b&&E?(r.track({type:0,doc:E}),N=!0):b&&!E&&(r.track({type:1,doc:b}),N=!0,(h||p)&&(d=!0)),N&&(E?(c=c.add(E),o=M?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Ka:c,za:r,ys:d,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((g,_)=>function(E,T){const M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Vt:N})}};return M(E)-M(T)}(g.type,_.type)||this.Ua(g.doc,_.doc)),this.Ha(r),a=a!=null&&a;const d=t&&!a?this.Ja():[],h=this.$a.size===0&&this.current&&!a?1:0,p=h!==this.Qa;return this.Qa=h,c.length!==0||p?{snapshot:new ou(this.query,e.Ka,o,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new hT,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ct(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new RS(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new AS(r))}),t}Xa(e){this.qa=e.Ns,this.$a=ct();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return ou.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Kv="SyncEngine";class RP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class CP{constructor(e){this.key=e,this.tu=!1}}class IP{constructor(e,t,r,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new Lo(d=>$1(d),sm),this.iu=new Map,this.su=new Set,this.ou=new $t(Le.comparator),this._u=new Map,this.au=new Pv,this.uu={},this.cu=new Map,this.lu=au.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function NP(n,e,t=!0){const r=DS(n);let a;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await CS(r,e,t,!0),a}async function OP(n,e){const t=DS(n);await CS(t,e,!0,!1)}async function CS(n,e,t,r){const a=await WD(n.localStore,Fi(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let d;return r&&(d=await MP(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&bS(n.remoteStore,a),d}async function MP(n,e,t,r,a){n.Pu=(_,b,E)=>async function(M,N,O,A){let R=N.view.Ga(O);R.ys&&(R=await oT(M.localStore,N.query,!1).then(({documents:U})=>N.view.Ga(U,R)));const B=A&&A.targetChanges.get(N.targetId),j=A&&A.targetMismatches.get(N.targetId)!=null,V=N.view.applyChanges(R,M.isPrimaryClient,B,j);return yT(M,N.targetId,V.Ya),V.snapshot}(n,_,b,E);const o=await oT(n.localStore,e,!0),c=new AP(e,o.Ns),d=c.Ga(o.documents),h=hd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=c.applyChanges(d,n.isPrimaryClient,h);yT(n,t,p.Ya);const g=new RP(e,t,c);return n.ru.set(e,g),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function DP(n,e,t){const r=Ye(n),a=r.ru.get(e),o=r.iu.get(a.targetId);if(o.length>1)return r.iu.set(a.targetId,o.filter(c=>!sm(c,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await My(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Vv(r.remoteStore,a.targetId),ky(r,a.targetId)}).catch(fu)):(ky(r,a.targetId),await My(r.localStore,a.targetId,!0))}async function PP(n,e){const t=Ye(n),r=t.ru.get(e),a=t.iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Vv(t.remoteStore,r.targetId))}async function kP(n,e,t){const r=FP(n);try{const a=await function(c,d){const h=Ye(c),p=yn.now(),g=d.reduce((E,T)=>E.add(T.key),ct());let _,b;return h.persistence.runTransaction("Locally write mutations","readwrite",E=>{let T=Ss(),M=ct();return h.Cs.getEntries(E,g).next(N=>{T=N,T.forEach((O,A)=>{A.isValidDocument()||(M=M.add(O))})}).next(()=>h.localDocuments.getOverlayedDocuments(E,T)).next(N=>{_=N;const O=[];for(const A of d){const R=WM(A,_.get(A.key).overlayedDocument);R!=null&&O.push(new La(A.key,R,U1(R.value.mapValue),Jr.exists(!0)))}return h.mutationQueue.addMutationBatch(E,p,O,d)}).next(N=>{b=N;const O=N.applyToLocalDocumentSet(_,M);return h.documentOverlayCache.saveOverlays(E,N.batchId,O)})}).then(()=>({batchId:b.batchId,changes:Y1(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,d,h){let p=c.uu[c.currentUser.toKey()];p||(p=new $t(et)),p=p.insert(d,h),c.uu[c.currentUser.toKey()]=p}(r,a.batchId,t),await pd(r,a.changes),await fm(r.remoteStore)}catch(a){const o=qv(a,"Failed to persist write");t.reject(o)}}async function IS(n,e){const t=Ye(n);try{const r=await KD(t.localStore,e);e.targetChanges.forEach((a,o)=>{const c=t._u.get(o);c&&(Ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.tu=!0:a.modifiedDocuments.size>0?Ct(c.tu,14607):a.removedDocuments.size>0&&(Ct(c.tu,42227),c.tu=!1))}),await pd(t,r,e)}catch(r){await fu(r)}}function gT(n,e,t){const r=Ye(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ru.forEach((o,c)=>{const d=c.view.ga(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const h=Ye(c);h.onlineState=d;let p=!1;h.queries.forEach((g,_)=>{for(const b of _.Ra)b.ga(d)&&(p=!0)}),p&&$v(h)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LP(n,e,t){const r=Ye(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r._u.get(e),o=a&&a.key;if(o){let c=new $t(Le.comparator);c=c.insert(o,$n.newNoDocument(o,Ke.min()));const d=ct().add(o),h=new um(Ke.min(),new Map,new $t(et),c,d);await IS(r,h),r.ou=r.ou.remove(o),r._u.delete(e),Yv(r)}else await My(r.localStore,e,!1).then(()=>ky(r,e,t)).catch(fu)}async function jP(n,e){const t=Ye(n),r=e.batch.batchId;try{const a=await QD(t.localStore,e);OS(t,r,null),NS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await pd(t,a)}catch(a){await fu(a)}}async function VP(n,e,t){const r=Ye(n);try{const a=await function(c,d){const h=Ye(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,d).next(_=>(Ct(_!==null,37113),g=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);OS(r,e,t),NS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await pd(r,a)}catch(a){await fu(a)}}function NS(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function OS(n,e,t){const r=Ye(n);let a=r.uu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function ky(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||MS(n,r)})}function MS(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Vv(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Yv(n))}function yT(n,e,t){for(const r of t)r instanceof AS?(n.au.addReference(r.key,e),UP(n,r)):r instanceof RS?(Se(Kv,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||MS(n,r.key)):He(19791,{Iu:r})}function UP(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Se(Kv,"New document in limbo: "+t),n.su.add(r),Yv(n))}function Yv(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Le(Ut.fromString(e)),r=n.lu.next();n._u.set(r,new CP(t)),n.ou=n.ou.insert(t,r),bS(n.remoteStore,new ga(Fi(im(t.path)),r,"TargetPurposeLimboResolution",em.le))}}async function pd(n,e,t){const r=Ye(n),a=[],o=[],c=[];r.ru.isEmpty()||(r.ru.forEach((d,h)=>{c.push(r.Pu(h,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Lv.Ps(h.targetId,p);o.push(_)}}))}),await Promise.all(c),r.nu.Q_(a),await async function(h,p){const g=Ye(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>me.forEach(p,b=>me.forEach(b.ls,E=>g.persistence.referenceDelegate.addReference(_,b.targetId,E)).next(()=>me.forEach(b.hs,E=>g.persistence.referenceDelegate.removeReference(_,b.targetId,E)))))}catch(_){if(!hu(_))throw _;Se(jv,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const E=g.Ss.get(b),T=E.snapshotVersion,M=E.withLastLimboFreeSnapshotVersion(T);g.Ss=g.Ss.insert(b,M)}}}(r.localStore,o))}async function zP(n,e){const t=Ye(n);if(!t.currentUser.isEqual(e)){Se(Kv,"User change. New user:",e.toKey());const r=await gS(t.localStore,e);t.currentUser=e,function(o,c){o.cu.forEach(d=>{d.forEach(h=>{h.reject(new Te(ce.CANCELLED,c))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pd(t,r.Ms)}}function BP(n,e){const t=Ye(n),r=t._u.get(e);if(r&&r.tu)return ct().add(r.key);{let a=ct();const o=t.iu.get(e);if(!o)return a;for(const c of o){const d=t.ru.get(c);a=a.unionWith(d.view.Wa)}return a}}function DS(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=IS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LP.bind(null,e),e.nu.Q_=xP.bind(null,e.eventManager),e.nu.Tu=SP.bind(null,e.eventManager),e}function FP(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VP.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return $D(this.persistence,new qD,e.initialUser,this.serializer)}Ru(e){return new pS(kv.Ei,this.serializer)}Au(e){return new JD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class qP extends Ph{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ct(this.persistence.referenceDelegate instanceof Mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new CD(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new pS(r=>Mh.Ei(r,t),this.serializer)}}class Ly{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zP.bind(null,this.syncEngine),await wP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TP}()}createDatastore(e){const t=cm(e.databaseInfo.databaseId),r=function(o){return new iP(o)}(e.databaseInfo);return function(o,c,d,h){return new lP(o,c,d,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,c,d){return new cP(r,a,o,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>gT(this.syncEngine,t,0),function(){return cT.C()?new cT:new eP}())}createSyncEngine(e,t){return function(a,o,c,d,h,p,g){const _=new IP(a,o,c,d,h,p);return g&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=Ye(a);Se(Io,"RemoteStore shutting down."),o.aa.add(5),await md(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ly.provider={build:()=>new Ly};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="FirestoreClient";class HP{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Gn.UNAUTHENTICATED,this.clientId=I1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{Se(Ma,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(Se(Ma,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=qv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gg(n,e){n.asyncQueue.verifyOperationInProgress(),Se(Ma,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await gS(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function vT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await GP(n);Se(Ma,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>fT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>fT(e.remoteStore,a)),n._onlineComponents=e}async function GP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se(Ma,"Using user provided OfflineComponentProvider");try{await Gg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;tu("Error using user provided cache. Falling back to memory cache: "+t),await Gg(n,new Ph)}}else Se(Ma,"Using default OfflineComponentProvider"),await Gg(n,new qP(void 0));return n._offlineComponents}async function PS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se(Ma,"Using user provided OnlineComponentProvider"),await vT(n,n._uninitializedComponentsProvider._online)):(Se(Ma,"Using default OnlineComponentProvider"),await vT(n,new Ly))),n._onlineComponents}function $P(n){return PS(n).then(e=>e.syncEngine)}async function kh(n){const e=await PS(n),t=e.eventManager;return t.onListen=NP.bind(null,e.syncEngine),t.onUnlisten=DP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=OP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=PP.bind(null,e.syncEngine),t}function QP(n,e,t={}){const r=new Es;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,d,h,p){const g=new Xv({next:b=>{g.yu(),c.enqueueAndForget(()=>Gv(o,_));const E=b.docs.has(d);!E&&b.fromCache?p.reject(new Te(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&h&&h.source==="server"?p.reject(new Te(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new Qv(im(d.path),g,{includeMetadataChanges:!0,Fa:!0});return Hv(o,_)}(await kh(n),n.asyncQueue,e,t,r)),r.promise}function KP(n,e,t={}){const r=new Es;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,d,h,p){const g=new Xv({next:b=>{g.yu(),c.enqueueAndForget(()=>Gv(o,_)),b.fromCache&&h.source==="server"?p.reject(new Te(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new Qv(d,g,{includeMetadataChanges:!0,Fa:!0});return Hv(o,_)}(await kh(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(n,e,t){if(!t)throw new Te(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function YP(n,e,t,r){if(e===!0&&r===!0)throw new Te(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function bT(n){if(!Le.isDocumentKey(n))throw new Te(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wT(n){if(Le.isDocumentKey(n))throw new Te(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":He(12329,{type:typeof n})}function pr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hm(n);throw new Te(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="firestore.googleapis.com",ET=!0;class TT{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jS,this.ssl=ET}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ET;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AD)throw new Te(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nM;switch(r.type){case"firstParty":return new aM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=_T.get(t);r&&(Se("ComponentProvider","Removing Datastore"),_T.delete(t),r.terminate())}(this),Promise.resolve()}}function XP(n,e,t,r={}){var a;const o=(n=pr(n,mm))._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;o.host!==jS&&o.host!==d&&tu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:d,ssl:!1,emulatorOptions:r});if(!Ao(h,c)&&(n._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Gn.MOCK_USER;else{p=ON(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Te(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Gn(_)}n._authCredentials=new rM(new R1(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja=class VS{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new VS(this.firestore,e,this._query)}};class Qn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class xa extends ja{constructor(e,t,r){super(e,t,im(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new Le(e))}withConverter(e){return new xa(this.firestore,e,this._path)}}function mi(n,e,...t){if(n=cn(n),LS("collection","path",e),n instanceof mm){const r=Ut.fromString(e,...t);return wT(r),new xa(n,null,r)}{if(!(n instanceof Qn||n instanceof xa))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ut.fromString(e,...t));return wT(r),new xa(n.firestore,null,r)}}function Xc(n,e,...t){if(n=cn(n),arguments.length===1&&(e=I1.newId()),LS("doc","path",e),n instanceof mm){const r=Ut.fromString(e,...t);return bT(r),new Qn(n,null,new Le(r))}{if(!(n instanceof Qn||n instanceof xa))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ut.fromString(e,...t));return bT(r),new Qn(n.firestore,n instanceof xa?n.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="AsyncQueue";class ST{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new vS(this,"async_queue_retry"),this.ju=()=>{const r=Hg();r&&Se(xT,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=Hg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Hg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Es;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!hu(e))throw e;Se(xT,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,xs("INTERNAL UNHANDLED ERROR: ",AT(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=Fv.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&He(47125,{ec:AT(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function AT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class As extends mm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new ST,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ST(e),this._firestoreClient=void 0,await e}}}function WP(n,e){const t=typeof n=="object"?n:y1(),r=typeof n=="string"?n:Ah,a=Ev(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=IN("firestore");o&&XP(a,...o)}return a}function pm(n){if(n._terminated)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ZP(n),n._firestoreClient}function ZP(n){var e,t,r;const a=n._freezeSettings(),o=function(d,h,p,g){return new wM(d,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,kS(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new HP(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lu(Vn.fromBase64String(e))}catch(t){throw new Te(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new lu(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Te(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=/^__.*__$/;class e4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new La(e,this.data,this.fieldMask,t,this.fieldTransforms):new fd(e,this.data,t,this.fieldTransforms)}}class US{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new La(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{oc:n})}}class Jv{constructor(e,t,r,a,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Jv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Lh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(zS(this.oc)&&JP.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class t4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||cm(e)}dc(e,t,r,a=!1){return new Jv({oc:e,methodName:t,Ec:r,path:jn.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gd(n){const e=n._freezeSettings(),t=cm(n._databaseId);return new t4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function BS(n,e,t,r,a,o={}){const c=n.dc(o.merge||o.mergeFields?2:0,e,t,a);t0("Data must be an object, but it was:",c,r);const d=qS(r,c);let h,p;if(o.merge)h=new Dr(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const b=jy(e,_,t);if(!c.contains(b))throw new Te(ce.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);GS(g,b)||g.push(b)}h=new Dr(g),p=c.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=c.fieldTransforms;return new e4(new mr(d),h,p)}class vm extends ym{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vm}}class e0 extends ym{_toFieldTransform(e){return new QM(e.path,new Qc)}isEqual(e){return e instanceof e0}}function n4(n,e,t,r){const a=n.dc(1,e,t);t0("Data must be an object, but it was:",a,r);const o=[],c=mr.empty();ka(r,(h,p)=>{const g=n0(e,h,t);p=cn(p);const _=a.hc(g);if(p instanceof vm)o.push(g);else{const b=yd(p,_);b!=null&&(o.push(g),c.set(g,b))}});const d=new Dr(o);return new US(c,d,a.fieldTransforms)}function r4(n,e,t,r,a,o){const c=n.dc(1,e,t),d=[jy(e,r,t)],h=[a];if(o.length%2!=0)throw new Te(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)d.push(jy(e,o[b])),h.push(o[b+1]);const p=[],g=mr.empty();for(let b=d.length-1;b>=0;--b)if(!GS(p,d[b])){const E=d[b];let T=h[b];T=cn(T);const M=c.hc(E);if(T instanceof vm)p.push(E);else{const N=yd(T,M);N!=null&&(p.push(E),g.set(E,N))}}const _=new Dr(p);return new US(g,_,c.fieldTransforms)}function FS(n,e,t,r=!1){return yd(t,n.dc(r?4:3,e))}function yd(n,e){if(HS(n=cn(n)))return t0("Unsupported field value:",e,n),qS(n,e);if(n instanceof ym)return function(r,a){if(!zS(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const o=[];let c=0;for(const d of r){let h=yd(d,a.Pc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=yn.fromDate(r);return{timestampValue:Oh(a.serializer,o)}}if(r instanceof yn){const o=new yn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Oh(a.serializer,o)}}if(r instanceof Wv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lu)return{bytesValue:oS(a.serializer,r._byteString)};if(r instanceof Qn){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Dv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Zv)return function(c,d){return{mapValue:{fields:{[j1]:{stringValue:V1},[Rh]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Tc("VectorValues must only contain numeric values.");return Iv(d.serializer,p)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${hm(r)}`)}(n,e)}function qS(n,e){const t={};return O1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(n,(r,a)=>{const o=yd(a,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function HS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yn||n instanceof Wv||n instanceof lu||n instanceof Qn||n instanceof ym||n instanceof Zv)}function t0(n,e,t){if(!HS(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=hm(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function jy(n,e,t){if((e=cn(e))instanceof gm)return e._internalPath;if(typeof e=="string")return n0(n,e);throw Lh("Field path arguments must be of type string or ",n,!1,void 0,t)}const i4=new RegExp("[~\\*/\\[\\]]");function n0(n,e,t){if(e.search(i4)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gm(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lh(n,e,t,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new Te(ce.INVALID_ARGUMENT,d+n+h)}function GS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_m("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class s4 extends r0{data(){return super.data()}}function _m(n,e){return typeof e=="string"?n0(n,e):e instanceof gm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Te(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i0{}class bm extends i0{}function No(n,e,...t){let r=[];e instanceof i0&&r.push(e),r=r.concat(t),function(o){const c=o.filter(h=>h instanceof s0).length,d=o.filter(h=>h instanceof wm).length;if(c>1||c>0&&d>0)throw new Te(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class wm extends bm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new wm(e,t,r)}_apply(e){const t=this._parse(e);return KS(e._query,t),new ja(e.firestore,e.converter,Ry(e._query,t))}_parse(e){const t=gd(e.firestore);return function(o,c,d,h,p,g,_){let b;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){IT(_,g);const T=[];for(const M of _)T.push(CT(h,o,M));b={arrayValue:{values:T}}}else b=CT(h,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||IT(_,g),b=FS(d,c,_,g==="in"||g==="not-in");return un.create(p,g,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ya(n,e,t){const r=e,a=_m("where",n);return wm._create(a,r,t)}class s0 extends i0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new s0(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:gi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let c=a;const d=o.getFlattenedFilters();for(const h of d)KS(c,h),c=Ry(c,h)}(e._query,t),new ja(e.firestore,e.converter,Ry(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class a0 extends bm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new a0(e,t)}_apply(e){const t=function(a,o,c){if(a.startAt!==null)throw new Te(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Te(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $c(o,c)}(e._query,this._field,this._direction);return new ja(e.firestore,e.converter,function(a,o){const c=a.explicitOrderBy.concat([o]);return new ko(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function a4(n,e="asc"){const t=e,r=_m("orderBy",n);return a0._create(r,t)}class o0 extends bm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new o0(e,t,r)}_apply(e){return new ja(e.firestore,e.converter,Ih(e._query,this._limit,this._limitType))}}function jh(n){return o0._create("limit",n,"F")}class l0 extends bm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new l0(e,t,r)}_apply(e){const t=o4(e,this.type,this._docOrFields,this._inclusive);return new ja(e.firestore,e.converter,function(a,o){return new ko(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)}(e._query,t))}}function QS(...n){return l0._create("startAfter",n,!1)}function o4(n,e,t,r){if(t[0]=cn(t[0]),t[0]instanceof r0)return function(o,c,d,h,p){if(!h)throw new Te(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const g=[];for(const _ of Pl(o))if(_.field.isKeyField())g.push(Ch(c,h.key));else{const b=h.data.field(_.field);if(nm(b))throw new Te(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){const E=_.field.canonicalString();throw new Te(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}g.push(b)}return new su(g,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=gd(n.firestore);return function(c,d,h,p,g,_){const b=c.explicitOrderBy;if(g.length>b.length)throw new Te(ce.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let T=0;T<g.length;T++){const M=g[T];if(b[T].field.isKeyField()){if(typeof M!="string")throw new Te(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof M}`);if(!Cv(c)&&M.indexOf("/")!==-1)throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${M}' contains a slash.`);const N=c.path.child(Ut.fromString(M));if(!Le.isDocumentKey(N))throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${N}' is not because it contains an odd number of segments.`);const O=new Le(N);E.push(Ch(d,O))}else{const N=FS(h,p,M);E.push(N)}}return new su(E,_)}(n._query,n.firestore._databaseId,a,e,t,r)}}function CT(n,e,t){if(typeof(t=cn(t))=="string"){if(t==="")throw new Te(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cv(e)&&t.indexOf("/")!==-1)throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ut.fromString(t));if(!Le.isDocumentKey(r))throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ch(n,new Le(r))}if(t instanceof Qn)return Ch(n,t._key);throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hm(t)}.`)}function IT(n,e){if(!Array.isArray(n)||n.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KS(n,e){const t=function(a,o){for(const c of a)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class l4{convertValue(e,t="none"){switch(Na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ka(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[Rh].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>en(c.doubleValue));return new Zv(o)}convertGeoPoint(e){return new Wv(en(e.latitude),en(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const t=Ca(e);return new yn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ut.fromString(e);Ct(hS(r),9688,{name:e});const a=new Hc(r.get(1),r.get(3)),o=new Le(r.popFirst(5));return a.isEqual(t)||xs(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XS extends r0{constructor(e,t,r,a,o,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_m("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ch extends XS{data(e={}){return super.data(e)}}class WS{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ic(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ch(this._firestore,this._userDataWriter,r.key,r,new Ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const h=new ch(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ic(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const h=new ch(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ic(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,g=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:u4(d.type),doc:h,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function u4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(n){n=pr(n,Qn);const e=pr(n.firestore,As);return QP(pm(e),n._key).then(t=>JS(e,n,t))}class u0 extends l4{constructor(e){super(),this.firestore=e}convertBytes(e){return new lu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}}function Vo(n){n=pr(n,ja);const e=pr(n.firestore,As),t=pm(e),r=new u0(e);return $S(n._query),KP(t,n._query).then(a=>new WS(e,r,n,a))}function ZS(n,e,t){n=pr(n,Qn);const r=pr(n.firestore,As),a=YS(n.converter,e,t);return Em(r,[BS(gd(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Jr.none())])}function d4(n,e,t,...r){n=pr(n,Qn);const a=pr(n.firestore,As),o=gd(a);let c;return c=typeof(e=cn(e))=="string"||e instanceof gm?r4(o,"updateDoc",n._key,e,t,r):n4(o,"updateDoc",n._key,e),Em(a,[c.toMutation(n._key,Jr.exists(!0))])}function f4(n){return Em(pr(n.firestore,As),[new Nv(n._key,Jr.none())])}function h4(n,e){const t=pr(n.firestore,As),r=Xc(n),a=YS(n.converter,e);return Em(t,[BS(gd(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Jr.exists(!1))]).then(()=>r)}function m4(n,...e){var t,r,a;n=cn(n);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||RT(e[c])||(o=e[c],c++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(RT(e[c])){const _=e[c];e[c]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[c+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[c+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let h,p,g;if(n instanceof Qn)p=pr(n.firestore,As),g=im(n._key.path),h={next:_=>{e[c]&&e[c](JS(p,n,_))},error:e[c+1],complete:e[c+2]};else{const _=pr(n,ja);p=pr(_.firestore,As),g=_._query;const b=new u0(p);h={next:E=>{e[c]&&e[c](new WS(p,b,_,E))},error:e[c+1],complete:e[c+2]},$S(n._query)}return function(b,E,T,M){const N=new Xv(M),O=new Qv(E,N,T);return b.asyncQueue.enqueueAndForget(async()=>Hv(await kh(b),O)),()=>{N.yu(),b.asyncQueue.enqueueAndForget(async()=>Gv(await kh(b),O))}}(pm(p),g,d,h)}function Em(n,e){return function(r,a){const o=new Es;return r.asyncQueue.enqueueAndForget(async()=>kP(await $P(r),a,o)),o.promise}(pm(n),e)}function JS(n,e,t){const r=t.docs.get(e._key),a=new u0(n);return new XS(n,a,e._key,r,new Ic(t.hasPendingWrites,t.fromCache),e.converter)}function p4(){return new e0("serverTimestamp")}(function(e,t=!0){(function(a){du=a})(cu),eu(new Ro("firestore",(r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new As(new iM(r.getProvider("auth-internal")),new oM(c,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Te(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(p.options.projectId,g)}(c,a),c);return o=Object.assign({useFetchStreams:t},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Ea(OE,ME,e),Ea(OE,ME,"esm2017")})();var g4="firebase",y4="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ea(g4,y4,"app");function c0(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function eA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v4=eA,tA=new cd("auth","Firebase",eA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new bv("@firebase/auth");function _4(n,...e){Vh.logLevel<=ut.WARN&&Vh.warn(`Auth (${cu}): ${n}`,...e)}function dh(n,...e){Vh.logLevel<=ut.ERROR&&Vh.error(`Auth (${cu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(n,...e){throw d0(n,...e)}function Hi(n,...e){return d0(n,...e)}function nA(n,e,t){const r=Object.assign(Object.assign({},v4()),{[e]:t});return new cd("auth","Firebase",r).create(e,{appName:n.name})}function Sa(n){return nA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return tA.create(n,...e)}function qe(n,e,...t){if(!n)throw d0(e,...t)}function bs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw dh(e),new Error(e)}function Rs(n,e){n||bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function b4(){return NT()==="http:"||NT()==="https:"}function NT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b4()||kN()||"connection"in navigator)?navigator.onLine:!0}function E4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Rs(t>e,"Short delay should be less than long delay!"),this.isMobile=MN()||LN()}get(){return w4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(n,e){Rs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],S4=new vd(3e4,6e4);function Uo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Va(n,e,t,r,a={}){return iA(n,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=dd(Object.assign({key:n.config.apiKey},c)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},o);return PN()||(p.referrerPolicy="no-referrer"),rA.fetch()(await sA(n,n.config.apiHost,t,d),p)})}async function iA(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},T4),e);try{const a=new R4(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Kf(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kf(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Kf(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw Kf(n,"user-disabled",c);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw nA(n,g,p);yi(n,g)}}catch(a){if(a instanceof Cs)throw a;yi(n,"network-request-failed",{message:String(a)})}}async function Tm(n,e,t,r,a={}){const o=await Va(n,e,t,r,a);return"mfaPendingCredential"in o&&yi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function sA(n,e,t,r){const a=`${e}${t}?${r}`,o=n,c=o.config.emulator?f0(n.config,a):`${n.config.apiScheme}://${a}`;return x4.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function A4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class R4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Hi(this.auth,"network-request-failed")),S4.get())})}}function Kf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Hi(n,e,r);return a.customData._tokenResponse=t,a}function OT(n){return n!==void 0&&n.enterprise!==void 0}class C4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return A4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function I4(n,e){return Va(n,"GET","/v2/recaptchaConfig",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(n,e){return Va(n,"POST","/v1/accounts:delete",e)}async function Uh(n,e){return Va(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function O4(n,e=!1){const t=cn(n),r=await t.getIdToken(e),a=h0(r);qe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:jc($g(a.auth_time)),issuedAtTime:jc($g(a.iat)),expirationTime:jc($g(a.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function $g(n){return Number(n)*1e3}function h0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const a=c1(t);return a?JSON.parse(a):(dh("Failed to decode base64 JWT payload"),null)}catch(a){return dh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function MT(n){const e=h0(n);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Cs&&M4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function M4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jc(this.lastLoginAt),this.creationTime=jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(n){var e;const t=n.auth,r=await n.getIdToken(),a=await Wc(n,Uh(t,{idToken:r}));qe(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?aA(o.providerUserInfo):[],d=k4(n.providerData,c),h=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(d!=null&&d.length),g=h?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Uy(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function P4(n){const e=cn(n);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function k4(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function aA(n){return n.map(e=>{var{providerId:t}=e,r=c0(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(n,e){const t=await iA(n,{},async()=>{const r=dd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await sA(n,a,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",rA.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function j4(n,e){return Va(n,"POST","/v2/accounts:revokeToken",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):MT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=MT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await L4(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,c=new Ll;return r&&(qe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(qe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(qe(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(n,e){qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fi{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,o=c0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new D4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Uy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Wc(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return O4(this,e)}reload(){return P4(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(Sa(this.auth));const e=await this.getIdToken();return await Wc(this,N4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,o,c,d,h,p,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,E=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(c=t.photoURL)!==null&&c!==void 0?c:void 0,M=(d=t.tenantId)!==null&&d!==void 0?d:void 0,N=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,O=(p=t.createdAt)!==null&&p!==void 0?p:void 0,A=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:R,emailVerified:B,isAnonymous:j,providerData:V,stsTokenManager:U}=t;qe(R&&U,e,"internal-error");const I=Ll.fromJSON(this.name,U);qe(typeof R=="string",e,"internal-error"),ea(_,e.name),ea(b,e.name),qe(typeof B=="boolean",e,"internal-error"),qe(typeof j=="boolean",e,"internal-error"),ea(E,e.name),ea(T,e.name),ea(M,e.name),ea(N,e.name),ea(O,e.name),ea(A,e.name);const C=new fi({uid:R,auth:e,email:b,emailVerified:B,displayName:_,isAnonymous:j,photoURL:T,phoneNumber:E,tenantId:M,stsTokenManager:I,createdAt:O,lastLoginAt:A});return V&&Array.isArray(V)&&(C.providerData=V.map(P=>Object.assign({},P))),N&&(C._redirectEventId=N),C}static async _fromIdTokenResponse(e,t,r=!1){const a=new Ll;a.updateFromServerResponse(t);const o=new fi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await zh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];qe(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?aA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),d=new Ll;d.updateFromIdToken(r);const h=new fi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Uy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new Map;function ws(n){Rs(n instanceof Function,"Expected a class definition");let e=DT.get(n);return e?(Rs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,DT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}oA.type="NONE";const PT=oA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(n,e,t){return`firebase:${n}:${e}:${t}`}class jl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=fh(this.userKey,a.apiKey,o),this.fullPersistenceKey=fh("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Uh(this.auth,{idToken:e}).catch(()=>{});return t?fi._fromGetAccountInfoResponse(this.auth,t,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new jl(ws(PT),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||ws(PT);const c=fh(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const g=await p._get(c);if(g){let _;if(typeof g=="string"){const b=await Uh(e,{idToken:g}).catch(()=>{});if(!b)break;_=await fi._fromGetAccountInfoResponse(e,b,g)}else _=fi._fromJSON(e,g);p!==o&&(d=_),o=p;break}}catch{}const h=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new jl(o,e,r):(o=h[0],d&&await o._set(c,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new jl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hA(e))return"Blackberry";if(mA(e))return"Webos";if(uA(e))return"Safari";if((e.includes("chrome/")||cA(e))&&!e.includes("edge/"))return"Chrome";if(fA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lA(n=Kn()){return/firefox\//i.test(n)}function uA(n=Kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cA(n=Kn()){return/crios\//i.test(n)}function dA(n=Kn()){return/iemobile/i.test(n)}function fA(n=Kn()){return/android/i.test(n)}function hA(n=Kn()){return/blackberry/i.test(n)}function mA(n=Kn()){return/webos/i.test(n)}function m0(n=Kn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function V4(n=Kn()){var e;return m0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function U4(){return jN()&&document.documentMode===10}function pA(n=Kn()){return m0(n)||fA(n)||mA(n)||hA(n)||/windows phone/i.test(n)||dA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(n,e=[]){let t;switch(n){case"Browser":t=kT(Kn());break;case"Worker":t=`${kT(Kn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${cu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,d)=>{try{const h=e(o);c(h)}catch(h){d(h)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4(n,e={}){return Va(n,"GET","/v2/passwordPolicy",Uo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=6;class q4{constructor(e){var t,r,a,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:F4,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,o,c,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(a=h.containsLowercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LT(this),this.idTokenSubscription=new LT(this),this.beforeStateQueue=new z4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ws(t)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await jl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Uh(this,{idToken:e}),r=await fi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(di(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&(h!=null&&h.user)&&(a=h.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=E4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(Sa(this));const t=e?cn(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(Sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(Sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await B4(this),t=new q4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await j4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ws(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await jl.create(this,[ws(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&_4(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function pu(n){return cn(n)}class LT{constructor(e){this.auth=e,this.observer=null,this.addObserver=GN(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function G4(n){xm=n}function yA(n){return xm.loadJS(n)}function $4(){return xm.recaptchaEnterpriseScript}function Q4(){return xm.gapiScript}function K4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Y4{constructor(){this.enterprise=new X4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class X4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const W4="recaptcha-enterprise",vA="NO_RECAPTCHA";class Z4{constructor(e){this.type=W4,this.auth=pu(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{I4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new C4(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(h=>{d(h)})})}function a(o,c,d){const h=window.grecaptcha;OT(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c(vA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Y4().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(d=>{if(!t&&OT(window.grecaptcha))a(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=$4();h.length!==0&&(h+=d),yA(h).then(()=>{a(d,o,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function jT(n,e,t,r=!1,a=!1){const o=new Z4(n);let c;if(a)c=vA;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function VT(n,e,t,r,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await jT(n,e,t,t==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await jT(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(n,e){const t=Ev(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Ao(o,e??{}))return a;yi(a,"already-initialized")}return t.initialize({options:e})}function e3(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ws);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function t3(n,e,t){const r=pu(n);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=_A(e),{host:c,port:d}=n3(e),h=d===null?"":`:${d}`,p={url:`${o}//${c}${h}/`},g=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(Ao(p,r.config.emulator)&&Ao(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,r3()}function _A(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function n3(n){const e=_A(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:UT(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:UT(c)}}}function UT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function r3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,t){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function i3(n,e){return Va(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(n,e){return Tm(n,"POST","/v1/accounts:signInWithPassword",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(n,e){return Tm(n,"POST","/v1/accounts:signInWithEmailLink",Uo(n,e))}async function o3(n,e){return Tm(n,"POST","/v1/accounts:signInWithEmailLink",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends p0{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Zc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Zc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VT(e,t,"signInWithPassword",s3);case"emailLink":return a3(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VT(e,r,"signUpPassword",i3);case"emailLink":return o3(e,{idToken:t,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(n,e){return Tm(n,"POST","/v1/accounts:signInWithIdp",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="http://localhost";class Oo extends p0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,o=c0(t,["providerId","signInMethod"]);if(!r||!a)return null;const c=new Oo(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Vl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Vl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vl(e,t)}buildRequest(){const e={requestUri:l3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=dd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function c3(n){const e=xc(Sc(n)).link,t=e?xc(Sc(e)).deep_link_id:null,r=xc(Sc(n)).deep_link_id;return(r?xc(Sc(r)).link:null)||r||t||e||n}class g0{constructor(e){var t,r,a,o,c,d;const h=xc(Sc(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,_=u3((a=h.mode)!==null&&a!==void 0?a:null);qe(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=h.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=c3(e);try{return new g0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(){this.providerId=gu.PROVIDER_ID}static credential(e,t){return Zc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=g0.parseLink(t);return qe(r,"argument-error"),Zc._fromEmailAndCode(e,r.code,r.tenantId)}}gu.PROVIDER_ID="password";gu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends bA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends _d{constructor(){super("facebook.com")}static credential(e){return Oo._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends _d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Oo._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return sa.credential(t,r)}catch{return null}}}sa.GOOGLE_SIGN_IN_METHOD="google.com";sa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends _d{constructor(){super("github.com")}static credential(e){return Oo._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends _d{constructor(){super("twitter.com")}static credential(e,t){return Oo._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return oa.credential(t,r)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await fi._fromIdTokenResponse(e,r,a),c=zT(r);return new uu({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=zT(r);return new uu({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function zT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends Cs{constructor(e,t,r,a){var o;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Bh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Bh(e,t,r,a)}}function wA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Bh._fromErrorAndOperation(n,o,e,r):o})}async function d3(n,e,t=!1){const r=await Wc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return uu._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(n,e,t=!1){const{auth:r}=n;if(di(r.app))return Promise.reject(Sa(r));const a="reauthenticate";try{const o=await Wc(n,wA(r,a,e,n),t);qe(o.idToken,r,"internal-error");const c=h0(o.idToken);qe(c,r,"internal-error");const{sub:d}=c;return qe(n.uid===d,r,"user-mismatch"),uu._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&yi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(n,e,t=!1){if(di(n.app))return Promise.reject(Sa(n));const r="signIn",a=await wA(n,r,e),o=await uu._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function h3(n,e){return EA(pu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(n){const e=pu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function p3(n,e,t){return di(n.app)?Promise.reject(Sa(n)):h3(cn(n),gu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&m3(n),r})}function g3(n,e,t,r){return cn(n).onIdTokenChanged(e,t,r)}function y3(n,e,t){return cn(n).beforeAuthStateChanged(e,t)}function v3(n,e,t,r){return cn(n).onAuthStateChanged(e,t,r)}function _3(n){return cn(n).signOut()}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=1e3,w3=10;class xA extends TA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);U4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,w3):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},b3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xA.type="LOCAL";const E3=xA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA extends TA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}SA.type="SESSION";const AA=SA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Sm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async p=>p(t.origin,o)),h=await T3(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((d,h)=>{const p=y0("",20);a.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(b.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(){return window}function S3(n){Gi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function A3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R3(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function C3(){return RA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="firebaseLocalStorageDb",I3=1,qh="firebaseLocalStorage",IA="fbase_key";class bd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Am(n,e){return n.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function N3(){const n=indexedDB.deleteDatabase(CA);return new bd(n).toPromise()}function zy(){const n=indexedDB.open(CA,I3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(qh,{keyPath:IA})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(qh)?e(r):(r.close(),await N3(),e(await zy()))})})}async function BT(n,e,t){const r=Am(n,!0).put({[IA]:e,value:t});return new bd(r).toPromise()}async function O3(n,e){const t=Am(n,!1).get(e),r=await new bd(t).toPromise();return r===void 0?null:r.value}function FT(n,e){const t=Am(n,!0).delete(e);return new bd(t).toPromise()}const M3=800,D3=3;class NA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>D3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sm._getInstance(C3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await A3(),!this.activeServiceWorker)return;this.sender=new x3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||R3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zy();return await BT(e,Fh,"1"),await FT(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>BT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>O3(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>FT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Am(a,!1).getAll();return new bd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NA.type="LOCAL";const P3=NA;new vd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(n,e){return e?ws(e):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends p0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function L3(n){return EA(n.auth,new v0(n),n.bypassAuthState)}function j3(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),f3(t,new v0(n),n.bypassAuthState)}async function V3(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),d3(t,new v0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L3;case"linkViaPopup":case"linkViaRedirect":return V3;case"reauthViaPopup":case"reauthViaRedirect":return j3;default:yi(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=new vd(2e3,1e4);class Nl extends OA{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=y0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U3.get())};e()}}Nl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3="pendingRedirect",hh=new Map;class B3 extends OA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const r=await F3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F3(n,e){const t=G3(e),r=H3(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function q3(n,e){hh.set(n._key(),e)}function H3(n){return ws(n._redirectPersistence)}function G3(n){return fh(z3,n.config.apiKey,n.name)}async function $3(n,e,t=!1){if(di(n.app))return Promise.reject(Sa(n));const r=pu(n),a=k3(r,e),c=await new B3(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=10*60*1e3;class K3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!MA(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Hi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q3&&this.cachedEventUids.clear(),this.cachedEventUids.has(qT(e))}saveEventToCache(e){this.cachedEventUids.add(qT(e)),this.lastProcessedEventTime=Date.now()}}function qT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function MA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Y3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(n,e={}){return Va(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z3=/^https?/;async function J3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await X3(n);for(const t of e)try{if(ek(t))return}catch{}yi(n,"unauthorized-domain")}function ek(n){const e=Vy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!Z3.test(t))return!1;if(W3.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new vd(3e4,6e4);function HT(){const n=Gi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nk(n){return new Promise((e,t)=>{var r,a,o;function c(){HT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HT(),t(Hi(n,"network-request-failed"))},timeout:tk.get()})}if(!((a=(r=Gi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Gi().gapi)===null||o===void 0)&&o.load)c();else{const d=K4("iframefcb");return Gi()[d]=()=>{gapi.load?c():t(Hi(n,"network-request-failed"))},yA(`${Q4()}?onload=${d}`).catch(h=>t(h))}}).catch(e=>{throw mh=null,e})}let mh=null;function rk(n){return mh=mh||nk(n),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=new vd(5e3,15e3),sk="__/auth/iframe",ak="emulator/auth/iframe",ok={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uk(n){const e=n.config;qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?f0(e,ak):`https://${n.config.authDomain}/${sk}`,r={apiKey:e.apiKey,appName:n.name,v:cu},a=lk.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${dd(r).slice(1)}`}async function ck(n){const e=await rk(n),t=Gi().gapi;return qe(t,n,"internal-error"),e.open({where:document.body,url:uk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ok,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=Hi(n,"network-request-failed"),d=Gi().setTimeout(()=>{o(c)},ik.get());function h(){Gi().clearTimeout(d),a(r)}r.ping(h).then(h,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fk=500,hk=600,mk="_blank",pk="http://localhost";class GT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gk(n,e,t,r=fk,a=hk){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},dk),{width:r.toString(),height:a.toString(),top:o,left:c}),p=Kn().toLowerCase();t&&(d=cA(p)?mk:t),lA(p)&&(e=e||pk,h.scrollbars="yes");const g=Object.entries(h).reduce((b,[E,T])=>`${b}${E}=${T},`,"");if(V4(p)&&d!=="_self")return yk(e||"",d),new GT(null);const _=window.open(e||"",d,g);qe(_,n,"popup-blocked");try{_.focus()}catch{}return new GT(_)}function yk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="__/auth/handler",_k="emulator/auth/handler",bk=encodeURIComponent("fac");async function $T(n,e,t,r,a,o){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:cu,eventId:a};if(e instanceof bA){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",HN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))c[g]=_}if(e instanceof _d){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await n._getAppCheckToken(),p=h?`#${bk}=${encodeURIComponent(h)}`:"";return`${wk(n)}?${dd(d).slice(1)}${p}`}function wk({config:n}){return n.emulator?f0(n,_k):`https://${n.authDomain}/${vk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="webStorageSupport";class Ek{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AA,this._completeRedirectFn=$3,this._overrideRedirectResult=q3}async _openPopup(e,t,r,a){var o;Rs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await $T(e,t,r,Vy(),a);return gk(e,c,y0())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await $T(e,t,r,Vy(),a);return S3(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Rs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ck(e),r=new K3(e);return t.register("authEvent",a=>(qe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qg,{type:Qg},a=>{var o;const c=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Qg];c!==void 0&&t(!!c),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=J3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pA()||uA()||m0()}}const Tk=Ek;var QT="@firebase/auth",KT="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ak(n){eu(new Ro("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;qe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gA(n)},p=new H4(r,a,o,h);return e3(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),eu(new Ro("auth-internal",e=>{const t=pu(e.getProvider("auth").getImmediate());return(r=>new xk(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ea(QT,KT,Sk(n)),Ea(QT,KT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=5*60,Ck=h1("authIdTokenMaxAge")||Rk;let YT=null;const Ik=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Ck)return;const a=t==null?void 0:t.token;YT!==a&&(YT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Nk(n=y1()){const e=Ev(n,"auth");if(e.isInitialized())return e.getImmediate();const t=J4(n,{popupRedirectResolver:Tk,persistence:[P3,E3,AA]}),r=h1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=Ik(o.toString());y3(t,c,()=>c(t.currentUser)),g3(t,d=>c(d))}}const a=d1("auth");return a&&t3(t,`http://${a}`),t}function Ok(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}G4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=Hi("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",Ok().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ak("Browser");const Mk={apiKey:"AIzaSyClBJkB2VNBvPDMjxJ49yrv8OluDiOqbPI",authDomain:"mahira-collection.firebaseapp.com",projectId:"mahira-collection",storageBucket:"mahira-collection.firebasestorage.app",messagingSenderId:"849673617672",appId:"1:849673617672:web:beeb003de0c8e64a072cbd"},Dk=g1(Mk),Kg=Nk(),ir=WP(Dk),Pk=()=>{const[n,e]=H.useState([]);return H.useEffect(()=>{(async()=>{try{const r=await Vo(mi(ir,"headline")),a=[];r.forEach(o=>{const c=o.data();c.news&&a.push(c.news)}),e(a)}catch(r){console.error("Error fetching headlines:",r)}})()},[]),v.jsxs("div",{className:"w-[100%] md:w-[75%] mx-auto py-0 md:py-4 flex flex-row justify-between items-center px-2 md:px-0",children:[v.jsx("div",{className:"shrink-0 whitespace-nowrap text-[14px]",children:v.jsx("a",{href:"tel:+8801712345678",children:"📞 +880 1712 345 678"})}),v.jsx("div",{className:"w-full hidden md:block px-4 font-semibold",children:v.jsx(s1,{children:n.map((t,r)=>v.jsx("span",{className:"mx-4",children:t},r))})}),v.jsxs("div",{className:"flex flex-row gap-1 md:gap-2 shrink-0",children:[v.jsx("a",{href:"",children:v.jsx(vN,{})}),v.jsx("a",{href:"",children:v.jsx(bN,{})}),v.jsx("a",{href:"",children:v.jsx(_N,{})})]})]})};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lk=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),XT=n=>{const e=Lk(n);return e.charAt(0).toUpperCase()+e.slice(1)},DA=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),jk=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=H.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...d},h)=>H.createElement("svg",{ref:h,...Vk,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:DA("lucide",a),...!o&&!jk(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,g])=>H.createElement(p,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=(n,e)=>{const t=H.forwardRef(({className:r,...a},o)=>H.createElement(Uk,{ref:o,iconNode:e,className:DA(`lucide-${kk(XT(n))}`,`lucide-${n}`,r),...a}));return t.displayName=XT(n),t};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Bk=Is("chevron-down",zk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qk=Is("chevron-up",Fk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Gk=Is("house",Hk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Qk=Is("list",$k);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Yk=Is("menu",Kk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Wk=Is("phone",Xk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Yg=Is("search",Zk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Xg=Is("shopping-cart",Jk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tL=Is("x",eL),WT="/assets/Untitled%20design%20(1)-d8yNnjIf.png",nL=()=>{const[n,e]=H.useState(!1),[t,r]=H.useState(!1),[a,o]=H.useState(null),[c,d]=H.useState([]),[h,p]=H.useState(!0),[g,_]=H.useState(0);H.useEffect(()=>{(async()=>{try{const T=No(mi(ir,"menu-categories"),a4("order")),M=await Vo(T),N=[];M.forEach(O=>{N.push({id:O.id,...O.data()})}),d(N),p(!1)}catch(T){console.error("Error fetching menu items:",T),p(!1)}})()},[]),H.useEffect(()=>{const E=()=>{const M=(JSON.parse(localStorage.getItem("cart"))||[]).reduce((N,O)=>N+O.quantity,0);_(M)};return E(),window.addEventListener("storage",E),window.addEventListener("cartUpdated",E),()=>{window.removeEventListener("storage",E),window.removeEventListener("cartUpdated",E)}},[]);const b=E=>{o(T=>T===E?null:E)};return h?v.jsx("div",{className:"bg-white border-y border-gray-200 h-16"}):v.jsxs(v.Fragment,{children:[v.jsxs("header",{className:"bg-white border-y border-gray-200 play-regular",children:[v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"hidden md:flex justify-between items-center h-16",children:[v.jsxs("div",{className:"flex space-x-6 items-center",children:[v.jsx(Bt,{to:"/",className:"text-gray-700 hover:text-black",children:"Home"}),c.map(E=>E.type==="dropdown"?v.jsxs("div",{className:"group relative",children:[v.jsx(Bt,{to:`/category/${E.id}`,className:"text-gray-700 hover:text-black capitalize",children:E.id}),v.jsx("div",{className:"absolute hidden group-hover:block bg-white shadow-md py-2 px-4 space-y-2 z-20 min-w-[200px] whitespace-nowrap",children:E.items.map(T=>v.jsx(Bt,{to:`${T.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:T.name},T.path))})]},E.id):v.jsx(Bt,{to:E.path,className:"text-gray-700 hover:text-black capitalize",children:E.id},E.id))]}),v.jsx("div",{className:"flex justify-center items-center z-50",children:v.jsx(Bt,{to:"/",children:v.jsx("img",{src:WT,alt:"Brand Logo",className:"h-[190px] w-auto"})})}),v.jsxs("div",{className:"flex space-x-6 items-center",children:[v.jsxs("div",{className:"group relative",children:[v.jsx(Bt,{to:"/all-categories",className:"text-gray-700 hover:text-black",children:"All Category"}),v.jsx("div",{className:"absolute right-[-100px] top-[20px] hidden group-hover:flex bg-white shadow-md py-4 px-6 pt-10 space-x-8 z-20",children:c.filter(E=>E.type==="dropdown").map(E=>v.jsxs("div",{className:"min-w-[200px] whitespace-nowrap",children:[v.jsx("h3",{className:"font-semibold text-gray-800 mb-2 capitalize",children:E.id}),v.jsx("div",{className:"space-y-1",children:E.items.map(T=>v.jsx(Bt,{to:`${T.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:T.name},T.path))})]},E.id))})]}),v.jsx(Bt,{to:"/cart",className:"text-gray-700 hover:text-black",children:"Orders"}),v.jsxs(Bt,{to:"/cart",className:"text-gray-700 hover:text-black relative",children:[v.jsx(Xg,{size:20}),g>0&&v.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:g})]}),v.jsxs("div",{className:"relative flex items-center",children:[v.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 hover:text-black",children:v.jsx(Yg,{size:20})}),t&&v.jsx("div",{className:"absolute top-full mt-2 z-50 right-0 bg-white border border-gray-200 shadow-md p-2 rounded",children:v.jsx("input",{type:"text",placeholder:"Search...",className:"px-2 py-1 border border-gray-300 rounded w-48 focus:outline-none"})})]})]})]}),v.jsxs("div",{className:"md:hidden flex justify-between items-center h-16",children:[v.jsx("div",{className:"flex items-center",children:v.jsx("button",{onClick:()=>e(!n),children:n?v.jsx(tL,{size:24}):v.jsx(Yk,{size:24})})}),v.jsx("div",{className:"flex justify-center items-center z-50",children:v.jsx(Bt,{to:"/",children:v.jsx("img",{src:WT,alt:"Brand Logo",className:"h-[120px] w-auto"})})}),v.jsx("div",{className:"flex items-center",children:v.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 hover:text-black",children:v.jsx(Yg,{size:24})})})]})]}),n&&v.jsxs("div",{className:"md:hidden bg-white border-t border-gray-200 px-4 py-4 space-y-4",children:[v.jsx(Bt,{to:"/",className:"block font-semibold",children:"Home"}),c.map(E=>E.type==="dropdown"?v.jsxs("div",{children:[v.jsxs("button",{onClick:()=>b(E.id),className:"flex justify-between items-center w-full font-semibold text-left capitalize",children:[E.id,a===E.id?v.jsx(qk,{size:18}):v.jsx(Bk,{size:18})]}),a===E.id&&v.jsx("div",{className:"ml-4 mt-2 space-y-1",children:E.items.map(T=>v.jsx(Bt,{to:`${T.path}`,className:"block capitalize",children:T.name},T.path))})]},E.id):v.jsx(Bt,{to:E.path,className:"block font-semibold capitalize",children:E.id},E.id)),v.jsx(Bt,{to:"/orders",className:"block font-semibold",children:"Orders"}),v.jsxs(Bt,{to:"/cart",className:"flex items-center space-x-2 relative",children:[v.jsx(Xg,{size:20}),v.jsx("span",{children:"Cart"}),g>0&&v.jsx("span",{className:"absolute left-4 -top-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:g})]}),v.jsxs("div",{children:[v.jsxs("button",{onClick:()=>r(!t),className:"flex items-center space-x-2 text-gray-700",children:[v.jsx(Yg,{size:20}),v.jsx("span",{children:"Search"})]}),t&&v.jsx("div",{className:"mt-2",children:v.jsx("input",{type:"text",placeholder:"Search...",className:"w-full px-3 py-1 border border-gray-300 rounded focus:outline-none"})})]})]})]}),v.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:v.jsxs("div",{className:"flex justify-around items-center h-16",children:[v.jsxs(Bt,{to:"/",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[v.jsx(Gk,{size:20}),v.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),v.jsxs(Bt,{to:"/all-categories",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[v.jsx(Qk,{size:20}),v.jsx("span",{className:"text-xs mt-1",children:"Category"})]}),v.jsxs(Bt,{to:"/cart",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2 relative",children:[v.jsx(Xg,{size:20}),v.jsx("span",{className:"text-xs mt-1",children:"Cart"}),g>0&&v.jsx("span",{className:"absolute top-0 right-2 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:g})]}),v.jsxs("a",{href:"tel:+1234567890",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[v.jsx(Wk,{size:20}),v.jsx("span",{className:"text-xs mt-1",children:"Call"})]})]})})]})},rL=()=>v.jsx("div",{children:v.jsx("div",{children:v.jsx("div",{className:"w-full block md:hidden px-4 font-semibold",children:v.jsx(s1,{children:"hnbkjbndsfh;kln"})})})});var wd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mo=typeof window>"u"||"Deno"in globalThis;function hr(){}function iL(n,e){return typeof n=="function"?n(e):n}function By(n){return typeof n=="number"&&n>=0&&n!==1/0}function PA(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Ul(n,e){return typeof n=="function"?n(e):n}function ci(n,e){return typeof n=="function"?n(e):n}function ZT(n,e){const{type:t="all",exact:r,fetchStatus:a,predicate:o,queryKey:c,stale:d}=n;if(c){if(r){if(e.queryHash!==_0(c,e.options))return!1}else if(!ed(e.queryKey,c))return!1}if(t!=="all"){const h=e.isActive();if(t==="active"&&!h||t==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||a&&a!==e.state.fetchStatus||o&&!o(e))}function JT(n,e){const{exact:t,status:r,predicate:a,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(t){if(Jc(e.options.mutationKey)!==Jc(o))return!1}else if(!ed(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function _0(n,e){return((e==null?void 0:e.queryKeyHashFn)||Jc)(n)}function Jc(n){return JSON.stringify(n,(e,t)=>qy(t)?Object.keys(t).sort().reduce((r,a)=>(r[a]=t[a],r),{}):t)}function ed(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>ed(n[t],e[t])):!1}function kA(n,e){if(n===e)return n;const t=ex(n)&&ex(e);if(t||qy(n)&&qy(e)){const r=t?n:Object.keys(n),a=r.length,o=t?e:Object.keys(e),c=o.length,d=t?[]:{};let h=0;for(let p=0;p<c;p++){const g=t?p:o[p];(!t&&r.includes(g)||t)&&n[g]===void 0&&e[g]===void 0?(d[g]=void 0,h++):(d[g]=kA(n[g],e[g]),d[g]===n[g]&&n[g]!==void 0&&h++)}return a===c&&h===a?n:d}return e}function Fy(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function ex(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function qy(n){if(!tx(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!tx(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function tx(n){return Object.prototype.toString.call(n)==="[object Object]"}function sL(n){return new Promise(e=>{setTimeout(e,n)})}function Hy(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?kA(n,e):e}function aL(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function oL(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var b0=Symbol();function LA(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===b0?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function lL(n,e){return typeof n=="function"?n(...e):!!n}var yo,la,Bl,xx,uL=(xx=class extends wd{constructor(){super();$e(this,yo);$e(this,la);$e(this,Bl);Ie(this,Bl,e=>{if(!Mo&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Y(this,la)||this.setEventListener(Y(this,Bl))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,la))==null||e.call(this),Ie(this,la,void 0))}setEventListener(e){var t;Ie(this,Bl,e),(t=Y(this,la))==null||t.call(this),Ie(this,la,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,yo)!==e&&(Ie(this,yo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Y(this,yo)=="boolean"?Y(this,yo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},yo=new WeakMap,la=new WeakMap,Bl=new WeakMap,xx),w0=new uL,Fl,ua,ql,Sx,cL=(Sx=class extends wd{constructor(){super();$e(this,Fl,!0);$e(this,ua);$e(this,ql);Ie(this,ql,e=>{if(!Mo&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,ua)||this.setEventListener(Y(this,ql))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,ua))==null||e.call(this),Ie(this,ua,void 0))}setEventListener(e){var t;Ie(this,ql,e),(t=Y(this,ua))==null||t.call(this),Ie(this,ua,e(this.setOnline.bind(this)))}setOnline(e){Y(this,Fl)!==e&&(Ie(this,Fl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,Fl)}},Fl=new WeakMap,ua=new WeakMap,ql=new WeakMap,Sx),Hh=new cL;function Gy(){let n,e;const t=new Promise((a,o)=>{n=a,e=o});t.status="pending",t.catch(()=>{});function r(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{r({status:"fulfilled",value:a}),n(a)},t.reject=a=>{r({status:"rejected",reason:a}),e(a)},t}function dL(n){return Math.min(1e3*2**n,3e4)}function jA(n){return(n??"online")==="online"?Hh.isOnline():!0}var VA=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Wg(n){return n instanceof VA}function UA(n){let e=!1,t=0,r=!1,a;const o=Gy(),c=M=>{var N;r||(b(new VA(M)),(N=n.abort)==null||N.call(n))},d=()=>{e=!0},h=()=>{e=!1},p=()=>w0.isFocused()&&(n.networkMode==="always"||Hh.isOnline())&&n.canRun(),g=()=>jA(n.networkMode)&&n.canRun(),_=M=>{var N;r||(r=!0,(N=n.onSuccess)==null||N.call(n,M),a==null||a(),o.resolve(M))},b=M=>{var N;r||(r=!0,(N=n.onError)==null||N.call(n,M),a==null||a(),o.reject(M))},E=()=>new Promise(M=>{var N;a=O=>{(r||p())&&M(O)},(N=n.onPause)==null||N.call(n)}).then(()=>{var M;a=void 0,r||(M=n.onContinue)==null||M.call(n)}),T=()=>{if(r)return;let M;const N=t===0?n.initialPromise:void 0;try{M=N??n.fn()}catch(O){M=Promise.reject(O)}Promise.resolve(M).then(_).catch(O=>{var V;if(r)return;const A=n.retry??(Mo?0:3),R=n.retryDelay??dL,B=typeof R=="function"?R(t,O):R,j=A===!0||typeof A=="number"&&t<A||typeof A=="function"&&A(t,O);if(e||!j){b(O);return}t++,(V=n.onFail)==null||V.call(n,t,O),sL(B).then(()=>p()?void 0:E()).then(()=>{e?b(O):T()})})};return{promise:o,cancel:c,continue:()=>(a==null||a(),o),cancelRetry:d,continueRetry:h,canStart:g,start:()=>(g()?T():E().then(T),o)}}var fL=n=>setTimeout(n,0);function hL(){let n=[],e=0,t=d=>{d()},r=d=>{d()},a=fL;const o=d=>{e?n.push(d):a(()=>{t(d)})},c=()=>{const d=n;n=[],d.length&&a(()=>{r(()=>{d.forEach(h=>{t(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},batchCalls:d=>(...h)=>{o(()=>{d(...h)})},schedule:o,setNotifyFunction:d=>{t=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{a=d}}}var Ln=hL(),vo,Ax,zA=(Ax=class{constructor(){$e(this,vo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),By(this.gcTime)&&Ie(this,vo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Mo?1/0:5*60*1e3))}clearGcTimeout(){Y(this,vo)&&(clearTimeout(Y(this,vo)),Ie(this,vo,void 0))}},vo=new WeakMap,Ax),Hl,Gl,Wr,_o,Hn,nd,bo,li,ys,Rx,mL=(Rx=class extends zA{constructor(e){super();$e(this,li);$e(this,Hl);$e(this,Gl);$e(this,Wr);$e(this,_o);$e(this,Hn);$e(this,nd);$e(this,bo);Ie(this,bo,!1),Ie(this,nd,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ie(this,_o,e.client),Ie(this,Wr,Y(this,_o).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ie(this,Hl,pL(this.options)),this.state=e.state??Y(this,Hl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,Hn))==null?void 0:e.promise}setOptions(e){this.options={...Y(this,nd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Wr).remove(this)}setData(e,t){const r=Hy(this.state.data,e,this.options);return ht(this,li,ys).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){ht(this,li,ys).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,a;const t=(r=Y(this,Hn))==null?void 0:r.promise;return(a=Y(this,Hn))==null||a.cancel(e),t?t.then(hr).catch(hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Hl))}isActive(){return this.observers.some(e=>ci(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===b0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!PA(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Hn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Hn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,Wr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Y(this,Hn)&&(Y(this,bo)?Y(this,Hn).cancel({revert:!0}):Y(this,Hn).cancelRetry()),this.scheduleGc()),Y(this,Wr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ht(this,li,ys).call(this,{type:"invalidate"})}fetch(e,t){var h,p,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Hn))return Y(this,Hn).continueRetry(),Y(this,Hn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const _=this.observers.find(b=>b.options.queryFn);_&&this.setOptions(_.options)}const r=new AbortController,a=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Ie(this,bo,!0),r.signal)})},o=()=>{const _=LA(this.options,t),b={client:Y(this,_o),queryKey:this.queryKey,meta:this.meta};return a(b),Ie(this,bo,!1),this.options.persister?this.options.persister(_,b,this):_(b)},c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Y(this,_o),state:this.state,fetchFn:o};a(c),(h=this.options.behavior)==null||h.onFetch(c,this),Ie(this,Gl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&ht(this,li,ys).call(this,{type:"fetch",meta:(g=c.fetchOptions)==null?void 0:g.meta});const d=_=>{var b,E,T,M;Wg(_)&&_.silent||ht(this,li,ys).call(this,{type:"error",error:_}),Wg(_)||((E=(b=Y(this,Wr).config).onError)==null||E.call(b,_,this),(M=(T=Y(this,Wr).config).onSettled)==null||M.call(T,this.state.data,_,this)),this.scheduleGc()};return Ie(this,Hn,UA({initialPromise:t==null?void 0:t.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:_=>{var b,E,T,M;if(_===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(_)}catch(N){d(N);return}(E=(b=Y(this,Wr).config).onSuccess)==null||E.call(b,_,this),(M=(T=Y(this,Wr).config).onSettled)==null||M.call(T,_,this.state.error,this),this.scheduleGc()},onError:d,onFail:(_,b)=>{ht(this,li,ys).call(this,{type:"failed",failureCount:_,error:b})},onPause:()=>{ht(this,li,ys).call(this,{type:"pause"})},onContinue:()=>{ht(this,li,ys).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),Y(this,Hn).start()}},Hl=new WeakMap,Gl=new WeakMap,Wr=new WeakMap,_o=new WeakMap,Hn=new WeakMap,nd=new WeakMap,bo=new WeakMap,li=new WeakSet,ys=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...BA(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return Wg(a)&&a.revert&&Y(this,Gl)?{...Y(this,Gl),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Ln.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,Wr).notify({query:this,type:"updated",action:e})})},Rx);function BA(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jA(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function pL(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Vi,Cx,gL=(Cx=class extends wd{constructor(e={}){super();$e(this,Vi);this.config=e,Ie(this,Vi,new Map)}build(e,t,r){const a=t.queryKey,o=t.queryHash??_0(a,t);let c=this.get(o);return c||(c=new mL({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){Y(this,Vi).has(e.queryHash)||(Y(this,Vi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Y(this,Vi).get(e.queryHash);t&&(e.destroy(),t===e&&Y(this,Vi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Vi).get(e)}getAll(){return[...Y(this,Vi).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>ZT(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>ZT(e,r)):t}notify(e){Ln.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ln.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ln.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Vi=new WeakMap,Cx),Ui,nr,wo,zi,na,Ix,yL=(Ix=class extends zA{constructor(e){super();$e(this,zi);$e(this,Ui);$e(this,nr);$e(this,wo);this.mutationId=e.mutationId,Ie(this,nr,e.mutationCache),Ie(this,Ui,[]),this.state=e.state||vL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,Ui).includes(e)||(Y(this,Ui).push(e),this.clearGcTimeout(),Y(this,nr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ie(this,Ui,Y(this,Ui).filter(t=>t!==e)),this.scheduleGc(),Y(this,nr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,Ui).length||(this.state.status==="pending"?this.scheduleGc():Y(this,nr).remove(this))}continue(){var e;return((e=Y(this,wo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,c,d,h,p,g,_,b,E,T,M,N,O,A,R,B,j,V,U,I;const t=()=>{ht(this,zi,na).call(this,{type:"continue"})};Ie(this,wo,UA({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,P)=>{ht(this,zi,na).call(this,{type:"failed",failureCount:C,error:P})},onPause:()=>{ht(this,zi,na).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,nr).canRun(this)}));const r=this.state.status==="pending",a=!Y(this,wo).canStart();try{if(r)t();else{ht(this,zi,na).call(this,{type:"pending",variables:e,isPaused:a}),await((c=(o=Y(this,nr).config).onMutate)==null?void 0:c.call(o,e,this));const P=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,e));P!==this.state.context&&ht(this,zi,na).call(this,{type:"pending",context:P,variables:e,isPaused:a})}const C=await Y(this,wo).start();return await((g=(p=Y(this,nr).config).onSuccess)==null?void 0:g.call(p,C,e,this.state.context,this)),await((b=(_=this.options).onSuccess)==null?void 0:b.call(_,C,e,this.state.context)),await((T=(E=Y(this,nr).config).onSettled)==null?void 0:T.call(E,C,null,this.state.variables,this.state.context,this)),await((N=(M=this.options).onSettled)==null?void 0:N.call(M,C,null,e,this.state.context)),ht(this,zi,na).call(this,{type:"success",data:C}),C}catch(C){try{throw await((A=(O=Y(this,nr).config).onError)==null?void 0:A.call(O,C,e,this.state.context,this)),await((B=(R=this.options).onError)==null?void 0:B.call(R,C,e,this.state.context)),await((V=(j=Y(this,nr).config).onSettled)==null?void 0:V.call(j,void 0,C,this.state.variables,this.state.context,this)),await((I=(U=this.options).onSettled)==null?void 0:I.call(U,void 0,C,e,this.state.context)),C}finally{ht(this,zi,na).call(this,{type:"error",error:C})}}finally{Y(this,nr).runNext(this)}}},Ui=new WeakMap,nr=new WeakMap,wo=new WeakMap,zi=new WeakSet,na=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ln.batch(()=>{Y(this,Ui).forEach(r=>{r.onMutationUpdate(e)}),Y(this,nr).notify({mutation:this,type:"updated",action:e})})},Ix);function vL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _s,ui,rd,Nx,_L=(Nx=class extends wd{constructor(e={}){super();$e(this,_s);$e(this,ui);$e(this,rd);this.config=e,Ie(this,_s,new Set),Ie(this,ui,new Map),Ie(this,rd,0)}build(e,t,r){const a=new yL({mutationCache:this,mutationId:++Uf(this,rd)._,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){Y(this,_s).add(e);const t=Yf(e);if(typeof t=="string"){const r=Y(this,ui).get(t);r?r.push(e):Y(this,ui).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,_s).delete(e)){const t=Yf(e);if(typeof t=="string"){const r=Y(this,ui).get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&Y(this,ui).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Yf(e);if(typeof t=="string"){const r=Y(this,ui).get(t),a=r==null?void 0:r.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){var r;const t=Yf(e);if(typeof t=="string"){const a=(r=Y(this,ui).get(t))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ln.batch(()=>{Y(this,_s).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,_s).clear(),Y(this,ui).clear()})}getAll(){return Array.from(Y(this,_s))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>JT(t,r))}findAll(e={}){return this.getAll().filter(t=>JT(e,t))}notify(e){Ln.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ln.batch(()=>Promise.all(e.map(t=>t.continue().catch(hr))))}},_s=new WeakMap,ui=new WeakMap,rd=new WeakMap,Nx);function Yf(n){var e;return(e=n.options.scope)==null?void 0:e.id}function Gh(n){return{onFetch:(e,t)=>{var g,_,b,E,T;const r=e.options,a=(b=(_=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:_.fetchMore)==null?void 0:b.direction,o=((E=e.state.data)==null?void 0:E.pages)||[],c=((T=e.state.data)==null?void 0:T.pageParams)||[];let d={pages:[],pageParams:[]},h=0;const p=async()=>{let M=!1;const N=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?M=!0:e.signal.addEventListener("abort",()=>{M=!0}),e.signal)})},O=LA(e.options,e.fetchOptions),A=async(R,B,j)=>{if(M)return Promise.reject();if(B==null&&R.pages.length)return Promise.resolve(R);const V={client:e.client,queryKey:e.queryKey,pageParam:B,direction:j?"backward":"forward",meta:e.options.meta};N(V);const U=await O(V),{maxPages:I}=e.options,C=j?oL:aL;return{pages:C(R.pages,U,I),pageParams:C(R.pageParams,B,I)}};if(a&&o.length){const R=a==="backward",B=R?FA:$y,j={pages:o,pageParams:c},V=B(r,j);d=await A(j,V,R)}else{const R=n??o.length;do{const B=h===0?c[0]??r.initialPageParam:$y(r,d);if(h>0&&B==null)break;d=await A(d,B),h++}while(h<R)}return d};e.options.persister?e.fetchFn=()=>{var M,N;return(N=(M=e.options).persister)==null?void 0:N.call(M,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=p}}}function $y(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function FA(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}function bL(n,e){return e?$y(n,e)!=null:!1}function wL(n,e){return!e||!n.getPreviousPageParam?!1:FA(n,e)!=null}var Xt,ca,da,$l,Ql,fa,Kl,Yl,Ox,EL=(Ox=class{constructor(n={}){$e(this,Xt);$e(this,ca);$e(this,da);$e(this,$l);$e(this,Ql);$e(this,fa);$e(this,Kl);$e(this,Yl);Ie(this,Xt,n.queryCache||new gL),Ie(this,ca,n.mutationCache||new _L),Ie(this,da,n.defaultOptions||{}),Ie(this,$l,new Map),Ie(this,Ql,new Map),Ie(this,fa,0)}mount(){Uf(this,fa)._++,Y(this,fa)===1&&(Ie(this,Kl,w0.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,Xt).onFocus())})),Ie(this,Yl,Hh.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,Xt).onOnline())})))}unmount(){var n,e;Uf(this,fa)._--,Y(this,fa)===0&&((n=Y(this,Kl))==null||n.call(this),Ie(this,Kl,void 0),(e=Y(this,Yl))==null||e.call(this),Ie(this,Yl,void 0))}isFetching(n){return Y(this,Xt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Y(this,ca).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,Xt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Y(this,Xt).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Ul(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Y(this,Xt).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=Y(this,Xt).get(r.queryHash),o=a==null?void 0:a.state.data,c=iL(e,o);if(c!==void 0)return Y(this,Xt).build(this,r).setData(c,{...t,manual:!0})}setQueriesData(n,e,t){return Ln.batch(()=>Y(this,Xt).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,Xt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Y(this,Xt);Ln.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Y(this,Xt);return Ln.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Ln.batch(()=>Y(this,Xt).findAll(n).map(a=>a.cancel(t)));return Promise.all(r).then(hr).catch(hr)}invalidateQueries(n,e={}){return Ln.batch(()=>(Y(this,Xt).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Ln.batch(()=>Y(this,Xt).findAll(n).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,t);return t.throwOnError||(o=o.catch(hr)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(hr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Y(this,Xt).build(this,e);return t.isStaleByTime(Ul(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(hr).catch(hr)}fetchInfiniteQuery(n){return n.behavior=Gh(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(hr).catch(hr)}ensureInfiniteQueryData(n){return n.behavior=Gh(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Hh.isOnline()?Y(this,ca).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Xt)}getMutationCache(){return Y(this,ca)}getDefaultOptions(){return Y(this,da)}setDefaultOptions(n){Ie(this,da,n)}setQueryDefaults(n,e){Y(this,$l).set(Jc(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Y(this,$l).values()],t={};return e.forEach(r=>{ed(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Y(this,Ql).set(Jc(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Y(this,Ql).values()],t={};return e.forEach(r=>{ed(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Y(this,da).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=_0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===b0&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Y(this,da).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Y(this,Xt).clear(),Y(this,ca).clear()}},Xt=new WeakMap,ca=new WeakMap,da=new WeakMap,$l=new WeakMap,Ql=new WeakMap,fa=new WeakMap,Kl=new WeakMap,Yl=new WeakMap,Ox),dr,mt,id,rr,Eo,Xl,ha,ma,sd,Wl,Zl,To,xo,pa,Jl,Rt,Nc,Qy,Ky,Yy,Xy,Wy,Zy,Jy,HA,Mx,qA=(Mx=class extends wd{constructor(e,t){super();$e(this,Rt);$e(this,dr);$e(this,mt);$e(this,id);$e(this,rr);$e(this,Eo);$e(this,Xl);$e(this,ha);$e(this,ma);$e(this,sd);$e(this,Wl);$e(this,Zl);$e(this,To);$e(this,xo);$e(this,pa);$e(this,Jl,new Set);this.options=t,Ie(this,dr,e),Ie(this,ma,null),Ie(this,ha,Gy()),this.options.experimental_prefetchInRender||Y(this,ha).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,mt).addObserver(this),nx(Y(this,mt),this.options)?ht(this,Rt,Nc).call(this):this.updateResult(),ht(this,Rt,Xy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ev(Y(this,mt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ev(Y(this,mt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ht(this,Rt,Wy).call(this),ht(this,Rt,Zy).call(this),Y(this,mt).removeObserver(this)}setOptions(e){const t=this.options,r=Y(this,mt);if(this.options=Y(this,dr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ci(this.options.enabled,Y(this,mt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ht(this,Rt,Jy).call(this),Y(this,mt).setOptions(this.options),t._defaulted&&!Fy(this.options,t)&&Y(this,dr).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,mt),observer:this});const a=this.hasListeners();a&&rx(Y(this,mt),r,this.options,t)&&ht(this,Rt,Nc).call(this),this.updateResult(),a&&(Y(this,mt)!==r||ci(this.options.enabled,Y(this,mt))!==ci(t.enabled,Y(this,mt))||Ul(this.options.staleTime,Y(this,mt))!==Ul(t.staleTime,Y(this,mt)))&&ht(this,Rt,Qy).call(this);const o=ht(this,Rt,Ky).call(this);a&&(Y(this,mt)!==r||ci(this.options.enabled,Y(this,mt))!==ci(t.enabled,Y(this,mt))||o!==Y(this,pa))&&ht(this,Rt,Yy).call(this,o)}getOptimisticResult(e){const t=Y(this,dr).getQueryCache().build(Y(this,dr),e),r=this.createResult(t,e);return xL(this,r)&&(Ie(this,rr,r),Ie(this,Xl,this.options),Ie(this,Eo,Y(this,mt).state)),r}getCurrentResult(){return Y(this,rr)}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t==null||t(a),Reflect.get(r,a))})}trackProp(e){Y(this,Jl).add(e)}getCurrentQuery(){return Y(this,mt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Y(this,dr).defaultQueryOptions(e),r=Y(this,dr).getQueryCache().build(Y(this,dr),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return ht(this,Rt,Nc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,rr)))}createResult(e,t){var C;const r=Y(this,mt),a=this.options,o=Y(this,rr),c=Y(this,Eo),d=Y(this,Xl),p=e!==r?e.state:Y(this,id),{state:g}=e;let _={...g},b=!1,E;if(t._optimisticResults){const P=this.hasListeners(),z=!P&&nx(e,t),F=P&&rx(e,r,t,a);(z||F)&&(_={..._,...BA(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:T,errorUpdatedAt:M,status:N}=_;E=_.data;let O=!1;if(t.placeholderData!==void 0&&E===void 0&&N==="pending"){let P;o!=null&&o.isPlaceholderData&&t.placeholderData===(d==null?void 0:d.placeholderData)?(P=o.data,O=!0):P=typeof t.placeholderData=="function"?t.placeholderData((C=Y(this,Zl))==null?void 0:C.state.data,Y(this,Zl)):t.placeholderData,P!==void 0&&(N="success",E=Hy(o==null?void 0:o.data,P,t),b=!0)}if(t.select&&E!==void 0&&!O)if(o&&E===(c==null?void 0:c.data)&&t.select===Y(this,sd))E=Y(this,Wl);else try{Ie(this,sd,t.select),E=t.select(E),E=Hy(o==null?void 0:o.data,E,t),Ie(this,Wl,E),Ie(this,ma,null)}catch(P){Ie(this,ma,P)}Y(this,ma)&&(T=Y(this,ma),E=Y(this,Wl),M=Date.now(),N="error");const A=_.fetchStatus==="fetching",R=N==="pending",B=N==="error",j=R&&A,V=E!==void 0,I={status:N,fetchStatus:_.fetchStatus,isPending:R,isSuccess:N==="success",isError:B,isInitialLoading:j,isLoading:j,data:E,dataUpdatedAt:_.dataUpdatedAt,error:T,errorUpdatedAt:M,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>p.dataUpdateCount||_.errorUpdateCount>p.errorUpdateCount,isFetching:A,isRefetching:A&&!R,isLoadingError:B&&!V,isPaused:_.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:B&&V,isStale:E0(e,t),refetch:this.refetch,promise:Y(this,ha)};if(this.options.experimental_prefetchInRender){const P=L=>{I.status==="error"?L.reject(I.error):I.data!==void 0&&L.resolve(I.data)},z=()=>{const L=Ie(this,ha,I.promise=Gy());P(L)},F=Y(this,ha);switch(F.status){case"pending":e.queryHash===r.queryHash&&P(F);break;case"fulfilled":(I.status==="error"||I.data!==F.value)&&z();break;case"rejected":(I.status!=="error"||I.error!==F.reason)&&z();break}}return I}updateResult(){const e=Y(this,rr),t=this.createResult(Y(this,mt),this.options);if(Ie(this,Eo,Y(this,mt).state),Ie(this,Xl,this.options),Y(this,Eo).data!==void 0&&Ie(this,Zl,Y(this,mt)),Fy(t,e))return;Ie(this,rr,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!Y(this,Jl).size)return!0;const c=new Set(o??Y(this,Jl));return this.options.throwOnError&&c.add("error"),Object.keys(Y(this,rr)).some(d=>{const h=d;return Y(this,rr)[h]!==e[h]&&c.has(h)})};ht(this,Rt,HA).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ht(this,Rt,Xy).call(this)}},dr=new WeakMap,mt=new WeakMap,id=new WeakMap,rr=new WeakMap,Eo=new WeakMap,Xl=new WeakMap,ha=new WeakMap,ma=new WeakMap,sd=new WeakMap,Wl=new WeakMap,Zl=new WeakMap,To=new WeakMap,xo=new WeakMap,pa=new WeakMap,Jl=new WeakMap,Rt=new WeakSet,Nc=function(e){ht(this,Rt,Jy).call(this);let t=Y(this,mt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(hr)),t},Qy=function(){ht(this,Rt,Wy).call(this);const e=Ul(this.options.staleTime,Y(this,mt));if(Mo||Y(this,rr).isStale||!By(e))return;const r=PA(Y(this,rr).dataUpdatedAt,e)+1;Ie(this,To,setTimeout(()=>{Y(this,rr).isStale||this.updateResult()},r))},Ky=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,mt)):this.options.refetchInterval)??!1},Yy=function(e){ht(this,Rt,Zy).call(this),Ie(this,pa,e),!(Mo||ci(this.options.enabled,Y(this,mt))===!1||!By(Y(this,pa))||Y(this,pa)===0)&&Ie(this,xo,setInterval(()=>{(this.options.refetchIntervalInBackground||w0.isFocused())&&ht(this,Rt,Nc).call(this)},Y(this,pa)))},Xy=function(){ht(this,Rt,Qy).call(this),ht(this,Rt,Yy).call(this,ht(this,Rt,Ky).call(this))},Wy=function(){Y(this,To)&&(clearTimeout(Y(this,To)),Ie(this,To,void 0))},Zy=function(){Y(this,xo)&&(clearInterval(Y(this,xo)),Ie(this,xo,void 0))},Jy=function(){const e=Y(this,dr).getQueryCache().build(Y(this,dr),this.options);if(e===Y(this,mt))return;const t=Y(this,mt);Ie(this,mt,e),Ie(this,id,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},HA=function(e){Ln.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(Y(this,rr))}),Y(this,dr).getQueryCache().notify({query:Y(this,mt),type:"observerResultsUpdated"})})},Mx);function TL(n,e){return ci(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function nx(n,e){return TL(n,e)||n.state.data!==void 0&&ev(n,e,e.refetchOnMount)}function ev(n,e,t){if(ci(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&E0(n,e)}return!1}function rx(n,e,t,r){return(n!==e||ci(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&E0(n,t)}function E0(n,e){return ci(e.enabled,n)!==!1&&n.isStaleByTime(Ul(e.staleTime,n))}function xL(n,e){return!Fy(n.getCurrentResult(),e)}var SL=class extends qA{constructor(n,e){super(n,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n){super.setOptions({...n,behavior:Gh()})}getOptimisticResult(n){return n.behavior=Gh(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,e){var T,M;const{state:t}=n,r=super.createResult(n,e),{isFetching:a,isRefetching:o,isError:c,isRefetchError:d}=r,h=(M=(T=t.fetchMeta)==null?void 0:T.fetchMore)==null?void 0:M.direction,p=c&&h==="forward",g=a&&h==="forward",_=c&&h==="backward",b=a&&h==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:bL(e,t.data),hasPreviousPage:wL(e,t.data),isFetchNextPageError:p,isFetchingNextPage:g,isFetchPreviousPageError:_,isFetchingPreviousPage:b,isRefetchError:d&&!p&&!_,isRefetching:o&&!g&&!b}}},GA=H.createContext(void 0),AL=n=>{const e=H.useContext(GA);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},RL=({client:n,children:e})=>(H.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),v.jsx(GA.Provider,{value:n,children:e})),$A=H.createContext(!1),CL=()=>H.useContext($A);$A.Provider;function IL(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var NL=H.createContext(IL()),OL=()=>H.useContext(NL),ML=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},DL=n=>{H.useEffect(()=>{n.clearReset()},[n])},PL=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:a})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(a&&n.data===void 0||lL(t,[n.error,r])),kL=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},LL=(n,e)=>n.isLoading&&n.isFetching&&!e,jL=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,ix=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function QA(n,e,t){var _,b,E,T,M;const r=AL(),a=CL(),o=OL(),c=r.defaultQueryOptions(n);(b=(_=r.getDefaultOptions().queries)==null?void 0:_._experimental_beforeQuery)==null||b.call(_,c),c._optimisticResults=a?"isRestoring":"optimistic",kL(c),ML(c,o),DL(o);const d=!r.getQueryCache().get(c.queryHash),[h]=H.useState(()=>new e(r,c)),p=h.getOptimisticResult(c),g=!a&&n.subscribed!==!1;if(H.useSyncExternalStore(H.useCallback(N=>{const O=g?h.subscribe(Ln.batchCalls(N)):hr;return h.updateResult(),O},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),H.useEffect(()=>{h.setOptions(c)},[c,h]),jL(c,p))throw ix(c,h,o);if(PL({result:p,errorResetBoundary:o,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw p.error;if((T=(E=r.getDefaultOptions().queries)==null?void 0:E._experimental_afterQuery)==null||T.call(E,c,p),c.experimental_prefetchInRender&&!Mo&&LL(p,a)){const N=d?ix(c,h,o):(M=r.getQueryCache().get(c.queryHash))==null?void 0:M.promise;N==null||N.catch(hr).finally(()=>{h.updateResult()})}return c.notifyOnChangeProps?p:h.trackResult(p)}function VL(n,e){return QA(n,qA)}function KA(n,e){return QA(n,SL)}const UL=new EL;function zL(){return v.jsx(v.Fragment,{children:v.jsx("div",{children:v.jsxs(RL,{client:UL,children:[v.jsx(Pk,{}),v.jsx(rL,{}),v.jsx(nL,{}),v.jsx(EI,{})]})})})}function sx(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function T0(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:sx(e[r])&&sx(n[r])&&Object.keys(e[r]).length>0&&T0(n[r],e[r])})}const YA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function pi(){const n=typeof document<"u"?document:{};return T0(n,YA),n}const BL={document:YA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function sr(){const n=typeof window<"u"?window:{};return T0(n,BL),n}function FL(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function qL(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function tv(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function So(){return Date.now()}function HL(n){const e=sr();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function GL(n,e){e===void 0&&(e="x");const t=sr();let r,a,o;const c=HL(n);return t.WebKitCSSMatrix?(a=c.transform||c.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(d=>d.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(a==="none"?"":a)):(o=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?a=o.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?a=o.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function Oc(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function $L(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Mr(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!$L(r)){const a=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,c=a.length;o<c;o+=1){const d=a[o],h=Object.getOwnPropertyDescriptor(r,d);h!==void 0&&h.enumerable&&(Oc(n[d])&&Oc(r[d])?r[d].__swiper__?n[d]=r[d]:Mr(n[d],r[d]):!Oc(n[d])&&Oc(r[d])?(n[d]={},r[d].__swiper__?n[d]=r[d]:Mr(n[d],r[d])):n[d]=r[d])}}}return n}function Xf(n,e,t){n.style.setProperty(e,t)}function XA(n){let{swiper:e,targetPosition:t,side:r}=n;const a=sr(),o=-e.translate;let c=null,d;const h=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const p=t>o?"next":"prev",g=(b,E)=>p==="next"&&b>=E||p==="prev"&&b<=E,_=()=>{d=new Date().getTime(),c===null&&(c=d);const b=Math.max(Math.min((d-c)/h,1),0),E=.5-Math.cos(b*Math.PI)/2;let T=o+E*(t-o);if(g(T,t)&&(T=t),e.wrapperEl.scrollTo({[r]:T}),g(T,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:T})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(_)};_()}function hi(n,e){e===void 0&&(e="");const t=sr(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(a=>a.matches(e)):r}function QL(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function KL(n,e){const t=sr();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=QL(n,e))),r}function $h(n){try{console.warn(n);return}catch{}}function Qh(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:FL(e)),t}function YL(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function XL(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function va(n,e){return sr().getComputedStyle(n,null).getPropertyValue(e)}function Kh(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function WA(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function Zg(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function nv(n,e,t){const r=sr();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function An(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let Jg;function WL(){const n=sr(),e=pi();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function ZA(){return Jg||(Jg=WL()),Jg}let ey;function ZL(n){let{userAgent:e}=n===void 0?{}:n;const t=ZA(),r=sr(),a=r.navigator.platform,o=e||r.navigator.userAgent,c={ios:!1,android:!1},d=r.screen.width,h=r.screen.height,p=o.match(/(Android);?[\s\/]+([\d.]+)?/);let g=o.match(/(iPad).*OS\s([\d_]+)/);const _=o.match(/(iPod)(.*OS\s([\d_]+))?/),b=!g&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),E=a==="Win32";let T=a==="MacIntel";const M=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&T&&t.touch&&M.indexOf(`${d}x${h}`)>=0&&(g=o.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),T=!1),p&&!E&&(c.os="android",c.android=!0),(g||b||_)&&(c.os="ios",c.ios=!0),c}function JA(n){return n===void 0&&(n={}),ey||(ey=ZL(n)),ey}let ty;function JL(){const n=sr(),e=JA();let t=!1;function r(){const d=n.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(r()){const d=String(n.navigator.userAgent);if(d.includes("Version/")){const[h,p]=d.split("Version/")[1].split(" ")[0].split(".").map(g=>Number(g));t=h<16||h===16&&p<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),c=o||a&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:c,isWebView:a}}function e2(){return ty||(ty=JL()),ty}function ej(n){let{swiper:e,on:t,emit:r}=n;const a=sr();let o=null,c=null;const d=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},h=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(_=>{c=a.requestAnimationFrame(()=>{const{width:b,height:E}=e;let T=b,M=E;_.forEach(N=>{let{contentBoxSize:O,contentRect:A,target:R}=N;R&&R!==e.el||(T=A?A.width:(O[0]||O).inlineSize,M=A?A.height:(O[0]||O).blockSize)}),(T!==b||M!==E)&&d()})}),o.observe(e.el))},p=()=>{c&&a.cancelAnimationFrame(c),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},g=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver<"u"){h();return}a.addEventListener("resize",d),a.addEventListener("orientationchange",g)}),t("destroy",()=>{p(),a.removeEventListener("resize",d),a.removeEventListener("orientationchange",g)})}function tj(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o=[],c=sr(),d=function(g,_){_===void 0&&(_={});const b=c.MutationObserver||c.WebkitMutationObserver,E=new b(T=>{if(e.__preventObserver__)return;if(T.length===1){a("observerUpdate",T[0]);return}const M=function(){a("observerUpdate",T[0])};c.requestAnimationFrame?c.requestAnimationFrame(M):c.setTimeout(M,0)});E.observe(g,{attributes:typeof _.attributes>"u"?!0:_.attributes,childList:e.isElement||(typeof _.childList>"u"?!0:_).childList,characterData:typeof _.characterData>"u"?!0:_.characterData}),o.push(E)},h=()=>{if(e.params.observer){if(e.params.observeParents){const g=WA(e.hostEl);for(let _=0;_<g.length;_+=1)d(g[_])}d(e.hostEl,{childList:e.params.observeSlideChildren}),d(e.wrapperEl,{attributes:!1})}},p=()=>{o.forEach(g=>{g.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",h),r("destroy",p)}var nj={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const a=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][a](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function a(){r.off(n,a),a.__emitterProxy&&delete a.__emitterProxy;for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];e.apply(r,c)}return a.__emitterProxy=e,r.on(n,a,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((a,o)=>{(a===e||a.__emitterProxy&&a.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(h=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(p=>{p.apply(r,[h,...t])}),n.eventsListeners&&n.eventsListeners[h]&&n.eventsListeners[h].forEach(p=>{p.apply(r,t)})}),n}};function rj(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(va(r,"padding-left")||0,10)-parseInt(va(r,"padding-right")||0,10),t=t-parseInt(va(r,"padding-top")||0,10)-parseInt(va(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function ij(){const n=this;function e(P,z){return parseFloat(P.getPropertyValue(n.getDirectionLabel(z))||0)}const t=n.params,{wrapperEl:r,slidesEl:a,size:o,rtlTranslate:c,wrongRTL:d}=n,h=n.virtual&&t.virtual.enabled,p=h?n.virtual.slides.length:n.slides.length,g=hi(a,`.${n.params.slideClass}, swiper-slide`),_=h?n.virtual.slides.length:g.length;let b=[];const E=[],T=[];let M=t.slidesOffsetBefore;typeof M=="function"&&(M=t.slidesOffsetBefore.call(n));let N=t.slidesOffsetAfter;typeof N=="function"&&(N=t.slidesOffsetAfter.call(n));const O=n.snapGrid.length,A=n.slidesGrid.length;let R=t.spaceBetween,B=-M,j=0,V=0;if(typeof o>"u")return;typeof R=="string"&&R.indexOf("%")>=0?R=parseFloat(R.replace("%",""))/100*o:typeof R=="string"&&(R=parseFloat(R)),n.virtualSize=-R,g.forEach(P=>{c?P.style.marginLeft="":P.style.marginRight="",P.style.marginBottom="",P.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Xf(r,"--swiper-centered-offset-before",""),Xf(r,"--swiper-centered-offset-after",""));const U=t.grid&&t.grid.rows>1&&n.grid;U?n.grid.initSlides(g):n.grid&&n.grid.unsetSlides();let I;const C=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(P=>typeof t.breakpoints[P].slidesPerView<"u").length>0;for(let P=0;P<_;P+=1){I=0;let z;if(g[P]&&(z=g[P]),U&&n.grid.updateSlide(P,z,g),!(g[P]&&va(z,"display")==="none")){if(t.slidesPerView==="auto"){C&&(g[P].style[n.getDirectionLabel("width")]="");const F=getComputedStyle(z),L=z.style.transform,be=z.style.webkitTransform;if(L&&(z.style.transform="none"),be&&(z.style.webkitTransform="none"),t.roundLengths)I=n.isHorizontal()?nv(z,"width"):nv(z,"height");else{const Ee=e(F,"width"),Q=e(F,"padding-left"),oe=e(F,"padding-right"),ae=e(F,"margin-left"),_e=e(F,"margin-right"),q=F.getPropertyValue("box-sizing");if(q&&q==="border-box")I=Ee+ae+_e;else{const{clientWidth:se,offsetWidth:ge}=z;I=Ee+Q+oe+ae+_e+(ge-se)}}L&&(z.style.transform=L),be&&(z.style.webkitTransform=be),t.roundLengths&&(I=Math.floor(I))}else I=(o-(t.slidesPerView-1)*R)/t.slidesPerView,t.roundLengths&&(I=Math.floor(I)),g[P]&&(g[P].style[n.getDirectionLabel("width")]=`${I}px`);g[P]&&(g[P].swiperSlideSize=I),T.push(I),t.centeredSlides?(B=B+I/2+j/2+R,j===0&&P!==0&&(B=B-o/2-R),P===0&&(B=B-o/2-R),Math.abs(B)<1/1e3&&(B=0),t.roundLengths&&(B=Math.floor(B)),V%t.slidesPerGroup===0&&b.push(B),E.push(B)):(t.roundLengths&&(B=Math.floor(B)),(V-Math.min(n.params.slidesPerGroupSkip,V))%n.params.slidesPerGroup===0&&b.push(B),E.push(B),B=B+I+R),n.virtualSize+=I+R,j=I,V+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+N,c&&d&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+R}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+R}px`),U&&n.grid.updateWrapperSize(I,b),!t.centeredSlides){const P=[];for(let z=0;z<b.length;z+=1){let F=b[z];t.roundLengths&&(F=Math.floor(F)),b[z]<=n.virtualSize-o&&P.push(F)}b=P,Math.floor(n.virtualSize-o)-Math.floor(b[b.length-1])>1&&b.push(n.virtualSize-o)}if(h&&t.loop){const P=T[0]+R;if(t.slidesPerGroup>1){const z=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),F=P*t.slidesPerGroup;for(let L=0;L<z;L+=1)b.push(b[b.length-1]+F)}for(let z=0;z<n.virtual.slidesBefore+n.virtual.slidesAfter;z+=1)t.slidesPerGroup===1&&b.push(b[b.length-1]+P),E.push(E[E.length-1]+P),n.virtualSize+=P}if(b.length===0&&(b=[0]),R!==0){const P=n.isHorizontal()&&c?"marginLeft":n.getDirectionLabel("marginRight");g.filter((z,F)=>!t.cssMode||t.loop?!0:F!==g.length-1).forEach(z=>{z.style[P]=`${R}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let P=0;T.forEach(F=>{P+=F+(R||0)}),P-=R;const z=P>o?P-o:0;b=b.map(F=>F<=0?-M:F>z?z+N:F)}if(t.centerInsufficientSlides){let P=0;T.forEach(F=>{P+=F+(R||0)}),P-=R;const z=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(P+z<o){const F=(o-P-z)/2;b.forEach((L,be)=>{b[be]=L-F}),E.forEach((L,be)=>{E[be]=L+F})}}if(Object.assign(n,{slides:g,snapGrid:b,slidesGrid:E,slidesSizesGrid:T}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Xf(r,"--swiper-centered-offset-before",`${-b[0]}px`),Xf(r,"--swiper-centered-offset-after",`${n.size/2-T[T.length-1]/2}px`);const P=-n.snapGrid[0],z=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(F=>F+P),n.slidesGrid=n.slidesGrid.map(F=>F+z)}if(_!==p&&n.emit("slidesLengthChange"),b.length!==O&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),E.length!==A&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!h&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const P=`${t.containerModifierClass}backface-hidden`,z=n.el.classList.contains(P);_<=t.maxBackfaceHiddenSlides?z||n.el.classList.add(P):z&&n.el.classList.remove(P)}}function sj(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let a=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const c=d=>r?e.slides[e.getSlideIndexByData(d)]:e.slides[d];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(d=>{t.push(d)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const d=e.activeIndex+o;if(d>e.slides.length&&!r)break;t.push(c(d))}else t.push(c(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const d=t[o].offsetHeight;a=d>a?d:a}(a||a===0)&&(e.wrapperEl.style.height=`${a}px`)}function aj(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const ax=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function oj(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:a,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let c=-n;a&&(c=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let d=t.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*e.size:typeof d=="string"&&(d=parseFloat(d));for(let h=0;h<r.length;h+=1){const p=r[h];let g=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(g-=r[0].swiperSlideOffset);const _=(c+(t.centeredSlides?e.minTranslate():0)-g)/(p.swiperSlideSize+d),b=(c-o[0]+(t.centeredSlides?e.minTranslate():0)-g)/(p.swiperSlideSize+d),E=-(c-g),T=E+e.slidesSizesGrid[h],M=E>=0&&E<=e.size-e.slidesSizesGrid[h],N=E>=0&&E<e.size-1||T>1&&T<=e.size||E<=0&&T>=e.size;N&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(h)),ax(p,N,t.slideVisibleClass),ax(p,M,t.slideFullyVisibleClass),p.progress=a?-_:_,p.originalProgress=a?-b:b}}function lj(n){const e=this;if(typeof n>"u"){const g=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*g||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:a,isBeginning:o,isEnd:c,progressLoop:d}=e;const h=o,p=c;if(r===0)a=0,o=!0,c=!0;else{a=(n-e.minTranslate())/r;const g=Math.abs(n-e.minTranslate())<1,_=Math.abs(n-e.maxTranslate())<1;o=g||a<=0,c=_||a>=1,g&&(a=0),_&&(a=1)}if(t.loop){const g=e.getSlideIndexByData(0),_=e.getSlideIndexByData(e.slides.length-1),b=e.slidesGrid[g],E=e.slidesGrid[_],T=e.slidesGrid[e.slidesGrid.length-1],M=Math.abs(n);M>=b?d=(M-b)/T:d=(M+T-E)/T,d>1&&(d-=1)}Object.assign(e,{progress:a,progressLoop:d,isBeginning:o,isEnd:c}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!h&&e.emit("reachBeginning toEdge"),c&&!p&&e.emit("reachEnd toEdge"),(h&&!o||p&&!c)&&e.emit("fromEdge"),e.emit("progress",a)}const ny=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function uj(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:a}=n,o=n.virtual&&t.virtual.enabled,c=n.grid&&t.grid&&t.grid.rows>1,d=_=>hi(r,`.${t.slideClass}${_}, swiper-slide${_}`)[0];let h,p,g;if(o)if(t.loop){let _=a-n.virtual.slidesBefore;_<0&&(_=n.virtual.slides.length+_),_>=n.virtual.slides.length&&(_-=n.virtual.slides.length),h=d(`[data-swiper-slide-index="${_}"]`)}else h=d(`[data-swiper-slide-index="${a}"]`);else c?(h=e.find(_=>_.column===a),g=e.find(_=>_.column===a+1),p=e.find(_=>_.column===a-1)):h=e[a];h&&(c||(g=XL(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!g&&(g=e[0]),p=YL(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(_=>{ny(_,_===h,t.slideActiveClass),ny(_,_===g,t.slideNextClass),ny(_,_===p,t.slidePrevClass)}),n.emitSlidesClasses()}const ph=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let a=r.querySelector(`.${n.params.lazyPreloaderClass}`);!a&&n.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},ry=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},rv=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),a=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const c=a,d=[c-e];d.push(...Array.from({length:e}).map((h,p)=>c+r+p)),n.slides.forEach((h,p)=>{d.includes(h.column)&&ry(n,p)});return}const o=a+r-1;if(n.params.rewind||n.params.loop)for(let c=a-e;c<=o+e;c+=1){const d=(c%t+t)%t;(d<a||d>o)&&ry(n,d)}else for(let c=Math.max(a-e,0);c<=Math.min(o+e,t-1);c+=1)c!==a&&(c>o||c<a)&&ry(n,c)};function cj(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let a;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?a=o:r>=e[o]&&r<e[o+1]&&(a=o+1):r>=e[o]&&(a=o);return t.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function dj(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:a,activeIndex:o,realIndex:c,snapIndex:d}=e;let h=n,p;const g=E=>{let T=E-e.virtual.slidesBefore;return T<0&&(T=e.virtual.slides.length+T),T>=e.virtual.slides.length&&(T-=e.virtual.slides.length),T};if(typeof h>"u"&&(h=cj(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const E=Math.min(a.slidesPerGroupSkip,h);p=E+Math.floor((h-E)/a.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),h===o&&!e.params.loop){p!==d&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(h===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=g(h);return}const _=e.grid&&a.grid&&a.grid.rows>1;let b;if(e.virtual&&a.virtual.enabled&&a.loop)b=g(h);else if(_){const E=e.slides.find(M=>M.column===h);let T=parseInt(E.getAttribute("data-swiper-slide-index"),10);Number.isNaN(T)&&(T=Math.max(e.slides.indexOf(E),0)),b=Math.floor(T/a.grid.rows)}else if(e.slides[h]){const E=e.slides[h].getAttribute("data-swiper-slide-index");E?b=parseInt(E,10):b=h}else b=h;Object.assign(e,{previousSnapIndex:d,snapIndex:p,previousRealIndex:c,realIndex:b,previousIndex:o,activeIndex:h}),e.initialized&&rv(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(c!==b&&e.emit("realIndexChange"),e.emit("slideChange"))}function fj(n,e){const t=this,r=t.params;let a=n.closest(`.${r.slideClass}, swiper-slide`);!a&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(d=>{!a&&d.matches&&d.matches(`.${r.slideClass}, swiper-slide`)&&(a=d)});let o=!1,c;if(a){for(let d=0;d<t.slides.length;d+=1)if(t.slides[d]===a){o=!0,c=d;break}}if(a&&o)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=c;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var hj={updateSize:rj,updateSlides:ij,updateAutoHeight:sj,updateSlidesOffset:aj,updateSlidesProgress:oj,updateProgress:lj,updateSlidesClasses:uj,updateActiveIndex:dj,updateClickedSlide:fj};function mj(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:a,wrapperEl:o}=e;if(t.virtualTranslate)return r?-a:a;if(t.cssMode)return a;let c=GL(o,n);return c+=e.cssOverflowAdjustment(),r&&(c=-c),c||0}function pj(n,e){const t=this,{rtlTranslate:r,params:a,wrapperEl:o,progress:c}=t;let d=0,h=0;const p=0;t.isHorizontal()?d=r?-n:n:h=n,a.roundLengths&&(d=Math.floor(d),h=Math.floor(h)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?d:h,a.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-d:-h:a.virtualTranslate||(t.isHorizontal()?d-=t.cssOverflowAdjustment():h-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${d}px, ${h}px, ${p}px)`);let g;const _=t.maxTranslate()-t.minTranslate();_===0?g=0:g=(n-t.minTranslate())/_,g!==c&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function gj(){return-this.snapGrid[0]}function yj(){return-this.snapGrid[this.snapGrid.length-1]}function vj(n,e,t,r,a){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:c,wrapperEl:d}=o;if(o.animating&&c.preventInteractionOnTransition)return!1;const h=o.minTranslate(),p=o.maxTranslate();let g;if(r&&n>h?g=h:r&&n<p?g=p:g=n,o.updateProgress(g),c.cssMode){const _=o.isHorizontal();if(e===0)d[_?"scrollLeft":"scrollTop"]=-g;else{if(!o.support.smoothScroll)return XA({swiper:o,targetPosition:-g,side:_?"left":"top"}),!0;d.scrollTo({[_?"left":"top"]:-g,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(g),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(g),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(b){!o||o.destroyed||b.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var _j={getTranslate:mj,setTranslate:pj,minTranslate:gj,maxTranslate:yj,translateTo:vj};function bj(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function t2(n){let{swiper:e,runCallbacks:t,direction:r,step:a}=n;const{activeIndex:o,previousIndex:c}=e;let d=r;if(d||(o>c?d="next":o<c?d="prev":d="reset"),e.emit(`transition${a}`),t&&o!==c){if(d==="reset"){e.emit(`slideResetTransition${a}`);return}e.emit(`slideChangeTransition${a}`),d==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function wj(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),t2({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function Ej(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),t2({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var Tj={setTransition:bj,transitionStart:wj,transitionEnd:Ej};function xj(n,e,t,r,a){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let c=n;c<0&&(c=0);const{params:d,snapGrid:h,slidesGrid:p,previousIndex:g,activeIndex:_,rtlTranslate:b,wrapperEl:E,enabled:T}=o;if(!T&&!r&&!a||o.destroyed||o.animating&&d.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const M=Math.min(o.params.slidesPerGroupSkip,c);let N=M+Math.floor((c-M)/o.params.slidesPerGroup);N>=h.length&&(N=h.length-1);const O=-h[N];if(d.normalizeSlideIndex)for(let U=0;U<p.length;U+=1){const I=-Math.floor(O*100),C=Math.floor(p[U]*100),P=Math.floor(p[U+1]*100);typeof p[U+1]<"u"?I>=C&&I<P-(P-C)/2?c=U:I>=C&&I<P&&(c=U+1):I>=C&&(c=U)}if(o.initialized&&c!==_&&(!o.allowSlideNext&&(b?O>o.translate&&O>o.minTranslate():O<o.translate&&O<o.minTranslate())||!o.allowSlidePrev&&O>o.translate&&O>o.maxTranslate()&&(_||0)!==c))return!1;c!==(g||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(O);let A;c>_?A="next":c<_?A="prev":A="reset";const R=o.virtual&&o.params.virtual.enabled;if(!(R&&a)&&(b&&-O===o.translate||!b&&O===o.translate))return o.updateActiveIndex(c),d.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),d.effect!=="slide"&&o.setTranslate(O),A!=="reset"&&(o.transitionStart(t,A),o.transitionEnd(t,A)),!1;if(d.cssMode){const U=o.isHorizontal(),I=b?O:-O;if(e===0)R&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),R&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{E[U?"scrollLeft":"scrollTop"]=I})):E[U?"scrollLeft":"scrollTop"]=I,R&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return XA({swiper:o,targetPosition:I,side:U?"left":"top"}),!0;E.scrollTo({[U?"left":"top"]:I,behavior:"smooth"})}return!0}const V=e2().isSafari;return R&&!a&&V&&o.isElement&&o.virtual.update(!1,!1,c),o.setTransition(e),o.setTranslate(O),o.updateActiveIndex(c),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,A),e===0?o.transitionEnd(t,A):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(I){!o||o.destroyed||I.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,A))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function Sj(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);const o=a.grid&&a.params.grid&&a.params.grid.rows>1;let c=n;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)c=c+a.virtual.slidesBefore;else{let d;if(o){const b=c*a.params.grid.rows;d=a.slides.find(E=>E.getAttribute("data-swiper-slide-index")*1===b).column}else d=a.getSlideIndexByData(c);const h=o?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:p}=a.params;let g=a.params.slidesPerView;g==="auto"?g=a.slidesPerViewDynamic():(g=Math.ceil(parseFloat(a.params.slidesPerView,10)),p&&g%2===0&&(g=g+1));let _=h-d<g;if(p&&(_=_||d<Math.ceil(g/2)),r&&p&&a.params.slidesPerView!=="auto"&&!o&&(_=!1),_){const b=p?d<a.activeIndex?"prev":"next":d-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:b,slideTo:!0,activeSlideIndex:b==="next"?d+1:d-h+1,slideRealIndex:b==="next"?a.realIndex:void 0})}if(o){const b=c*a.params.grid.rows;c=a.slides.find(E=>E.getAttribute("data-swiper-slide-index")*1===b).column}else c=a.getSlideIndexByData(c)}return requestAnimationFrame(()=>{a.slideTo(c,e,t,r)}),a}function Aj(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:a,params:o,animating:c}=r;if(!a||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let d=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(d=Math.max(r.slidesPerViewDynamic("current",!0),1));const h=r.activeIndex<o.slidesPerGroupSkip?1:d,p=r.virtual&&o.virtual.enabled;if(o.loop){if(c&&!p&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+h,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+h,n,e,t)}function Rj(n,e,t){e===void 0&&(e=!0);const r=this,{params:a,snapGrid:o,slidesGrid:c,rtlTranslate:d,enabled:h,animating:p}=r;if(!h||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const g=r.virtual&&a.virtual.enabled;if(a.loop){if(p&&!g&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const _=d?r.translate:-r.translate;function b(A){return A<0?-Math.floor(Math.abs(A)):Math.floor(A)}const E=b(_),T=o.map(A=>b(A)),M=a.freeMode&&a.freeMode.enabled;let N=o[T.indexOf(E)-1];if(typeof N>"u"&&(a.cssMode||M)){let A;o.forEach((R,B)=>{E>=R&&(A=B)}),typeof A<"u"&&(N=M?o[A]:o[A>0?A-1:A])}let O=0;if(typeof N<"u"&&(O=c.indexOf(N),O<0&&(O=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(O=O-r.slidesPerViewDynamic("previous",!0)+1,O=Math.max(O,0))),a.rewind&&r.isBeginning){const A=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(A,n,e,t)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(O,n,e,t)}),!0;return r.slideTo(O,n,e,t)}function Cj(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function Ij(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);let o=a.activeIndex;const c=Math.min(a.params.slidesPerGroupSkip,o),d=c+Math.floor((o-c)/a.params.slidesPerGroup),h=a.rtlTranslate?a.translate:-a.translate;if(h>=a.snapGrid[d]){const p=a.snapGrid[d],g=a.snapGrid[d+1];h-p>(g-p)*r&&(o+=a.params.slidesPerGroup)}else{const p=a.snapGrid[d-1],g=a.snapGrid[d];h-p<=(g-p)*r&&(o-=a.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,a.slidesGrid.length-1),a.slideTo(o,n,e,t)}function Nj(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let a=n.clickedIndex,o;const c=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?a<n.loopedSlides-r/2||a>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),a=n.getSlideIndex(hi(t,`${c}[data-swiper-slide-index="${o}"]`)[0]),tv(()=>{n.slideTo(a)})):n.slideTo(a):a>n.slides.length-r?(n.loopFix(),a=n.getSlideIndex(hi(t,`${c}[data-swiper-slide-index="${o}"]`)[0]),tv(()=>{n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}var Oj={slideTo:xj,slideToLoop:Sj,slideNext:Aj,slidePrev:Rj,slideReset:Cj,slideToClosest:Ij,slideToClickedSlide:Nj};function Mj(n,e){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{hi(a,`.${r.slideClass}, swiper-slide`).forEach((b,E)=>{b.setAttribute("data-swiper-slide-index",E)})},c=t.grid&&r.grid&&r.grid.rows>1,d=r.slidesPerGroup*(c?r.grid.rows:1),h=t.slides.length%d!==0,p=c&&t.slides.length%r.grid.rows!==0,g=_=>{for(let b=0;b<_;b+=1){const E=t.isElement?Qh("swiper-slide",[r.slideBlankClass]):Qh("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(E)}};if(h){if(r.loopAddBlankSlides){const _=d-t.slides.length%d;g(_),t.recalcSlides(),t.updateSlides()}else $h("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(p){if(r.loopAddBlankSlides){const _=r.grid.rows-t.slides.length%r.grid.rows;g(_),t.recalcSlides(),t.updateSlides()}else $h("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function Dj(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:a,activeSlideIndex:o,initial:c,byController:d,byMousewheel:h}=n===void 0?{}:n;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:g,allowSlidePrev:_,allowSlideNext:b,slidesEl:E,params:T}=p,{centeredSlides:M,initialSlide:N}=T;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&T.virtual.enabled){t&&(!T.centeredSlides&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):T.centeredSlides&&p.snapIndex<T.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=_,p.allowSlideNext=b,p.emit("loopFix");return}let O=T.slidesPerView;O==="auto"?O=p.slidesPerViewDynamic():(O=Math.ceil(parseFloat(T.slidesPerView,10)),M&&O%2===0&&(O=O+1));const A=T.slidesPerGroupAuto?O:T.slidesPerGroup;let R=A;R%A!==0&&(R+=A-R%A),R+=T.loopAdditionalSlides,p.loopedSlides=R;const B=p.grid&&T.grid&&T.grid.rows>1;g.length<O+R||p.params.effect==="cards"&&g.length<O+R*2?$h("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):B&&T.grid.fill==="row"&&$h("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const j=[],V=[],U=B?Math.ceil(g.length/T.grid.rows):g.length,I=c&&U-N<O&&!M;let C=I?N:p.activeIndex;typeof o>"u"?o=p.getSlideIndex(g.find(Q=>Q.classList.contains(T.slideActiveClass))):C=o;const P=r==="next"||!r,z=r==="prev"||!r;let F=0,L=0;const Ee=(B?g[o].column:o)+(M&&typeof a>"u"?-O/2+.5:0);if(Ee<R){F=Math.max(R-Ee,A);for(let Q=0;Q<R-Ee;Q+=1){const oe=Q-Math.floor(Q/U)*U;if(B){const ae=U-oe-1;for(let _e=g.length-1;_e>=0;_e-=1)g[_e].column===ae&&j.push(_e)}else j.push(U-oe-1)}}else if(Ee+O>U-R){L=Math.max(Ee-(U-R*2),A),I&&(L=Math.max(L,O-U+N+1));for(let Q=0;Q<L;Q+=1){const oe=Q-Math.floor(Q/U)*U;B?g.forEach((ae,_e)=>{ae.column===oe&&V.push(_e)}):V.push(oe)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&g.length<O+R*2&&(V.includes(o)&&V.splice(V.indexOf(o),1),j.includes(o)&&j.splice(j.indexOf(o),1)),z&&j.forEach(Q=>{g[Q].swiperLoopMoveDOM=!0,E.prepend(g[Q]),g[Q].swiperLoopMoveDOM=!1}),P&&V.forEach(Q=>{g[Q].swiperLoopMoveDOM=!0,E.append(g[Q]),g[Q].swiperLoopMoveDOM=!1}),p.recalcSlides(),T.slidesPerView==="auto"?p.updateSlides():B&&(j.length>0&&z||V.length>0&&P)&&p.slides.forEach((Q,oe)=>{p.grid.updateSlide(oe,Q,p.slides)}),T.watchSlidesProgress&&p.updateSlidesOffset(),t){if(j.length>0&&z){if(typeof e>"u"){const Q=p.slidesGrid[C],ae=p.slidesGrid[C+F]-Q;h?p.setTranslate(p.translate-ae):(p.slideTo(C+Math.ceil(F),0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-ae,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-ae))}else if(a){const Q=B?j.length/T.grid.rows:j.length;p.slideTo(p.activeIndex+Q,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(V.length>0&&P)if(typeof e>"u"){const Q=p.slidesGrid[C],ae=p.slidesGrid[C-L]-Q;h?p.setTranslate(p.translate-ae):(p.slideTo(C-L,0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-ae,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-ae))}else{const Q=B?V.length/T.grid.rows:V.length;p.slideTo(p.activeIndex-Q,0,!1,!0)}}if(p.allowSlidePrev=_,p.allowSlideNext=b,p.controller&&p.controller.control&&!d){const Q={slideRealIndex:e,direction:r,setTranslate:a,activeSlideIndex:o,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(oe=>{!oe.destroyed&&oe.params.loop&&oe.loopFix({...Q,slideTo:oe.params.slidesPerView===T.slidesPerView?t:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...Q,slideTo:p.controller.control.params.slidesPerView===T.slidesPerView?t:!1})}p.emit("loopFix")}function Pj(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(a=>{const o=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[o]=a}),n.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{t.append(a)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var kj={loopCreate:Mj,loopFix:Dj,loopDestroy:Pj};function Lj(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function jj(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var Vj={setGrabCursor:Lj,unsetGrabCursor:jj};function Uj(n,e){e===void 0&&(e=this);function t(r){if(!r||r===pi()||r===sr())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(n);return!a&&!r.getRootNode?null:a||t(r.getRootNode().host)}return t(e)}function ox(n,e,t){const r=sr(),{params:a}=n,o=a.edgeSwipeDetection,c=a.edgeSwipeThreshold;return o&&(t<=c||t>=r.innerWidth-c)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function zj(n){const e=this,t=pi();let r=n;r.originalEvent&&(r=r.originalEvent);const a=e.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){ox(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:c,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let h=r.target;if(o.touchEventsTarget==="wrapper"&&!KL(h,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const p=!!o.noSwipingClass&&o.noSwipingClass!=="",g=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&g&&(h=g[0]);const _=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,b=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(b?Uj(_,h):h.closest(_))){e.allowClick=!0;return}if(o.swipeHandler&&!h.closest(o.swipeHandler))return;c.currentX=r.pageX,c.currentY=r.pageY;const E=c.currentX,T=c.currentY;if(!ox(e,r,E))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=E,c.startY=T,a.touchStartTime=So(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(a.allowThresholdMove=!1);let M=!0;h.matches(a.focusableElements)&&(M=!1,h.nodeName==="SELECT"&&(a.isTouched=!1)),t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==h&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!h.matches(a.focusableElements))&&t.activeElement.blur();const N=M&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||N)&&!h.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Bj(n){const e=pi(),t=this,r=t.touchEventsData,{params:a,touches:o,rtlTranslate:c,enabled:d}=t;if(!d||!a.simulateTouch&&n.pointerType==="mouse")return;let h=n;if(h.originalEvent&&(h=h.originalEvent),h.type==="pointermove"&&(r.touchId!==null||h.pointerId!==r.pointerId))return;let p;if(h.type==="touchmove"){if(p=[...h.changedTouches].find(j=>j.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=h;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",h);return}const g=p.pageX,_=p.pageY;if(h.preventedByNestedSwiper){o.startX=g,o.startY=_;return}if(!t.allowTouchMove){h.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:g,startY:_,currentX:g,currentY:_}),r.touchStartTime=So());return}if(a.touchReleaseOnEdges&&!a.loop)if(t.isVertical()){if(_<o.startY&&t.translate<=t.maxTranslate()||_>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(c&&(g>o.startX&&-t.translate<=t.maxTranslate()||g<o.startX&&-t.translate>=t.minTranslate()))return;if(!c&&(g<o.startX&&t.translate<=t.maxTranslate()||g>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==h.target&&h.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&h.target===e.activeElement&&h.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",h),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=g,o.currentY=_;const b=o.currentX-o.startX,E=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(b**2+E**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let j;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:b*b+E*E>=25&&(j=Math.atan2(Math.abs(E),Math.abs(b))*180/Math.PI,r.isScrolling=t.isHorizontal()?j>a.touchAngle:90-j>a.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",h),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||h.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!a.cssMode&&h.cancelable&&h.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&h.stopPropagation();let T=t.isHorizontal()?b:E,M=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;a.oneWayMovement&&(T=Math.abs(T)*(c?1:-1),M=Math.abs(M)*(c?1:-1)),o.diff=T,T*=a.touchRatio,c&&(T=-T,M=-M);const N=t.touchesDirection;t.swipeDirection=T>0?"prev":"next",t.touchesDirection=M>0?"prev":"next";const O=t.params.loop&&!a.cssMode,A=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(O&&A&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const j=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(j)}r.allowMomentumBounce=!1,a.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",h)}if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&N!==t.touchesDirection&&O&&A&&Math.abs(T)>=1){Object.assign(o,{startX:g,startY:_,currentX:g,currentY:_,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",h),r.isMoved=!0,r.currentTranslate=T+r.startTranslate;let R=!0,B=a.resistanceRatio;if(a.touchReleaseOnEdges&&(B=0),T>0?(O&&A&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(R=!1,a.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+T)**B))):T<0&&(O&&A&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(a.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(R=!1,a.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-T)**B))),R&&(h.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(T)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&t.freeMode||a.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function Fj(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(j=>j.identifier===t.touchId),!a||a.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:c,touches:d,rtlTranslate:h,slidesGrid:p,enabled:g}=e;if(!g||!c.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&c.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}c.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const _=So(),b=_-t.touchStartTime;if(e.allowClick){const j=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(j&&j[0]||r.target,j),e.emit("tap click",r),b<300&&_-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=So(),tv(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||d.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let E;if(c.followFinger?E=h?e.translate:-e.translate:E=-t.currentTranslate,c.cssMode)return;if(c.freeMode&&c.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:E});return}const T=E>=-e.maxTranslate()&&!e.params.loop;let M=0,N=e.slidesSizesGrid[0];for(let j=0;j<p.length;j+=j<c.slidesPerGroupSkip?1:c.slidesPerGroup){const V=j<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof p[j+V]<"u"?(T||E>=p[j]&&E<p[j+V])&&(M=j,N=p[j+V]-p[j]):(T||E>=p[j])&&(M=j,N=p[p.length-1]-p[p.length-2])}let O=null,A=null;c.rewind&&(e.isBeginning?A=c.virtual&&c.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(O=0));const R=(E-p[M])/N,B=M<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(b>c.longSwipesMs){if(!c.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(R>=c.longSwipesRatio?e.slideTo(c.rewind&&e.isEnd?O:M+B):e.slideTo(M)),e.swipeDirection==="prev"&&(R>1-c.longSwipesRatio?e.slideTo(M+B):A!==null&&R<0&&Math.abs(R)>c.longSwipesRatio?e.slideTo(A):e.slideTo(M))}else{if(!c.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(M+B):e.slideTo(M):(e.swipeDirection==="next"&&e.slideTo(O!==null?O:M+B),e.swipeDirection==="prev"&&e.slideTo(A!==null?A:M))}}function lx(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:o}=n,c=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const d=c&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!d?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!c?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=a,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function qj(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function Hj(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let a;const o=n.maxTranslate()-n.minTranslate();o===0?a=0:a=(n.translate-n.minTranslate())/o,a!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function Gj(n){const e=this;ph(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function $j(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const n2=(n,e)=>{const t=pi(),{params:r,el:a,wrapperEl:o,device:c}=n,d=!!r.nested,h=e==="on"?"addEventListener":"removeEventListener",p=e;!a||typeof a=="string"||(t[h]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:d}),a[h]("touchstart",n.onTouchStart,{passive:!1}),a[h]("pointerdown",n.onTouchStart,{passive:!1}),t[h]("touchmove",n.onTouchMove,{passive:!1,capture:d}),t[h]("pointermove",n.onTouchMove,{passive:!1,capture:d}),t[h]("touchend",n.onTouchEnd,{passive:!0}),t[h]("pointerup",n.onTouchEnd,{passive:!0}),t[h]("pointercancel",n.onTouchEnd,{passive:!0}),t[h]("touchcancel",n.onTouchEnd,{passive:!0}),t[h]("pointerout",n.onTouchEnd,{passive:!0}),t[h]("pointerleave",n.onTouchEnd,{passive:!0}),t[h]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[h]("click",n.onClick,!0),r.cssMode&&o[h]("scroll",n.onScroll),r.updateOnWindowResize?n[p](c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate",lx,!0):n[p]("observerUpdate",lx,!0),a[h]("load",n.onLoad,{capture:!0}))};function Qj(){const n=this,{params:e}=n;n.onTouchStart=zj.bind(n),n.onTouchMove=Bj.bind(n),n.onTouchEnd=Fj.bind(n),n.onDocumentTouchStart=$j.bind(n),e.cssMode&&(n.onScroll=Hj.bind(n)),n.onClick=qj.bind(n),n.onLoad=Gj.bind(n),n2(n,"on")}function Kj(){n2(this,"off")}var Yj={attachEvents:Qj,detachEvents:Kj};const ux=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function Xj(){const n=this,{realIndex:e,initialized:t,params:r,el:a}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const c=pi(),d=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",h=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:c.querySelector(r.breakpointsBase),p=n.getBreakpoint(o,d,h);if(!p||n.currentBreakpoint===p)return;const _=(p in o?o[p]:void 0)||n.originalParams,b=ux(n,r),E=ux(n,_),T=n.params.grabCursor,M=_.grabCursor,N=r.enabled;b&&!E?(a.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!b&&E&&(a.classList.add(`${r.containerModifierClass}grid`),(_.grid.fill&&_.grid.fill==="column"||!_.grid.fill&&r.grid.fill==="column")&&a.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),T&&!M?n.unsetGrabCursor():!T&&M&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(V=>{if(typeof _[V]>"u")return;const U=r[V]&&r[V].enabled,I=_[V]&&_[V].enabled;U&&!I&&n[V].disable(),!U&&I&&n[V].enable()});const O=_.direction&&_.direction!==r.direction,A=r.loop&&(_.slidesPerView!==r.slidesPerView||O),R=r.loop;O&&t&&n.changeDirection(),Mr(n.params,_);const B=n.params.enabled,j=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),N&&!B?n.disable():!N&&B&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",_),t&&(A?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!R&&j?(n.loopCreate(e),n.updateSlides()):R&&!j&&n.loopDestroy()),n.emit("breakpoint",_)}function Wj(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const a=sr(),o=e==="window"?a.innerHeight:t.clientHeight,c=Object.keys(n).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const h=parseFloat(d.substr(1));return{value:o*h,point:d}}return{value:d,point:d}});c.sort((d,h)=>parseInt(d.value,10)-parseInt(h.value,10));for(let d=0;d<c.length;d+=1){const{point:h,value:p}=c[d];e==="window"?a.matchMedia(`(min-width: ${p}px)`).matches&&(r=h):p<=t.clientWidth&&(r=h)}return r||"max"}var Zj={setBreakpoint:Xj,getBreakpoint:Wj};function Jj(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&t.push(e+a)}):typeof r=="string"&&t.push(e+r)}),t}function eV(){const n=this,{classNames:e,params:t,rtl:r,el:a,device:o}=n,c=Jj(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...c),a.classList.add(...e),n.emitContainerClasses()}function tV(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var nV={addClasses:eV,removeClasses:tV};function rV(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const a=n.slides.length-1,o=n.slidesGrid[a]+n.slidesSizesGrid[a]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var iV={checkOverflow:rV},iv={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function sV(n,e){return function(r){r===void 0&&(r={});const a=Object.keys(r)[0],o=r[a];if(typeof o!="object"||o===null){Mr(e,r);return}if(n[a]===!0&&(n[a]={enabled:!0}),a==="navigation"&&n[a]&&n[a].enabled&&!n[a].prevEl&&!n[a].nextEl&&(n[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&n[a]&&n[a].enabled&&!n[a].el&&(n[a].auto=!0),!(a in n&&"enabled"in o)){Mr(e,r);return}typeof n[a]=="object"&&!("enabled"in n[a])&&(n[a].enabled=!0),n[a]||(n[a]={enabled:!1}),Mr(e,r)}}const iy={eventsEmitter:nj,update:hj,translate:_j,transition:Tj,slide:Oj,loop:kj,grabCursor:Vj,events:Yj,breakpoints:Zj,checkOverflow:iV,classes:nV},sy={};let x0=class vs{constructor(){let e,t;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];a.length===1&&a[0].constructor&&Object.prototype.toString.call(a[0]).slice(8,-1)==="Object"?t=a[0]:[e,t]=a,t||(t={}),t=Mr({},t),e&&!t.el&&(t.el=e);const c=pi();if(t.el&&typeof t.el=="string"&&c.querySelectorAll(t.el).length>1){const g=[];return c.querySelectorAll(t.el).forEach(_=>{const b=Mr({},t,{el:_});g.push(new vs(b))}),g}const d=this;d.__swiper__=!0,d.support=ZA(),d.device=JA({userAgent:t.userAgent}),d.browser=e2(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],t.modules&&Array.isArray(t.modules)&&d.modules.push(...t.modules);const h={};d.modules.forEach(g=>{g({params:t,swiper:d,extendParams:sV(t,h),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const p=Mr({},iv,h);return d.params=Mr({},p,sy,t),d.originalParams=Mr({},d.params),d.passedParams=Mr({},t),d.params&&d.params.on&&Object.keys(d.params.on).forEach(g=>{d.on(g,d.params.on[g])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,a=hi(t,`.${r.slideClass}, swiper-slide`),o=Kh(a[0]);return Kh(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=hi(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const a=r.minTranslate(),c=(r.maxTranslate()-a)*e+a;r.translateTo(c,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const a=e.getSlideClasses(r);t.push({slideEl:r,classNames:a}),e.emit("_slideClass",r,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:a,slides:o,slidesGrid:c,slidesSizesGrid:d,size:h,activeIndex:p}=r;let g=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let _=o[p]?Math.ceil(o[p].swiperSlideSize):0,b;for(let E=p+1;E<o.length;E+=1)o[E]&&!b&&(_+=Math.ceil(o[E].swiperSlideSize),g+=1,_>h&&(b=!0));for(let E=p-1;E>=0;E-=1)o[E]&&!b&&(_+=o[E].swiperSlideSize,g+=1,_>h&&(b=!0))}else if(e==="current")for(let _=p+1;_<o.length;_+=1)(t?c[_]+d[_]-c[p]<h:c[_]-c[p]<h)&&(g+=1);else for(let _=p-1;_>=0;_-=1)c[p]-c[_]<h&&(g+=1);return g}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete&&ph(e,c)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function a(){const c=e.rtlTranslate?e.translate*-1:e.translate,d=Math.min(Math.max(c,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const c=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(c.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||a()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,a=r.params.direction;return e||(e=a==="horizontal"?"vertical":"horizontal"),e===a||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${a}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let c=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):hi(r,a())[0];return!c&&t.params.createElements&&(c=Qh("div",t.params.wrapperClass),r.append(c),hi(r,`.${t.params.slideClass}`).forEach(d=>{c.append(d)})),Object.assign(t,{el:r,wrapperEl:c,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:c,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||va(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||va(r,"direction")==="rtl"),wrongRTL:va(c,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const a=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&a.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(o=>{o.complete?ph(t,o):o.addEventListener("load",c=>{ph(t,c.target)})}),rv(t),t.initialized=!0,rv(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:a,el:o,wrapperEl:c,slides:d}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),c&&c.removeAttribute("style"),d&&d.length&&d.forEach(h=>{h.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),h.removeAttribute("style"),h.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(h=>{r.off(h)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),qL(r)),r.destroyed=!0),null}static extendDefaults(e){Mr(sy,e)}static get extendedDefaults(){return sy}static get defaults(){return iv}static installModule(e){vs.prototype.__modules__||(vs.prototype.__modules__=[]);const t=vs.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>vs.installModule(t)),vs):(vs.installModule(e),vs)}};Object.keys(iy).forEach(n=>{Object.keys(iy[n]).forEach(e=>{x0.prototype[e]=iy[n][e]})});x0.use([ej,tj]);const r2=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Do(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function zl(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Do(e[r])&&Do(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:zl(n[r],e[r]):n[r]=e[r]})}function i2(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function s2(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function a2(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function o2(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function aV(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function oV(n){let{swiper:e,slides:t,passedParams:r,changedParams:a,nextEl:o,prevEl:c,scrollbarEl:d,paginationEl:h}=n;const p=a.filter(C=>C!=="children"&&C!=="direction"&&C!=="wrapperClass"),{params:g,pagination:_,navigation:b,scrollbar:E,virtual:T,thumbs:M}=e;let N,O,A,R,B,j,V,U;a.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&g.thumbs&&(!g.thumbs.swiper||g.thumbs.swiper.destroyed)&&(N=!0),a.includes("controller")&&r.controller&&r.controller.control&&g.controller&&!g.controller.control&&(O=!0),a.includes("pagination")&&r.pagination&&(r.pagination.el||h)&&(g.pagination||g.pagination===!1)&&_&&!_.el&&(A=!0),a.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||d)&&(g.scrollbar||g.scrollbar===!1)&&E&&!E.el&&(R=!0),a.includes("navigation")&&r.navigation&&(r.navigation.prevEl||c)&&(r.navigation.nextEl||o)&&(g.navigation||g.navigation===!1)&&b&&!b.prevEl&&!b.nextEl&&(B=!0);const I=C=>{e[C]&&(e[C].destroy(),C==="navigation"?(e.isElement&&(e[C].prevEl.remove(),e[C].nextEl.remove()),g[C].prevEl=void 0,g[C].nextEl=void 0,e[C].prevEl=void 0,e[C].nextEl=void 0):(e.isElement&&e[C].el.remove(),g[C].el=void 0,e[C].el=void 0))};a.includes("loop")&&e.isElement&&(g.loop&&!r.loop?j=!0:!g.loop&&r.loop?V=!0:U=!0),p.forEach(C=>{if(Do(g[C])&&Do(r[C]))Object.assign(g[C],r[C]),(C==="navigation"||C==="pagination"||C==="scrollbar")&&"enabled"in r[C]&&!r[C].enabled&&I(C);else{const P=r[C];(P===!0||P===!1)&&(C==="navigation"||C==="pagination"||C==="scrollbar")?P===!1&&I(C):g[C]=r[C]}}),p.includes("controller")&&!O&&e.controller&&e.controller.control&&g.controller&&g.controller.control&&(e.controller.control=g.controller.control),a.includes("children")&&t&&T&&g.virtual.enabled?(T.slides=t,T.update(!0)):a.includes("virtual")&&T&&g.virtual.enabled&&(t&&(T.slides=t),T.update(!0)),a.includes("children")&&t&&g.loop&&(U=!0),N&&M.init()&&M.update(!0),O&&(e.controller.control=g.controller.control),A&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-pagination"),h.part.add("pagination"),e.el.appendChild(h)),h&&(g.pagination.el=h),_.init(),_.render(),_.update()),R&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),e.el.appendChild(d)),d&&(g.scrollbar.el=d),E.init(),E.updateSize(),E.setTranslate()),B&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-prev"),c.innerHTML=e.hostEl.constructor.prevButtonSvg,c.part.add("button-prev"),e.el.appendChild(c))),o&&(g.navigation.nextEl=o),c&&(g.navigation.prevEl=c),b.init(),b.update()),a.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),a.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),a.includes("direction")&&e.changeDirection(r.direction,!1),(j||U)&&e.loopDestroy(),(V||U)&&e.loopCreate(),e.update()}function lV(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},a={};zl(t,iv),t._emitClasses=!0,t.init=!1;const o={},c=r2.map(h=>h.replace(/_/,"")),d=Object.assign({},n);return Object.keys(d).forEach(h=>{typeof n[h]>"u"||(c.indexOf(h)>=0?Do(n[h])?(t[h]={},a[h]={},zl(t[h],n[h]),zl(a[h],n[h])):(t[h]=n[h],a[h]=n[h]):h.search(/on[A-Z]/)===0&&typeof n[h]=="function"?e?r[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:t.on[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:o[h]=n[h])}),["navigation","pagination","scrollbar"].forEach(h=>{t[h]===!0&&(t[h]={}),t[h]===!1&&delete t[h]}),{params:t,passedParams:a,rest:o,events:r}}function uV(n,e){let{el:t,nextEl:r,prevEl:a,paginationEl:o,scrollbarEl:c,swiper:d}=n;i2(e)&&r&&a&&(d.params.navigation.nextEl=r,d.originalParams.navigation.nextEl=r,d.params.navigation.prevEl=a,d.originalParams.navigation.prevEl=a),s2(e)&&o&&(d.params.pagination.el=o,d.originalParams.pagination.el=o),a2(e)&&c&&(d.params.scrollbar.el=c,d.originalParams.scrollbar.el=c),d.init(t)}function cV(n,e,t,r,a){const o=[];if(!e)return o;const c=h=>{o.indexOf(h)<0&&o.push(h)};if(t&&r){const h=r.map(a),p=t.map(a);h.join("")!==p.join("")&&c("children"),r.length!==t.length&&c("children")}return r2.filter(h=>h[0]==="_").map(h=>h.replace(/_/,"")).forEach(h=>{if(h in n&&h in e)if(Do(n[h])&&Do(e[h])){const p=Object.keys(n[h]),g=Object.keys(e[h]);p.length!==g.length?c(h):(p.forEach(_=>{n[h][_]!==e[h][_]&&c(h)}),g.forEach(_=>{n[h][_]!==e[h][_]&&c(h)}))}else n[h]!==e[h]&&c(h)}),o}const dV=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Yh(){return Yh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yh.apply(this,arguments)}function l2(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function u2(n){const e=[];return Vt.Children.toArray(n).forEach(t=>{l2(t)?e.push(t):t.props&&t.props.children&&u2(t.props.children).forEach(r=>e.push(r))}),e}function fV(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Vt.Children.toArray(n).forEach(r=>{if(l2(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const a=u2(r.props.children);a.length>0?a.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function hV(n,e,t){if(!t)return null;const r=g=>{let _=g;return g<0?_=e.length+g:_>=e.length&&(_=_-e.length),_},a=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:c}=t,d=n.params.loop?-e.length:0,h=n.params.loop?e.length*2:e.length,p=[];for(let g=d;g<h;g+=1)g>=o&&g<=c&&p.push(e[r(g)]);return p.map((g,_)=>Vt.cloneElement(g,{swiper:n,style:a,key:g.props.virtualIndex||g.key||`slide-${_}`}))}function Vc(n,e){return typeof window>"u"?H.useEffect(n,e):H.useLayoutEffect(n,e)}const cx=H.createContext(null),mV=H.createContext(null),Ol=H.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:a="div",children:o,onSwiper:c,...d}=n===void 0?{}:n,h=!1;const[p,g]=H.useState("swiper"),[_,b]=H.useState(null),[E,T]=H.useState(!1),M=H.useRef(!1),N=H.useRef(null),O=H.useRef(null),A=H.useRef(null),R=H.useRef(null),B=H.useRef(null),j=H.useRef(null),V=H.useRef(null),U=H.useRef(null),{params:I,passedParams:C,rest:P,events:z}=lV(d),{slides:F,slots:L}=fV(o),be=()=>{T(!E)};Object.assign(I.on,{_containerClasses(_e,q){g(q)}});const Ee=()=>{Object.assign(I.on,z),h=!0;const _e={...I};if(delete _e.wrapperClass,O.current=new x0(_e),O.current.virtual&&O.current.params.virtual.enabled){O.current.virtual.slides=F;const q={cache:!1,slides:F,renderExternal:b,renderExternalUpdate:!1};zl(O.current.params.virtual,q),zl(O.current.originalParams.virtual,q)}};N.current||Ee(),O.current&&O.current.on("_beforeBreakpoint",be);const Q=()=>{h||!z||!O.current||Object.keys(z).forEach(_e=>{O.current.on(_e,z[_e])})},oe=()=>{!z||!O.current||Object.keys(z).forEach(_e=>{O.current.off(_e,z[_e])})};H.useEffect(()=>()=>{O.current&&O.current.off("_beforeBreakpoint",be)}),H.useEffect(()=>{!M.current&&O.current&&(O.current.emitSlidesClasses(),M.current=!0)}),Vc(()=>{if(e&&(e.current=N.current),!!N.current)return O.current.destroyed&&Ee(),uV({el:N.current,nextEl:B.current,prevEl:j.current,paginationEl:V.current,scrollbarEl:U.current,swiper:O.current},I),c&&!O.current.destroyed&&c(O.current),()=>{O.current&&!O.current.destroyed&&O.current.destroy(!0,!1)}},[]),Vc(()=>{Q();const _e=cV(C,A.current,F,R.current,q=>q.key);return A.current=C,R.current=F,_e.length&&O.current&&!O.current.destroyed&&oV({swiper:O.current,slides:F,passedParams:C,changedParams:_e,nextEl:B.current,prevEl:j.current,scrollbarEl:U.current,paginationEl:V.current}),()=>{oe()}}),Vc(()=>{dV(O.current)},[_]);function ae(){return I.virtual?hV(O.current,F,_):F.map((_e,q)=>Vt.cloneElement(_e,{swiper:O.current,swiperSlideIndex:q}))}return Vt.createElement(r,Yh({ref:N,className:o2(`${p}${t?` ${t}`:""}`)},P),Vt.createElement(mV.Provider,{value:O.current},L["container-start"],Vt.createElement(a,{className:aV(I.wrapperClass)},L["wrapper-start"],ae(),L["wrapper-end"]),i2(I)&&Vt.createElement(Vt.Fragment,null,Vt.createElement("div",{ref:j,className:"swiper-button-prev"}),Vt.createElement("div",{ref:B,className:"swiper-button-next"})),a2(I)&&Vt.createElement("div",{ref:U,className:"swiper-scrollbar"}),s2(I)&&Vt.createElement("div",{ref:V,className:"swiper-pagination"}),L["container-end"]))});Ol.displayName="Swiper";const Ml=H.forwardRef(function(n,e){let{tag:t="div",children:r,className:a="",swiper:o,zoom:c,lazy:d,virtualIndex:h,swiperSlideIndex:p,...g}=n===void 0?{}:n;const _=H.useRef(null),[b,E]=H.useState("swiper-slide"),[T,M]=H.useState(!1);function N(B,j,V){j===_.current&&E(V)}Vc(()=>{if(typeof p<"u"&&(_.current.swiperSlideIndex=p),e&&(e.current=_.current),!(!_.current||!o)){if(o.destroyed){b!=="swiper-slide"&&E("swiper-slide");return}return o.on("_slideClass",N),()=>{o&&o.off("_slideClass",N)}}}),Vc(()=>{o&&_.current&&!o.destroyed&&E(o.getSlideClasses(_.current))},[o]);const O={isActive:b.indexOf("swiper-slide-active")>=0,isVisible:b.indexOf("swiper-slide-visible")>=0,isPrev:b.indexOf("swiper-slide-prev")>=0,isNext:b.indexOf("swiper-slide-next")>=0},A=()=>typeof r=="function"?r(O):r,R=()=>{M(!0)};return Vt.createElement(t,Yh({ref:_,className:o2(`${b}${a?` ${a}`:""}`),"data-swiper-slide-index":h,onLoad:R},g),c&&Vt.createElement(cx.Provider,{value:O},Vt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof c=="number"?c:void 0},A(),d&&!T&&Vt.createElement("div",{className:"swiper-lazy-preloader"}))),!c&&Vt.createElement(cx.Provider,{value:O},A(),d&&!T&&Vt.createElement("div",{className:"swiper-lazy-preloader"})))});Ml.displayName="SwiperSlide";function c2(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(a=>{if(!t[a]&&t.auto===!0){let o=hi(n.el,`.${r[a]}`)[0];o||(o=Qh("div",r[a]),o.className=r[a],n.el.append(o)),t[a]=o,e[a]=o}}),t}function gh(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(T){let M;return T&&typeof T=="string"&&e.isElement&&(M=e.el.querySelector(T)||e.hostEl.querySelector(T),M)?M:(T&&(typeof T=="string"&&(M=[...document.querySelectorAll(T)]),e.params.uniqueNavElements&&typeof T=="string"&&M&&M.length>1&&e.el.querySelectorAll(T).length===1?M=e.el.querySelector(T):M&&M.length===1&&(M=M[0])),T&&!M?T:M)}function c(T,M){const N=e.params.navigation;T=An(T),T.forEach(O=>{O&&(O.classList[M?"add":"remove"](...N.disabledClass.split(" ")),O.tagName==="BUTTON"&&(O.disabled=M),e.params.watchOverflow&&e.enabled&&O.classList[e.isLocked?"add":"remove"](N.lockClass))})}function d(){const{nextEl:T,prevEl:M}=e.navigation;if(e.params.loop){c(M,!1),c(T,!1);return}c(M,e.isBeginning&&!e.params.rewind),c(T,e.isEnd&&!e.params.rewind)}function h(T){T.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function p(T){T.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function g(){const T=e.params.navigation;if(e.params.navigation=c2(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(T.nextEl||T.prevEl))return;let M=o(T.nextEl),N=o(T.prevEl);Object.assign(e.navigation,{nextEl:M,prevEl:N}),M=An(M),N=An(N);const O=(A,R)=>{A&&A.addEventListener("click",R==="next"?p:h),!e.enabled&&A&&A.classList.add(...T.lockClass.split(" "))};M.forEach(A=>O(A,"next")),N.forEach(A=>O(A,"prev"))}function _(){let{nextEl:T,prevEl:M}=e.navigation;T=An(T),M=An(M);const N=(O,A)=>{O.removeEventListener("click",A==="next"?p:h),O.classList.remove(...e.params.navigation.disabledClass.split(" "))};T.forEach(O=>N(O,"next")),M.forEach(O=>N(O,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?E():(g(),d())}),r("toEdge fromEdge lock unlock",()=>{d()}),r("destroy",()=>{_()}),r("enable disable",()=>{let{nextEl:T,prevEl:M}=e.navigation;if(T=An(T),M=An(M),e.enabled){d();return}[...T,...M].filter(N=>!!N).forEach(N=>N.classList.add(e.params.navigation.lockClass))}),r("click",(T,M)=>{let{nextEl:N,prevEl:O}=e.navigation;N=An(N),O=An(O);const A=M.target;let R=O.includes(A)||N.includes(A);if(e.isElement&&!R){const B=M.path||M.composedPath&&M.composedPath();B&&(R=B.find(j=>N.includes(j)||O.includes(j)))}if(e.params.navigation.hideOnClick&&!R){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===A||e.pagination.el.contains(A)))return;let B;N.length?B=N[0].classList.contains(e.params.navigation.hiddenClass):O.length&&(B=O[0].classList.contains(e.params.navigation.hiddenClass)),a(B===!0?"navigationShow":"navigationHide"),[...N,...O].filter(j=>!!j).forEach(j=>j.classList.toggle(e.params.navigation.hiddenClass))}});const b=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),g(),d()},E=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),_()};Object.assign(e.navigation,{enable:b,disable:E,update:d,init:g,destroy:_})}function bc(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function pV(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:A=>A,formatFractionTotal:A=>A,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let c,d=0;function h(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(A,R){const{bulletActiveClass:B}=e.params.pagination;A&&(A=A[`${R==="prev"?"previous":"next"}ElementSibling`],A&&(A.classList.add(`${B}-${R}`),A=A[`${R==="prev"?"previous":"next"}ElementSibling`],A&&A.classList.add(`${B}-${R}-${R}`)))}function g(A,R,B){if(A=A%B,R=R%B,R===A+1)return"next";if(R===A-1)return"previous"}function _(A){const R=A.target.closest(bc(e.params.pagination.bulletClass));if(!R)return;A.preventDefault();const B=Kh(R)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===B)return;const j=g(e.realIndex,B,e.slides.length);j==="next"?e.slideNext():j==="previous"?e.slidePrev():e.slideToLoop(B)}else e.slideTo(B)}function b(){const A=e.rtl,R=e.params.pagination;if(h())return;let B=e.pagination.el;B=An(B);let j,V;const U=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,I=e.params.loop?Math.ceil(U/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(V=e.previousRealIndex||0,j=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(j=e.snapIndex,V=e.previousSnapIndex):(V=e.previousIndex||0,j=e.activeIndex||0),R.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const C=e.pagination.bullets;let P,z,F;if(R.dynamicBullets&&(c=nv(C[0],e.isHorizontal()?"width":"height"),B.forEach(L=>{L.style[e.isHorizontal()?"width":"height"]=`${c*(R.dynamicMainBullets+4)}px`}),R.dynamicMainBullets>1&&V!==void 0&&(d+=j-(V||0),d>R.dynamicMainBullets-1?d=R.dynamicMainBullets-1:d<0&&(d=0)),P=Math.max(j-d,0),z=P+(Math.min(C.length,R.dynamicMainBullets)-1),F=(z+P)/2),C.forEach(L=>{const be=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Ee=>`${R.bulletActiveClass}${Ee}`)].map(Ee=>typeof Ee=="string"&&Ee.includes(" ")?Ee.split(" "):Ee).flat();L.classList.remove(...be)}),B.length>1)C.forEach(L=>{const be=Kh(L);be===j?L.classList.add(...R.bulletActiveClass.split(" ")):e.isElement&&L.setAttribute("part","bullet"),R.dynamicBullets&&(be>=P&&be<=z&&L.classList.add(...`${R.bulletActiveClass}-main`.split(" ")),be===P&&p(L,"prev"),be===z&&p(L,"next"))});else{const L=C[j];if(L&&L.classList.add(...R.bulletActiveClass.split(" ")),e.isElement&&C.forEach((be,Ee)=>{be.setAttribute("part",Ee===j?"bullet-active":"bullet")}),R.dynamicBullets){const be=C[P],Ee=C[z];for(let Q=P;Q<=z;Q+=1)C[Q]&&C[Q].classList.add(...`${R.bulletActiveClass}-main`.split(" "));p(be,"prev"),p(Ee,"next")}}if(R.dynamicBullets){const L=Math.min(C.length,R.dynamicMainBullets+4),be=(c*L-c)/2-F*c,Ee=A?"right":"left";C.forEach(Q=>{Q.style[e.isHorizontal()?Ee:"top"]=`${be}px`})}}B.forEach((C,P)=>{if(R.type==="fraction"&&(C.querySelectorAll(bc(R.currentClass)).forEach(z=>{z.textContent=R.formatFractionCurrent(j+1)}),C.querySelectorAll(bc(R.totalClass)).forEach(z=>{z.textContent=R.formatFractionTotal(I)})),R.type==="progressbar"){let z;R.progressbarOpposite?z=e.isHorizontal()?"vertical":"horizontal":z=e.isHorizontal()?"horizontal":"vertical";const F=(j+1)/I;let L=1,be=1;z==="horizontal"?L=F:be=F,C.querySelectorAll(bc(R.progressbarFillClass)).forEach(Ee=>{Ee.style.transform=`translate3d(0,0,0) scaleX(${L}) scaleY(${be})`,Ee.style.transitionDuration=`${e.params.speed}ms`})}R.type==="custom"&&R.renderCustom?(C.innerHTML=R.renderCustom(e,j+1,I),P===0&&a("paginationRender",C)):(P===0&&a("paginationRender",C),a("paginationUpdate",C)),e.params.watchOverflow&&e.enabled&&C.classList[e.isLocked?"add":"remove"](R.lockClass)})}function E(){const A=e.params.pagination;if(h())return;const R=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let B=e.pagination.el;B=An(B);let j="";if(A.type==="bullets"){let V=e.params.loop?Math.ceil(R/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&V>R&&(V=R);for(let U=0;U<V;U+=1)A.renderBullet?j+=A.renderBullet.call(e,U,A.bulletClass):j+=`<${A.bulletElement} ${e.isElement?'part="bullet"':""} class="${A.bulletClass}"></${A.bulletElement}>`}A.type==="fraction"&&(A.renderFraction?j=A.renderFraction.call(e,A.currentClass,A.totalClass):j=`<span class="${A.currentClass}"></span> / <span class="${A.totalClass}"></span>`),A.type==="progressbar"&&(A.renderProgressbar?j=A.renderProgressbar.call(e,A.progressbarFillClass):j=`<span class="${A.progressbarFillClass}"></span>`),e.pagination.bullets=[],B.forEach(V=>{A.type!=="custom"&&(V.innerHTML=j||""),A.type==="bullets"&&e.pagination.bullets.push(...V.querySelectorAll(bc(A.bulletClass)))}),A.type!=="custom"&&a("paginationRender",B[0])}function T(){e.params.pagination=c2(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const A=e.params.pagination;if(!A.el)return;let R;typeof A.el=="string"&&e.isElement&&(R=e.el.querySelector(A.el)),!R&&typeof A.el=="string"&&(R=[...document.querySelectorAll(A.el)]),R||(R=A.el),!(!R||R.length===0)&&(e.params.uniqueNavElements&&typeof A.el=="string"&&Array.isArray(R)&&R.length>1&&(R=[...e.el.querySelectorAll(A.el)],R.length>1&&(R=R.find(B=>WA(B,".swiper")[0]===e.el))),Array.isArray(R)&&R.length===1&&(R=R[0]),Object.assign(e.pagination,{el:R}),R=An(R),R.forEach(B=>{A.type==="bullets"&&A.clickable&&B.classList.add(...(A.clickableClass||"").split(" ")),B.classList.add(A.modifierClass+A.type),B.classList.add(e.isHorizontal()?A.horizontalClass:A.verticalClass),A.type==="bullets"&&A.dynamicBullets&&(B.classList.add(`${A.modifierClass}${A.type}-dynamic`),d=0,A.dynamicMainBullets<1&&(A.dynamicMainBullets=1)),A.type==="progressbar"&&A.progressbarOpposite&&B.classList.add(A.progressbarOppositeClass),A.clickable&&B.addEventListener("click",_),e.enabled||B.classList.add(A.lockClass)}))}function M(){const A=e.params.pagination;if(h())return;let R=e.pagination.el;R&&(R=An(R),R.forEach(B=>{B.classList.remove(A.hiddenClass),B.classList.remove(A.modifierClass+A.type),B.classList.remove(e.isHorizontal()?A.horizontalClass:A.verticalClass),A.clickable&&(B.classList.remove(...(A.clickableClass||"").split(" ")),B.removeEventListener("click",_))})),e.pagination.bullets&&e.pagination.bullets.forEach(B=>B.classList.remove(...A.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const A=e.params.pagination;let{el:R}=e.pagination;R=An(R),R.forEach(B=>{B.classList.remove(A.horizontalClass,A.verticalClass),B.classList.add(e.isHorizontal()?A.horizontalClass:A.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?O():(T(),E(),b())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&b()}),r("snapIndexChange",()=>{b()}),r("snapGridLengthChange",()=>{E(),b()}),r("destroy",()=>{M()}),r("enable disable",()=>{let{el:A}=e.pagination;A&&(A=An(A),A.forEach(R=>R.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{b()}),r("click",(A,R)=>{const B=R.target,j=An(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&j&&j.length>0&&!B.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&B===e.navigation.nextEl||e.navigation.prevEl&&B===e.navigation.prevEl))return;const V=j[0].classList.contains(e.params.pagination.hiddenClass);a(V===!0?"paginationShow":"paginationHide"),j.forEach(U=>U.classList.toggle(e.params.pagination.hiddenClass))}});const N=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:A}=e.pagination;A&&(A=An(A),A.forEach(R=>R.classList.remove(e.params.pagination.paginationDisabledClass))),T(),E(),b()},O=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:A}=e.pagination;A&&(A=An(A),A.forEach(R=>R.classList.add(e.params.pagination.paginationDisabledClass))),M()};Object.assign(e.pagination,{enable:N,disable:O,render:E,update:b,init:T,destroy:M})}function gV(n){let{swiper:e,extendParams:t,on:r,emit:a,params:o}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let c,d,h=o&&o.autoplay?o.autoplay.delay:3e3,p=o&&o.autoplay?o.autoplay.delay:3e3,g,_=new Date().getTime(),b,E,T,M,N,O,A;function R(ae){!e||e.destroyed||!e.wrapperEl||ae.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",R),!(A||ae.detail&&ae.detail.bySwiperTouchMove)&&P())}const B=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?b=!0:b&&(p=g,b=!1);const ae=e.autoplay.paused?g:_+p-new Date().getTime();e.autoplay.timeLeft=ae,a("autoplayTimeLeft",ae,ae/h),d=requestAnimationFrame(()=>{B()})},j=()=>{let ae;return e.virtual&&e.params.virtual.enabled?ae=e.slides.find(q=>q.classList.contains("swiper-slide-active")):ae=e.slides[e.activeIndex],ae?parseInt(ae.getAttribute("data-swiper-autoplay"),10):void 0},V=ae=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(d),B();let _e=typeof ae>"u"?e.params.autoplay.delay:ae;h=e.params.autoplay.delay,p=e.params.autoplay.delay;const q=j();!Number.isNaN(q)&&q>0&&typeof ae>"u"&&(_e=q,h=q,p=q),g=_e;const se=e.params.speed,ge=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(se,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,se,!0,!0),a("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(se,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,se,!0,!0),a("autoplay")),e.params.cssMode&&(_=new Date().getTime(),requestAnimationFrame(()=>{V()})))};return _e>0?(clearTimeout(c),c=setTimeout(()=>{ge()},_e)):requestAnimationFrame(()=>{ge()}),_e},U=()=>{_=new Date().getTime(),e.autoplay.running=!0,V(),a("autoplayStart")},I=()=>{e.autoplay.running=!1,clearTimeout(c),cancelAnimationFrame(d),a("autoplayStop")},C=(ae,_e)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(c),ae||(O=!0);const q=()=>{a("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",R):P()};if(e.autoplay.paused=!0,_e){N&&(g=e.params.autoplay.delay),N=!1,q();return}g=(g||e.params.autoplay.delay)-(new Date().getTime()-_),!(e.isEnd&&g<0&&!e.params.loop)&&(g<0&&(g=0),q())},P=()=>{e.isEnd&&g<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(_=new Date().getTime(),O?(O=!1,V(g)):V(),e.autoplay.paused=!1,a("autoplayResume"))},z=()=>{if(e.destroyed||!e.autoplay.running)return;const ae=pi();ae.visibilityState==="hidden"&&(O=!0,C(!0)),ae.visibilityState==="visible"&&P()},F=ae=>{ae.pointerType==="mouse"&&(O=!0,A=!0,!(e.animating||e.autoplay.paused)&&C(!0))},L=ae=>{ae.pointerType==="mouse"&&(A=!1,e.autoplay.paused&&P())},be=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",F),e.el.addEventListener("pointerleave",L))},Ee=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",F),e.el.removeEventListener("pointerleave",L))},Q=()=>{pi().addEventListener("visibilitychange",z)},oe=()=>{pi().removeEventListener("visibilitychange",z)};r("init",()=>{e.params.autoplay.enabled&&(be(),Q(),U())}),r("destroy",()=>{Ee(),oe(),e.autoplay.running&&I()}),r("_freeModeStaticRelease",()=>{(T||O)&&P()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?I():C(!0,!0)}),r("beforeTransitionStart",(ae,_e,q)=>{e.destroyed||!e.autoplay.running||(q||!e.params.autoplay.disableOnInteraction?C(!0,!0):I())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){I();return}E=!0,T=!1,O=!1,M=setTimeout(()=>{O=!0,T=!0,C(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!E)){if(clearTimeout(M),clearTimeout(c),e.params.autoplay.disableOnInteraction){T=!1,E=!1;return}T&&e.params.cssMode&&P(),T=!1,E=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(N=!0)}),Object.assign(e.autoplay,{start:U,stop:I,pause:C,resume:P})}function dx(n){let{swiper:e,extendParams:t,on:r}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let a=!1,o=!1;e.thumbs={swiper:null};function c(){const p=e.thumbs.swiper;if(!p||p.destroyed)return;const g=p.clickedIndex,_=p.clickedSlide;if(_&&_.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof g>"u"||g===null)return;let b;p.params.loop?b=parseInt(p.clickedSlide.getAttribute("data-swiper-slide-index"),10):b=g,e.params.loop?e.slideToLoop(b):e.slideTo(b)}function d(){const{thumbs:p}=e.params;if(a)return!1;a=!0;const g=e.constructor;if(p.swiper instanceof g){if(p.swiper.destroyed)return a=!1,!1;e.thumbs.swiper=p.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(Oc(p.swiper)){const _=Object.assign({},p.swiper);Object.assign(_,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new g(_),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",c),!0}function h(p){const g=e.thumbs.swiper;if(!g||g.destroyed)return;const _=g.params.slidesPerView==="auto"?g.slidesPerViewDynamic():g.params.slidesPerView;let b=1;const E=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(b=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(b=1),b=Math.floor(b),g.slides.forEach(N=>N.classList.remove(E)),g.params.loop||g.params.virtual&&g.params.virtual.enabled)for(let N=0;N<b;N+=1)hi(g.slidesEl,`[data-swiper-slide-index="${e.realIndex+N}"]`).forEach(O=>{O.classList.add(E)});else for(let N=0;N<b;N+=1)g.slides[e.realIndex+N]&&g.slides[e.realIndex+N].classList.add(E);const T=e.params.thumbs.autoScrollOffset,M=T&&!g.params.loop;if(e.realIndex!==g.realIndex||M){const N=g.activeIndex;let O,A;if(g.params.loop){const R=g.slides.find(B=>B.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);O=g.slides.indexOf(R),A=e.activeIndex>e.previousIndex?"next":"prev"}else O=e.realIndex,A=O>e.previousIndex?"next":"prev";M&&(O+=A==="next"?T:-1*T),g.visibleSlidesIndexes&&g.visibleSlidesIndexes.indexOf(O)<0&&(g.params.centeredSlides?O>N?O=O-Math.floor(_/2)+1:O=O+Math.floor(_/2)-1:O>N&&g.params.slidesPerGroup,g.slideTo(O,p?0:void 0))}}r("beforeInit",()=>{const{thumbs:p}=e.params;if(!(!p||!p.swiper))if(typeof p.swiper=="string"||p.swiper instanceof HTMLElement){const g=pi(),_=()=>{const E=typeof p.swiper=="string"?g.querySelector(p.swiper):p.swiper;if(E&&E.swiper)p.swiper=E.swiper,d(),h(!0);else if(E){const T=`${e.params.eventsPrefix}init`,M=N=>{p.swiper=N.detail[0],E.removeEventListener(T,M),d(),h(!0),p.swiper.update(),e.update()};E.addEventListener(T,M)}return E},b=()=>{if(e.destroyed)return;_()||requestAnimationFrame(b)};requestAnimationFrame(b)}else d(),h(!0)}),r("slideChange update resize observerUpdate",()=>{h()}),r("setTransition",(p,g)=>{const _=e.thumbs.swiper;!_||_.destroyed||_.setTransition(g)}),r("beforeDestroy",()=>{const p=e.thumbs.swiper;!p||p.destroyed||o&&p.destroy()}),Object.assign(e.thumbs,{init:d,update:h})}function fx(n){let{swiper:e,extendParams:t,emit:r,once:a}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){if(e.params.cssMode)return;const h=e.getTranslate();e.setTranslate(h),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function c(){if(e.params.cssMode)return;const{touchEventsData:h,touches:p}=e;h.velocities.length===0&&h.velocities.push({position:p[e.isHorizontal()?"startX":"startY"],time:h.touchStartTime}),h.velocities.push({position:p[e.isHorizontal()?"currentX":"currentY"],time:So()})}function d(h){let{currentPos:p}=h;if(e.params.cssMode)return;const{params:g,wrapperEl:_,rtlTranslate:b,snapGrid:E,touchEventsData:T}=e,N=So()-T.touchStartTime;if(p<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(p>-e.maxTranslate()){e.slides.length<E.length?e.slideTo(E.length-1):e.slideTo(e.slides.length-1);return}if(g.freeMode.momentum){if(T.velocities.length>1){const I=T.velocities.pop(),C=T.velocities.pop(),P=I.position-C.position,z=I.time-C.time;e.velocity=P/z,e.velocity/=2,Math.abs(e.velocity)<g.freeMode.minimumVelocity&&(e.velocity=0),(z>150||So()-I.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=g.freeMode.momentumVelocityRatio,T.velocities.length=0;let O=1e3*g.freeMode.momentumRatio;const A=e.velocity*O;let R=e.translate+A;b&&(R=-R);let B=!1,j;const V=Math.abs(e.velocity)*20*g.freeMode.momentumBounceRatio;let U;if(R<e.maxTranslate())g.freeMode.momentumBounce?(R+e.maxTranslate()<-V&&(R=e.maxTranslate()-V),j=e.maxTranslate(),B=!0,T.allowMomentumBounce=!0):R=e.maxTranslate(),g.loop&&g.centeredSlides&&(U=!0);else if(R>e.minTranslate())g.freeMode.momentumBounce?(R-e.minTranslate()>V&&(R=e.minTranslate()+V),j=e.minTranslate(),B=!0,T.allowMomentumBounce=!0):R=e.minTranslate(),g.loop&&g.centeredSlides&&(U=!0);else if(g.freeMode.sticky){let I;for(let C=0;C<E.length;C+=1)if(E[C]>-R){I=C;break}Math.abs(E[I]-R)<Math.abs(E[I-1]-R)||e.swipeDirection==="next"?R=E[I]:R=E[I-1],R=-R}if(U&&a("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(b?O=Math.abs((-R-e.translate)/e.velocity):O=Math.abs((R-e.translate)/e.velocity),g.freeMode.sticky){const I=Math.abs((b?-R:R)-e.translate),C=e.slidesSizesGrid[e.activeIndex];I<C?O=g.speed:I<2*C?O=g.speed*1.5:O=g.speed*2.5}}else if(g.freeMode.sticky){e.slideToClosest();return}g.freeMode.momentumBounce&&B?(e.updateProgress(j),e.setTransition(O),e.setTranslate(R),e.transitionStart(!0,e.swipeDirection),e.animating=!0,Zg(_,()=>{!e||e.destroyed||!T.allowMomentumBounce||(r("momentumBounce"),e.setTransition(g.speed),setTimeout(()=>{e.setTranslate(j),Zg(_,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(R),e.setTransition(O),e.setTranslate(R),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,Zg(_,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(R),e.updateActiveIndex(),e.updateSlidesClasses()}else if(g.freeMode.sticky){e.slideToClosest();return}else g.freeMode&&r("_freeModeNoMomentumRelease");(!g.freeMode.momentum||N>=g.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:o,onTouchMove:c,onTouchEnd:d}})}const yV=()=>{const[n,e]=H.useState([]);return H.useEffect(()=>{(async()=>{try{const r=await Vo(mi(ir,"hero-slider-images")),a=[];r.forEach(o=>{const c=o.data();c.image&&c.image.url&&a.push(c.image.url)}),e(a)}catch(r){console.error("Error fetching images:",r)}})()},[]),v.jsx("div",{className:"w-full",children:v.jsx(Ol,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!1,modules:[gV,pV,gh],className:"mySwiper",children:n.map((t,r)=>v.jsx(Ml,{children:v.jsx("img",{src:t,alt:`Slide ${r+1}`,className:"w-full h-[450px] object-cover"})},r))})})},hx=()=>v.jsx("div",{className:"w-[80%] mx-auto mt-6",children:v.jsx("div",{children:v.jsx(yV,{})})}),vV=H.createContext(),_V=({children:n})=>{const[e,t]=H.useState(null),[r,a]=H.useState(!0);H.useEffect(()=>{const h=v3(Kg,p=>{t(p),a(!1)});return()=>h()},[]);const d={user:e,login:async(h,p)=>{a(!0);try{await p3(Kg,h,p)}catch(g){console.error("Login error:",g.message)}finally{a(!1)}},logout:async()=>{await _3(Kg)},loading:r};return v.jsx(vV.Provider,{value:d,children:n})},bV=()=>v.jsx("div",{children:v.jsx("p",{children:"this is admin page"})}),mx=()=>{const{gender:n,category:e}=pv(),t=2,r=async({pageParam:_=null})=>{const b=_?No(mi(ir,"products"),ya("gender","==",n),ya("subcategory","array-contains",e.toLowerCase()),QS(_),jh(t)):No(mi(ir,"products"),ya("gender","==",n),ya("subcategory","array-contains",e.toLowerCase()),jh(t)),E=await Vo(b),T=[];return E.forEach(M=>{const N=M.data();N.available&&N.stock>0&&T.push({id:M.id,...N})}),{products:T,lastVisible:E.docs[E.docs.length-1]}},{data:a,fetchNextPage:o,hasNextPage:c,isFetchingNextPage:d,isLoading:h,error:p}=KA({queryKey:["products",n,e],queryFn:r,getNextPageParam:_=>_.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),g=(a==null?void 0:a.pages.flatMap(_=>_.products))||[];return h?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsxs("div",{className:"text-center",children:[v.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),v.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):p?v.jsx("div",{className:"text-center py-8",children:"Error loading products"}):v.jsxs("div",{className:"w-[100%] xl:w-[90%] mx-auto px-3 sm:px-0",children:[v.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Showing products for ",n," / ",e]}),g.length===0?v.jsx("p",{children:"No products found in this category."}):v.jsxs(v.Fragment,{children:[v.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-1 for_set-grid",children:g.map(_=>{const b=_.discount&&_.discount>0;return v.jsxs("li",{className:"border border-gray-400 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col mb-6",children:[v.jsxs("div",{className:"p-3 flex-grow flex flex-col",children:[v.jsxs(Bt,{to:`/product/${_.productId}`,className:"relative",children:[v.jsx("img",{src:_.mainImage,alt:_.name,className:"w-full h-48 object-cover mb-2"}),b&&v.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[_.discount,"%"]})]}),v.jsx("h3",{className:"text-sm font-medium text-gray-800 line-clamp-2 mb-1",children:_.name}),v.jsx("div",{className:"mt-auto",children:v.jsxs("div",{className:"flex flex-row items-center gap-2 space-y-0",children:[v.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["৳",_.discount?(_.price-_.price*(_.discount/100)).toFixed(2):_.price]}),_.regularPrice&&v.jsx("div",{className:"text-xs text-gray-500",children:v.jsxs("del",{children:["৳",_.regularPrice]})}),v.jsx("div",{children:_.productType&&v.jsxs("p",{className:"text-red-400",children:["(",_.productType,")"]})})]})})]}),v.jsxs("div",{className:"p-3 pt-2 border-t border-gray-100 space-y-2",children:[v.jsxs("div",{className:"flex gap-2 mb-0",children:[v.jsx("button",{className:"flex-1 border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Add to Cart"}),v.jsx("button",{className:"flex-1 border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),v.jsxs("div",{className:"flex justify-between items-center pt-1",children:[v.jsx("span",{className:`text-xs font-medium ${_.stock>0?"text-green-600":"text-red-500"}`,children:_.stock>0?"In Stock":"Out of Stock"}),_.stock>0&&v.jsxs("span",{className:"text-xs text-gray-500",children:[_.stock," units available"]})]})]})]},_.id)})}),c&&v.jsx("div",{className:"mt-6 text-center",children:v.jsx("button",{onClick:()=>o(),disabled:d,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded inline-flex items-center",children:d?v.jsxs(v.Fragment,{children:[v.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More Products"})})]})]})},wV=()=>{const[t,r]=tN(),a=Number(t.get("page"))||1,[o,c]=H.useState(!1),{data:d=[],isLoading:h}=VL({queryKey:["allProducts"],queryFn:async()=>{const _=await Vo(mi(ir,"products")),b=[];_.forEach(T=>{const M=T.data();M.available&&M.stock>0&&b.push({id:T.id,...M})});const E=[...b];for(let T=E.length-1;T>0;T--){const M=Math.floor(Math.random()*(T+1));[E[T],E[M]]=[E[M],E[T]]}return E},staleTime:1/0,cacheTime:24*60*60*1e3}),p=d.slice(0,3+(a-1)*2),g=async()=>{c(!0),await new Promise(_=>setTimeout(_,500)),r({page:a+1}),c(!1)};return H.useEffect(()=>{window.scrollTo(0,0)},[a]),h?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsxs("div",{className:"text-center",children:[v.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),v.jsx("p",{className:"text-lg font-medium",children:"Loading all products..."})]})}):v.jsxs("div",{className:"w-[100%] xl:w-[90%] mx-auto px-3 sm:px-0",children:[v.jsx("h2",{className:"text-lg font-semibold mb-4 mt-2",children:"All Products/"}),p.length===0?v.jsx("p",{className:"text-center py-8",children:"No products found."}):v.jsxs(v.Fragment,{children:[v.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-1 for_set-grid",children:p.map(_=>{var E;const b=_.discount&&_.discount>0;return v.jsxs("li",{className:"border border-gray-400 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col mb-6",children:[v.jsxs("div",{className:"p-3 flex-grow flex flex-col",children:[v.jsxs(Bt,{to:`/product/${_.id}`,className:"relative",children:[v.jsx("img",{src:_.mainImage||((E=_.images)==null?void 0:E[0])||"/placeholder-product.jpg",alt:_.name,className:"w-full h-48 object-cover mb-2"}),b&&v.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[_.discount,"%"]})]}),v.jsx("h3",{className:"text-sm font-medium text-gray-800 line-clamp-2 mb-1",children:_.name}),v.jsx("div",{className:"mt-auto",children:v.jsxs("div",{className:"flex flex-row items-center gap-2 space-y-0",children:[v.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["৳",_.discount?(_.price-_.price*(_.discount/100)).toFixed(2):_.price]}),_.regularPrice&&v.jsx("div",{className:"text-xs text-gray-500",children:v.jsxs("del",{children:["৳",_.regularPrice]})}),v.jsx("div",{children:_.productType&&v.jsxs("p",{className:"text-red-400",children:["(",_.productType,")"]})})]})})]}),v.jsxs("div",{className:"p-3 pt-2 border-t border-gray-100 space-y-2",children:[v.jsxs("div",{className:"flex gap-2 mb-0",children:[v.jsx("button",{className:"flex-1 border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Add to Cart"}),v.jsx("button",{className:"flex-1 border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),v.jsxs("div",{className:"flex justify-between items-center pt-1",children:[v.jsx("span",{className:`text-xs font-medium ${_.stock>0?"text-green-600":"text-red-500"}`,children:_.stock>0?"In Stock":"Out of Stock"}),_.stock>0&&v.jsxs("span",{className:"text-xs text-gray-500",children:[_.stock," units available"]})]})]})]},_.id)})}),d.length>p.length&&v.jsx("div",{className:"flex justify-center mt-6 mb-10",children:v.jsx("button",{onClick:g,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:o?v.jsxs(v.Fragment,{children:[v.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},Wf=n=>{},sv=typeof window>"u"?H.useEffect:H.useLayoutEffect,d2=n=>typeof n=="number"&&n>0,px=n=>d2(n)?n:0,av=n=>Math.round(100*n)/100,ov=n=>Math.round(2*n)/2,gx=n=>n===0?0:-1*av(n),EV={},TV="rr--group",xV="rr--box",SV="rr--svg",AV="rr--reset",yx="rr--focus-reset",RV="rr--svg-stop-1",CV="rr--svg-stop-2",vx="rr--on",_x="rr--off",Mc={ZOOM:"rr--fx-zoom",POSITION:"rr--fx-position",OPACITY:"rr--fx-opacity",COLORS:"rr--fx-colors"},Zf={SMALL:"rr--rx-sm",MEDIUM:"rr--rx-md",LARGE:"rr--rx-lg",FULL:"rr--rx-full"},ay={SMALL:"rr--gap-sm",MEDIUM:"rr--gap-md",LARGE:"rr--gap-lg"},oy={SMALL:"rr--space-sm",MEDIUM:"rr--space-md",LARGE:"rr--space-lg"},IV="rr--pointer",NV="rr--disabled",OV="rr--dir-y",MV="rr--dir-x",DV="rr--has-stroke",PV="rr--has-border",kV="rr--hf-box-on",LV="rr--hf-box-int",jV="rr--hf-box-off",VV="rr--hf-svg-on",UV="rr--hf-svg-off",Jf={FILL:"--rr--fill-on-color",BOX:"--rr--box-on-color",BORDER:"--rr--border-on-color",STROKE:"--rr--stroke-on-color"},eh={FILL:"--rr--fill-off-color",BOX:"--rr--box-off-color",BORDER:"--rr--border-off-color",STROKE:"--rr--stroke-off-color"},zV="--rr--border-width",f2="horizontal",h2="vertical",ly="svg",bx="box",Ir={NONE:"none",SMALL:"small",MEDIUM:"medium",LARGE:"large",FULL:"full"},Il={NONE:"none",ZOOM:"zoom",POSITION:"position",OPACITY:"opacity",COLORS:"colors"},_a={FILL:"activeFillColor",BOX:"activeBoxColor",BORDER:"activeBoxBorderColor",STROKE:"activeStrokeColor"},th={FILL:"inactiveFillColor",BOX:"inactiveBoxColor",BORDER:"inactiveBoxBorderColor",STROKE:"inactiveStrokeColor"};function BV({itemShapes:n,testId:e,itemStrokeWidth:t=0,orientation:r=f2,hasHF:a=!1}){const o=t>0?-t/2:0,c=t>0?`${o} ${o}`:"0 0",d=H.useId(),h=H.useRef(null),[p,g]=H.useState(null),[_,b]=H.useState(!1),E=H.useRef(null),T=H.useRef(null),M=H.useCallback(N=>{const{width:O,height:A,x:R,y:B}=N.getBBox();if(((...j)=>j.every(V=>typeof V=="number"))(O,A,R,B)){const j=`${c} ${av(O+t)} ${av(A+t)}`,V=`${gx(R)} ${gx(B)}`;g({viewBox:j,translateData:V})}},[t,c]);return sv(()=>{if(h.current){const{width:N,height:O,x:A,y:R}=h.current.getBBox();if(N===0&&O===0&&A===0&&R===0){const B=function(j){if(!j||!j.parentElement)return null;let V=j==null?void 0:j.parentElement;for(;V&&window.getComputedStyle(V).display!=="none";)V=V.parentElement;return V}(h.current);B&&(T.current=B,b(!0))}else b(!1);M(h.current)}},[n,t,a]),sv(()=>{if(_&&T.current)return E.current=new MutationObserver((N,O)=>{N.forEach(()=>{window.getComputedStyle(T.current).display==="none"||(M(h.current),O.disconnect())})}),E.current.observe(T.current,{attributes:!0}),()=>{var N;(N=E.current)==null||N.disconnect()}},[_,M]),v.jsxs("svg",{"aria-hidden":"true",className:SV,xmlns:"http://www.w3.org/2000/svg",viewBox:p?p.viewBox:"0 0 0 0",preserveAspectRatio:"xMidYMid meet",...t>0?{strokeWidth:t}:{},...e,children:[a&&v.jsx("defs",{children:v.jsxs("linearGradient",{id:d,...r===h2?{gradientTransform:"rotate(90)"}:{},children:[v.jsx("stop",{className:RV,offset:"50%"}),v.jsx("stop",{className:CV,offset:"50%"})]})}),v.jsx("g",{ref:h,shapeRendering:"geometricPrecision",...function(){if(p){const N=`translate(${p==null?void 0:p.translateData})`;return N==="translate(0 0)"?{}:{transform:N}}return{transform:void 0}}(),...a?{fill:`url('#${d}')`}:{},children:n})]})}function m2(n,e,t){switch(e){case _a.FILL:return n[Jf.FILL]=t,!0;case _a.BOX:return n[Jf.BOX]=t,!0;case _a.BORDER:return n[Jf.BORDER]=t,!0;case _a.STROKE:return n[Jf.STROKE]=t,!0}return!1}function FV(n,e,t){if(!m2(n,e,t))switch(e){case th.FILL:n[eh.FILL]=t;break;case th.BOX:n[eh.BOX]=t;break;case th.BORDER:n[eh.BORDER]=t;break;case th.STROKE:n[eh.STROKE]=t}}function qV(n,e,t){const r={};let a;for(const[o,c]of Object.entries(n))m2(r,o,c[e]);return t?(a=Array(e).fill({}),a.push(r)):a=Array(e+1).fill(r),a}const uy=n=>`${n} ${Mc.COLORS}`;function HV({className:n,radius:e,readOnly:t,isDisabled:r,isDynamic:a,transition:o,orientation:c,absoluteBoxBorderWidth:d,absoluteStrokeWidth:h,spaceBetween:p,spaceInside:g}){const _=a?IV:"",b=function(A){switch(A){case Ir.SMALL:return ay.SMALL;case Ir.MEDIUM:return ay.MEDIUM;case Ir.LARGE:return ay.LARGE;default:return""}}(p),E=function(A){switch(A){case Ir.SMALL:return oy.SMALL;case Ir.MEDIUM:return oy.MEDIUM;case Ir.LARGE:return oy.LARGE;default:return""}}(g),T=!t&&r?NV:"",M=a&&o!==Il.NONE?function(A){switch(A){case Il.ZOOM:return uy(Mc.ZOOM);case Il.POSITION:return uy(Mc.POSITION);case Il.OPACITY:return uy(Mc.OPACITY);case Il.COLORS:return Mc.COLORS;default:return""}}(o):"",N=c===h2?OV:MV,O=function(A){switch(A){case Ir.SMALL:return Zf.SMALL;case Ir.MEDIUM:return Zf.MEDIUM;case Ir.LARGE:return Zf.LARGE;case Ir.FULL:return Zf.FULL;default:return""}}(e);return`${TV} ${N} ${h>0?DV:""} ${d>0?PV:""}
${M} ${O} ${_} ${T} ${b}
${E} ${n}`.replace(/  +/g," ").trimEnd()}function GV(n,e,t){return Array.from({length:e},(r,a)=>n?a===t?vx:_x:a<=t?vx:_x)}function $V(n,e,t){const r=Math.floor(ov(n));return Array.from({length:e},(a,o)=>t==="box"?o>r?jV:o===r?LV:kV:o>r?UV:VV)}function wx(n,e){const t={};d2(e)&&(t[zV]=`${e}px`);const r=Object.entries(n);if(r.length>0)for(const[a,o]of r)FV(t,a,o);return t}const QV=[_a.FILL,_a.BOX,_a.STROKE,_a.BORDER];function cy(n,e,t=!1){return Array.from({length:n},(r,a)=>t&&e<0?a===n-1?0:-1:e<=0?a===0?0:-1:e>0?a===e?0:-1:void 0)}const KV="@smastrom/react-rating",YV=n=>`[${KV}] - Nothing's returned from rendering. Reason: ${n}.`;function wc(n,e){return n.shouldRender=!1,n.reason=YV(e),n}const Ex="itemShapes is not a valid JSX element",XV=v.jsx("polygon",{points:"25 9.02 16.4 7.75 12.46 0 8.59 7.79 0 9.14 6.21 15.23 4.85 23.81 12.55 19.79 20.3 23.74 18.85 15.17 25 9.02"});v.jsx("path",{d:"M12.5,18.16l-7.73,5.61,2.95-9.08L0,9.07H9.55S12.5,0,12.5,0l2.95,9.07h9.55l-7.73,5.62,2.95,9.08-7.73-5.61Z"});v.jsx("path",{d:"M112.46,57.88c-.23-.72-.88-1.22-1.63-1.27l-6.63-.46-2.45-6.19c-.27-.7-.95-1.16-1.7-1.16h0c-.75,0-1.42,.46-1.7,1.16l-2.5,6.23-6.58,.42c-.75,.05-1.4,.55-1.63,1.27-.24,.73,0,1.53,.58,2.02l5.07,4.28-1.51,5.92c-.21,.82,.1,1.69,.78,2.19,.66,.48,1.55,.5,2.24,.07l5.23-3.31h.02l5.63,3.56c.29,.19,.63,.29,.97,.29,1.02,0,1.83-.84,1.83-1.86,0-.16-.02-.31-.06-.47l-1.6-6.48,5.04-4.2c.59-.49,.82-1.29,.58-2.02Z"});v.jsx("path",{d:"M22.72,8.24h-6.68L13.97,1.88c-.81-2.51-2.13-2.51-2.95,0l-2.07,6.36H2.28c-2.63,0-3.04,1.25-.91,2.8l5.41,3.93-2.06,6.36c-.81,2.51,.25,3.28,2.39,1.73l5.41-3.93,5.41,3.93c2.13,1.55,3.2,.77,2.39-1.73l-2.07-6.36,5.41-3.93c2.13-1.55,1.72-2.8-.91-2.8Z"});v.jsx("path",{d:"M11.58,.77c.51-1.02,1.33-1.02,1.84,0l2.34,4.73c.5,1.02,1.84,2,2.98,2.16l5.22,.76c1.13,.17,1.39,.95,.57,1.75l-3.78,3.68c-.82,.8-1.33,2.37-1.14,3.5l.89,5.2c.19,1.13-.48,1.61-1.49,1.08l-4.67-2.45c-1.01-.53-2.67-.53-3.68,0l-4.67,2.46c-1.01,.53-1.68,.05-1.49-1.08l.89-5.2c.19-1.13-.32-2.7-1.14-3.5L.48,10.17c-.82-.8-.56-1.58,.57-1.75l5.22-.76c1.13-.16,2.47-1.14,2.98-2.16L11.58,.77h0Z"});v.jsx("path",{d:"M19.29,1.61c-2.15-2.15-5.63-2.15-7.78,0,0,0,0,0,0,0l-1.06,1.06-1.06-1.06C7.24-.54,3.76-.54,1.61,1.61-.54,3.76-.54,7.24,1.61,9.39l1.06,1.06,7.78,7.78,7.78-7.78,1.06-1.06c2.15-2.15,2.15-5.63,0-7.78,0,0,0,0,0,0Z"});const WV={itemShapes:XV,itemStrokeWidth:2,activeFillColor:"#ffb23f",inactiveFillColor:"#fff7ed",activeStrokeColor:"#e17b21",inactiveStrokeColor:"#eda76a"},Dc=H.forwardRef(({value:n,items:e=5,readOnly:t=!1,onChange:r=Wf,onHoverChange:a=Wf,onFocus:o=Wf,onBlur:c=Wf,preventDefault:d="all",isDisabled:h=!1,highlightOnlySelected:p=!1,orientation:g=f2,spaceBetween:_=Ir.NONE,spaceInside:b=Ir.SMALL,radius:E=Ir.NONE,transition:T=Il.COLORS,itemStyles:M=WV,isRequired:N=!1,halfFillMode:O=ly,visibleLabelId:A,visibleItemLabelIds:R,invisibleItemLabels:B,invisibleLabel:j=t?n>0?`Rated ${n} on ${e}`:"Not rated":"Rating Selection",resetLabel:V="Reset rating",id:U,className:I,style:C},P)=>{const z=Array.from({length:e},(Oe,Ne)=>Ne+1),F=t&&!Number.isInteger(n),L=F&&!p,be=F&&p?Math.round(n):n,Ee=!t&&!h,Q=be>=.25,oe=typeof I=="string"?I:"",ae=O===bx?bx:ly,_e=L&&!(Oe=>Number.isInteger(ov(Oe)))(be),q=!N&&!t,se=N?e:e+1,ge=L?function(Oe,Ne){const We=ov(Ne);return Number.isInteger(We)?Oe.indexOf(We):Math.floor(We)}(z,be):z.indexOf(be),{staticColors:pe,arrayColors:xe,itemShapes:le,absoluteStrokeWidth:ye,absoluteBoxBorderWidth:rt}=H.useMemo(()=>{const{itemShapes:Oe,itemStrokeWidth:Ne,boxBorderWidth:We,...dt}=M,zt=function(nn){const Wn={...nn},Rn={},Un=Object.entries(Wn);if(Un.length>0)for(const[Cn,Ht]of Un)if(Array.isArray(Ht)||typeof Ht=="string"){if(Array.isArray(Ht))for(const jr of QV)if(jr===Cn){const vr=Ht.filter(Ei=>typeof Ei=="string");vr.length>0&&(Rn[Cn]=vr,delete Wn[Cn])}else delete Wn[Cn]}else delete Wn[Cn];return{arrayColors:Rn,staticColors:Wn}}(dt);return{itemShapes:Oe,absoluteStrokeWidth:px(Ne),absoluteBoxBorderWidth:px(We),...zt}},[M]),Fe=Object.keys(xe).length>0,bt=H.useCallback((Oe,Ne)=>({dynamicClassNames:_e?$V(be,e,ae):GV(p,e,Oe),dynamicCssVars:Ne&&Fe?qV(xe,Oe,p):[]}),[xe,Fe,p,ae,_e,e,be]),lt=H.useCallback(()=>_i(cy(se,ge,!N)),[ge,se,N]),Qt=H.useRef(!0),gr=H.useRef(!0),yr=H.useRef(null),Wt=H.useRef([]),ti=H.useRef(!1),[Pr,dn]=H.useState({staticCssVars:wx(pe,rt),...bt(ge,Q)}),[Ua,_i]=H.useState(()=>Ee?cy(se,ge,!N):[]);sv(()=>{Ee&&Wt.current&&(ti.current=function(Oe){return Oe?getComputedStyle(Oe).getPropertyValue("direction")==="rtl":!1}(Wt.current[0]))},[Ee]),H.useEffect(()=>{if(!Qt.current)return dn({staticCssVars:wx(pe,rt),...bt(ge,Q)});Qt.current=!1},[pe,bt,rt,ge,Q]),H.useEffect(()=>{if(!gr.current&&Ee)return lt();gr.current=!1},[Ee,lt]);const{shouldRender:bi,reason:ni}=function({items:Oe,itemShapes:Ne}){const We={shouldRender:!0,reason:""};if(typeof Oe!="number"||Oe<1||Oe>10)return wc(We,"items is invalid");if(!Ne)return wc(We,"itemStyles needs at least the property itemShapes set");if(!Array.isArray(Ne)&&!H.isValidElement(Ne))return wc(We,Ex);if(Array.isArray(Ne)){if(Ne.length!==Oe)return wc(We,"itemShapes length mismatch");if(!Ne.every(dt=>H.isValidElement(dt)))return wc(We,Ex)}return We}({items:e,itemShapes:le});if(!bi)return console.error(ni),null;function Yn(Oe,Ne,We=()=>{}){Wt.current.some(dt=>dt===Oe.relatedTarget)?We():Ne()}function Xn(){a(0),lt()}function wi(Oe){Yn(Oe,()=>{Xn()}),dn({...Pr,...bt(ge,Q)})}function ri(Oe){Yn(Oe,()=>{Xn(),c()})}function pt(Oe,Ne){const We=!N&&Ne===z.length?0:Ne+1;Yn(Oe,()=>{o(),a(We)},()=>{a(We)})}function Xe(Oe){_i(cy(se,Oe,!N)),Wt.current[Oe].focus()}const _n=HV({className:oe,radius:E,readOnly:t,isDisabled:h,isDynamic:Ee,transition:T,orientation:g,absoluteBoxBorderWidth:rt,absoluteStrokeWidth:ye,spaceBetween:_,spaceInside:b});function qt(Oe){return{ref:Ne=>Wt.current[Oe]=Ne}}function Yi(Oe){return{tabIndex:Ua[Oe],onKeyDown:Ne=>function(We,dt){let zt=0;const nn=N?z.length-1:z.length,Wn=dt-1,Rn=dt+1,Un=!N&&dt===z.length,Cn=dt===0?nn:Wn,Ht=nn===dt?0:Rn;switch(We.code){case"Shift":case"Tab":return!0;case"ArrowDown":case"ArrowRight":return zt=ti.current?Cn:Ht,Xe(zt);case"ArrowUp":case"ArrowLeft":return zt=ti.current?Ht:Cn,Xe(zt);case"Enter":case"Space":return d!=="all"&&d!=="click"||We.preventDefault(),r(Un?0:dt+1)}We.stopPropagation()}(Ne,Oe)}}function ar(Oe){return{onClick:Ne=>function(We,dt){d!=="all"&&d!=="keydown"||We.preventDefault(),We.stopPropagation(),r(N||ge!==dt?dt+1:0)}(Ne,Oe),onMouseEnter:()=>function(Ne){a(Ne+1),dn({...Pr,...bt(Ne,!0)})}(Oe),onMouseLeave:wi}}function kr(Oe){if(t)return{};const Ne={};if(Array.isArray(R))Ne["aria-labelledby"]=R[Oe];else{const We=Array.isArray(B)?B:z.map((dt,zt)=>`Rate ${zt+1}`);Ne["aria-label"]=We[Oe]}return h&&(Ne["aria-disabled"]="true"),{role:"radio","aria-checked":Oe+1===be,...Ne}}function Lr(Oe){const Ne={itemShapes:Array.isArray(le)?le[Oe]:le,itemStrokeWidth:ye,orientation:g,hasHF:!1,testId:{}};return _e&&ae===ly&&(Ne.hasHF=Oe===ge),Ne}return v.jsx("div",{id:U,className:_n,style:{...C,...Pr.staticCssVars},ref:function(Oe){Ee&&!N&&(yr.current=Oe),P&&(P.current=Oe)},...function(){if(!t){const Oe=N&&!h,Ne={role:"radiogroup","aria-required":Oe};return Oe&&(Ne["aria-invalid"]=be<=0),typeof A=="string"&&A.length>0?Ne["aria-labelledby"]=A:Ne["aria-label"]=j,Ne}return{role:"img","aria-label":j}}(),...EV,children:z.map((Oe,Ne)=>{return v.jsxs(H.Fragment,{children:[v.jsx("div",{className:`${xV} ${Pr.dynamicClassNames[Ne]}`,style:Pr.dynamicCssVars[Ne],...kr(Ne),...(dt=Ne,Ee?{...qt(dt),...Yi(dt),...ar(dt),onFocus:zt=>pt(zt,dt),onBlur:zt=>ri(zt)}:{}),children:v.jsx(BV,{...Lr(Ne)})}),q&&Ne===z.length-1&&v.jsx("div",{...(We=Ne+1,{className:AV,role:"radio","aria-label":V,"aria-checked":be===0,onClick:()=>r(0),onFocus:zt=>{var nn;pt(zt,We),(nn=yr.current)==null||nn.classList.add(yx)},onBlur:zt=>{var nn;ri(zt),(nn=yr.current)==null||nn.classList.remove(yx)},...Yi(We),...qt(We),...h?{"aria-disabled":"true"}:{}})})]},Oe);var We,dt})})});Dc.displayName="Rating";function ZV(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}ZV(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var S0=n=>typeof n=="number"&&!isNaN(n),td=n=>typeof n=="string",p2=n=>typeof n=="function",JV=n=>td(n)||S0(n),e5=n=>H.isValidElement(n)||td(n)||p2(n)||S0(n),t5=1,g2=()=>`${t5++}`,$i=new Map,lv=[],Tx=new Set,y2=()=>$i.size>0,n5=(n,{containerId:e})=>{var t;return(t=$i.get(e||1))==null?void 0:t.toasts.get(n)};function r5(n,e){var t;if(e)return!!((t=$i.get(e))!=null&&t.isToastActive(n));let r=!1;return $i.forEach(a=>{a.isToastActive(n)&&(r=!0)}),r}function i5(n){if(!y2()){lv=lv.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||JV(n))$i.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=$i.get(n.containerId);e?e.removeToast(n.id):$i.forEach(t=>{t.removeToast(n.id)})}}var s5=(n={})=>{$i.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function a5(n,e){e5(n)&&(y2()||lv.push({content:n,options:e}),$i.forEach(t=>{t.buildToast(n,e)}))}function v2(n,e){$i.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function o5(n){return Tx.add(n),()=>{Tx.delete(n)}}function l5(n){return n&&(td(n.toastId)||S0(n.toastId))?n.toastId:g2()}function Ed(n,e){return a5(n,e),e.toastId}function Rm(n,e){return{...e,type:e&&e.type||n,toastId:l5(e)}}function Cm(n){return(e,t)=>Ed(e,Rm(n,t))}function At(n,e){return Ed(n,Rm("default",e))}At.loading=(n,e)=>Ed(n,Rm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function u5(n,{pending:e,error:t,success:r},a){let o;e&&(o=td(e)?At.loading(e,a):At.loading(e.render,{...a,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(p,g,_)=>{if(g==null){At.dismiss(o);return}let b={type:p,...c,...a,data:_},E=td(g)?{render:g}:g;return o?At.update(o,{...b,...E}):At(E.render,{...b,...E}),_},h=p2(n)?n():n;return h.then(p=>d("success",r,p)).catch(p=>d("error",t,p)),h}At.promise=u5;At.success=Cm("success");At.info=Cm("info");At.error=Cm("error");At.warning=Cm("warning");At.warn=At.warning;At.dark=(n,e)=>Ed(n,Rm("default",{theme:"dark",...e}));function c5(n){i5(n)}At.dismiss=c5;At.clearWaitingQueue=s5;At.isActive=r5;At.update=(n,e={})=>{let t=n5(n,e);if(t){let{props:r,content:a}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:g2()};o.toastId!==n&&(o.staleId=n);let c=o.render||a;delete o.render,Ed(c,o)}};At.done=n=>{At.update(n,{progress:1})};At.onChange=o5;At.play=n=>v2(!0,n);At.pause=n=>v2(!1,n);function d5(n){return ud({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M478.94 370.14c-5.22-5.56-23.65-22-57.53-43.75-34.13-21.94-59.3-35.62-66.52-38.81a3.83 3.83 0 0 0-3.92.49c-11.63 9.07-31.21 25.73-32.26 26.63-6.78 5.81-6.78 5.81-12.33 4-9.76-3.2-40.08-19.3-66.5-45.78s-43.35-57.55-46.55-67.3c-1.83-5.56-1.83-5.56 4-12.34.9-1.05 17.57-20.63 26.64-32.25a3.83 3.83 0 0 0 .49-3.92c-3.19-7.23-16.87-32.39-38.81-66.52-21.78-33.87-38.2-52.3-43.76-57.52a3.9 3.9 0 0 0-3.89-.87 322.35 322.35 0 0 0-56 25.45A338 338 0 0 0 33.35 92a3.83 3.83 0 0 0-1.26 3.74c2.09 9.74 12.08 50.4 43.08 106.72 31.63 57.48 53.55 86.93 100 133.22S252 405.21 309.54 436.84c56.32 31 97 41 106.72 43.07a3.86 3.86 0 0 0 3.75-1.26A337.73 337.73 0 0 0 454.35 430a322.7 322.7 0 0 0 25.45-56 3.9 3.9 0 0 0-.86-3.86z"},child:[]}]})(n)}const f5=()=>{var Ee,Q,oe,ae,_e,q,se,ge,pe,xe;const{productId:n}=pv(),[e,t]=H.useState(null),[r,a]=H.useState(!0),[o,c]=H.useState(null),[d,h]=H.useState(null),[p,g]=H.useState(0),[_,b]=H.useState(null),[E,T]=H.useState(null),[M,N]=H.useState("description"),[O,A]=H.useState([]),[R,B]=H.useState(!1),[j,V]=H.useState({name:"",contact:"",rating:0,comment:""}),[U,I]=H.useState(null);H.useEffect(()=>{(async()=>{var ye;try{const rt=No(mi(ir,"products"),ya("productId","==",n)),Fe=await Vo(rt);if(!Fe.empty){const bt=Fe.docs[0],lt={id:bt.id,...bt.data()};t(lt),lt.isColorVariants&&((ye=lt.colorVariants)==null?void 0:ye.length)>0&&c(lt.colorVariants[0])}a(!1)}catch(rt){console.error("Error fetching product:",rt),a(!1)}})()},[n]),H.useEffect(()=>{let le;return(()=>{if(!n)return;const rt=mi(ir,"reviews"),Fe=No(rt,ya("productId","==",n));le=m4(Fe,bt=>{const lt=[];bt.forEach(Qt=>{lt.push({id:Qt.id,...Qt.data()})}),A(lt)},bt=>{console.error("Error listening to reviews:",bt)})})(),()=>{le&&le()}},[n]);const C=async le=>{if(le.preventDefault(),!j.name||!j.comment||j.rating===0||!j.contact){At.error("Please fill all required fields");return}const ye=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j.contact),rt=/^[0-9]{10,15}$/.test(j.contact);if(!ye&&!rt){At.error("Please enter a valid email or phone number");return}try{const Fe={productId:n,productName:e.name,name:j.name,contact:j.contact,contactType:ye?"email":"phone",rating:j.rating,comment:j.comment,createdAt:new Date().toISOString()};U?(await d4(Xc(ir,"reviews",U),Fe),At.success("Review updated successfully")):(await h4(mi(ir,"reviews"),Fe),At.success("Review submitted successfully")),B(!1),V({name:"",contact:"",rating:0,comment:""}),I(null)}catch(Fe){console.error("Error submitting review:",Fe),At.error("Failed to submit review")}},P=le=>{V({name:le.name,contact:le.contact||"",rating:le.rating,comment:le.comment}),I(le.id),B(!0)},z=async le=>{if(window.confirm("Are you sure you want to delete this review?"))try{await f4(Xc(ir,"reviews",le)),At.success("Review deleted successfully")}catch(ye){console.error("Error deleting review:",ye),At.error("Failed to delete review")}},F=()=>e.isColorVariants?(o==null?void 0:o.stock)<1:e.stock<1,L=le=>le<1;if(r)return v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsxs("div",{className:"text-center",children:[v.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),v.jsx("p",{className:"text-lg font-medium",children:"Loading product details..."})]})});if(!e)return v.jsx("div",{className:"text-center py-8 text-lg",children:"Product not found"});const be=O.length>0?(O.reduce((le,ye)=>le+ye.rating,0)/O.length).toFixed(1):0;return v.jsxs("div",{className:"w-[100%] xl:w-[90%] mx-auto p-2 sm:p-4",children:[R&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-lg font-bold",children:U?"Edit Review":"Write a Review"}),v.jsx("button",{onClick:()=>{B(!1),I(null),V({name:"",contact:"",rating:0,comment:""})},className:"text-gray-500 hover:text-gray-700",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("form",{onSubmit:C,children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Name*"}),v.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:j.name,onChange:le=>V({...j,name:le.target.value}),required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-gray-700 mb-1",children:"Email or Phone Number*"}),v.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:j.contact,onChange:le=>V({...j,contact:le.target.value}),required:!0,placeholder:"example@email.com or 0123456789"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-gray-700 mb-1",children:"Rating*"}),v.jsx(Dc,{style:{maxWidth:150},value:j.rating,onChange:le=>V({...j,rating:le}),isRequired:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Review*"}),v.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md",rows:"4",value:j.comment,onChange:le=>V({...j,comment:le.target.value}),required:!0})]}),v.jsxs("div",{className:"flex justify-end gap-3",children:[v.jsx("button",{type:"button",onClick:()=>{B(!1),I(null),V({name:"",contact:"",rating:0,comment:""})},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:U?"Update Review":"Submit Review"})]})]})]})}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8",children:[v.jsx("div",{className:"md:sticky md:top-4",children:e.isColorVariants?v.jsxs(v.Fragment,{children:[v.jsxs(Ol,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},thumbs:{swiper:d},modules:[gh,dx],className:"mb-2 rounded-lg relative",children:[(Ee=o==null?void 0:o.images)==null?void 0:Ee.map((le,ye)=>v.jsxs(Ml,{children:[v.jsxs("div",{className:`relative ${o.stock<1?"opacity-70":""}`,children:[v.jsx("img",{src:le,alt:`${e.name} - ${o.colorName}`,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),o.stock<1&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:v.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]}),v.jsxs("div",{className:"absolute bottom-2 left-2 sm:bottom-4 sm:left-4 bg-black bg-opacity-70 text-white px-2 py-0.5 sm:px-3 sm:py-1 rounded text-xs sm:text-sm",children:[v.jsx("p",{children:o.colorName}),v.jsxs("p",{children:["Stock: ",o.stock]})]})]},ye)),v.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),v.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),v.jsxs("div",{className:"relative mt-2",children:[v.jsx(Ol,{onSwiper:h,spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:".thumbnail-next",prevEl:".thumbnail-prev"},modules:[gh,dx,fx],className:"thumbnail-swiper",children:e.colorVariants.map((le,ye)=>v.jsx(Ml,{children:v.jsxs("div",{className:`cursor-pointer border-2 ${(o==null?void 0:o.colorName)===le.colorName?"border-blue-500":"border-transparent"} ${le.stock<1?"opacity-70":""}`,onClick:()=>c(le),children:[v.jsx("img",{src:le.thumbnail,alt:le.colorName,className:"w-full h-16 sm:h-20 object-cover"}),le.stock<1&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:v.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},ye))}),e.colorVariants.length>4&&v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"thumbnail-prev absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),v.jsx("button",{className:"thumbnail-next absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]})]}):v.jsxs(v.Fragment,{children:[v.jsxs(Ol,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},modules:[gh],className:"mb-2 rounded-lg relative",onSlideChange:le=>g(le.activeIndex),onSwiper:b,children:[(Q=e.images)==null?void 0:Q.map((le,ye)=>v.jsx(Ml,{children:v.jsxs("div",{className:`relative ${e.stock<1?"opacity-70":""}`,children:[v.jsx("img",{src:le,alt:e.name,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),e.stock<1&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:v.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]})},ye)),v.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),v.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),((oe=e.images)==null?void 0:oe.length)>1&&v.jsx("div",{className:"relative mt-2",children:v.jsx(Ol,{spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[fx],className:"thumbnail-swiper",children:e.images.map((le,ye)=>v.jsx(Ml,{children:v.jsxs("div",{className:`cursor-pointer border-2 ${p===ye?"border-blue-500":"border-transparent"} ${e.stock<1?"opacity-70":""}`,onClick:()=>{g(ye),_&&_.slideTo(ye)},children:[v.jsx("img",{src:le,alt:e.name,className:"w-full h-16 sm:h-20 object-cover"}),e.stock<1&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:v.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},ye))})})]})}),v.jsxs("div",{className:"px-2 sm:px-0",children:[v.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:e.name}),v.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",children:v.jsxs("div",{className:"flex flex-row items-center gap-2 text-green-500 text-[18px] cursor-pointer",children:[v.jsx("span",{children:v.jsx(_E,{})}),v.jsx("p",{children:"Ask for details"})]})}),v.jsxs("div",{className:"flex items-center mb-3",children:[v.jsx(Dc,{style:{maxWidth:100},value:be,readOnly:!0}),v.jsxs("span",{className:"ml-2 text-gray-700",children:[be," (",O.length," ",O.length===1?"review":"reviews",")"]})]}),v.jsxs("div",{className:"flex items-center mb-4 sm:mb-5",children:[v.jsxs("span",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:["৳",e.price]}),e.regularPrice&&v.jsxs("span",{className:"text-gray-500 line-through ml-2 text-sm sm:text-base",children:["৳",e.regularPrice]}),e.discount>0&&v.jsxs("span",{className:"ml-2 bg-red-100 text-red-600 text-xs sm:text-sm px-2 py-0.5 rounded",children:[e.discount,"% OFF"]})]}),e.isColorVariants&&((ae=e.colorVariants)==null?void 0:ae.length)>0&&v.jsxs("div",{className:"mb-4 sm:mb-5",children:[v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx("h3",{className:"font-medium text-gray-700",children:"Color:"}),v.jsx("span",{className:"ml-2 font-medium text-gray-900",children:o==null?void 0:o.colorName})]}),v.jsx("div",{className:"flex flex-wrap gap-2",children:e.colorVariants.map((le,ye)=>v.jsxs("button",{className:`px-3 py-1 rounded-full border text-xs sm:text-sm transition-colors
                            ${(o==null?void 0:o.colorName)===le.colorName?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                            ${le.stock<1?"opacity-60 cursor-not-allowed":""}`,onClick:()=>le.stock>=1&&c(le),disabled:le.stock<1,children:[le.colorName,le.stock<1&&" (Out)"]},ye))})]}),((_e=o==null?void 0:o.sizes)==null?void 0:_e.length)>0&&v.jsxs("div",{className:"mb-4 sm:mb-5",children:[v.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Select Size"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:o.sizes.map((le,ye)=>v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("button",{className:`w-12 sm:w-14 px-2 py-1 rounded border text-xs sm:text-sm font-medium transition-colors
                                ${(E==null?void 0:E.size)===le.size?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                                ${L(le.stock)?"opacity-60 cursor-not-allowed":""}`,onClick:()=>!L(le.stock)&&T(le),disabled:L(le.stock),children:le.size}),v.jsxs("span",{className:`text-xs mt-1 ${L(le.stock)?"text-red-500":"text-gray-500"}`,children:[le.stock," left"]})]},ye))})]}),v.jsxs("div",{className:"flex items-center mb-5 sm:mb-6",children:[v.jsx("span",{className:`font-medium ${F()?"text-red-500":"text-green-600"}`,children:F()?"Out of Stock":"In Stock"}),!F()&&v.jsx("span",{className:"text-gray-500 ml-2 text-sm sm:text-base",children:e.isColorVariants?((q=o==null?void 0:o.sizes)==null?void 0:q.length)>0?`${o.sizes.reduce((le,ye)=>le+ye.stock,0)} available`:`${o==null?void 0:o.stock} available`:`${e.stock} available`})]}),v.jsx("div",{children:e.productType&&v.jsxs("p",{className:"text-red-400",children:["(",e.productType,")"]})}),v.jsxs("div",{className:"flex gap-3 mb-2",children:[v.jsx("button",{className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${F()||((se=o==null?void 0:o.sizes)==null?void 0:se.length)>0&&!E?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,disabled:F()||((ge=o==null?void 0:o.sizes)==null?void 0:ge.length)>0&&!E,children:"Add to Cart"}),v.jsx("button",{className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${F()||((pe=o==null?void 0:o.sizes)==null?void 0:pe.length)>0&&!E?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,disabled:F()||((xe=o==null?void 0:o.sizes)==null?void 0:xe.length)>0&&!E,children:"Buy Now"})]}),v.jsxs("div",{className:"flex gap-1 md:gap-4 justify-start",children:[v.jsx("a",{href:"tel:+8801407790565",className:"flex-1 bg-white shadow-md rounded-lg p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:v.jsxs("div",{className:"flex flex-col items-center gap-2",children:[v.jsx("div",{className:"bg-gray-100 p-3 rounded-full",children:v.jsx(d5,{className:"text-black text-2xl"})}),v.jsx("p",{className:"font-semibold",children:"কল করুন"}),v.jsx("p",{className:"text-black",children:"01303129042"})]})}),v.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-white shadow-md rounded-lg p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:v.jsxs("div",{className:"flex flex-col items-center gap-2",children:[v.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:v.jsx(_E,{className:"text-green-500 text-2xl"})}),v.jsx("p",{className:"font-semibold",children:"মেসেজ করুন"}),v.jsx("p",{className:"text-black",children:"01303129042"})]})})]})]})]}),v.jsxs("div",{className:"mt-8 border-t pt-6",children:[v.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[v.jsx("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${M==="description"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>N("description"),children:"Description"}),v.jsxs("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${M==="reviews"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>N("reviews"),children:["Reviews (",O.length,")"]})]}),v.jsx("div",{className:"px-2 sm:px-0",children:M==="description"?v.jsxs("div",{className:"space-y-4",children:[e.productType&&v.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:v.jsxs("p",{className:"text-blue-800 font-medium",children:["(",e.productType,") condition: ",e.preOrderDescription]})}),v.jsx("div",{className:"prose max-w-none text-gray-600",children:e.description||"No description available."}),e.detailsImage&&v.jsx("div",{className:"mt-4",children:v.jsx("img",{src:e.detailsImage,alt:"Product details",className:"w-full rounded-lg border border-gray-200"})})]}):v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:v.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between",children:[v.jsxs("div",{className:"text-center sm:text-left mb-4 sm:mb-0",children:[v.jsxs("h3",{className:"text-xl font-bold",children:[be," out of 5"]}),v.jsx("div",{className:"flex justify-center sm:justify-start my-2",children:v.jsx(Dc,{style:{maxWidth:120},value:be,readOnly:!0})}),v.jsxs("p",{className:"text-gray-600",children:[O.length," ",O.length===1?"review":"reviews"]})]}),v.jsx("button",{onClick:()=>B(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})}),O.length>0?v.jsx("div",{className:"space-y-6",children:O.map(le=>v.jsxs("div",{className:"border-b pb-4",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold",children:le.name}),v.jsxs("div",{className:"flex items-center mt-1",children:[v.jsx(Dc,{style:{maxWidth:100},value:le.rating,readOnly:!0}),v.jsx("span",{className:"ml-2 text-sm text-gray-500",children:new Date(le.createdAt).toLocaleDateString()})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>P(le),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),v.jsx("button",{onClick:()=>z(le.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]}),v.jsx("p",{className:"mt-2 text-gray-700",children:le.comment}),le.contact&&v.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Contact: ",le.contact]})]},le.id))}):v.jsxs("div",{className:"text-center py-8",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),v.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No reviews yet"}),v.jsx("p",{className:"text-gray-500",children:"Be the first to review this product"}),v.jsx("button",{onClick:()=>B(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})]})})]})]})},h5=()=>{const[n,e]=H.useState({collectionName:"",documentName:"",available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:""}),t=A=>{const{name:R,value:B,type:j,checked:V}=A.target;e(U=>({...U,[R]:j==="checkbox"?V:B}))},r=A=>{const{name:R,value:B}=A.target;e(j=>({...j,[R]:Number(B)}))},a=A=>{const{name:R,value:B}=A.target;e(j=>({...j,[R]:B.split(",").map(V=>V.trim())}))},o=(A,R,B)=>{const j=[...n.colorVariants];j[A][R]=R==="stock"||R==="isOutfit"?R==="isOutfit"?B:Number(B):B,e(V=>({...V,colorVariants:j}))},c=(A,R,B)=>{const j=[...n.colorVariants];j[A].images[R]=B,e(V=>({...V,colorVariants:j}))},d=(A,R,B,j)=>{const V=[...n.colorVariants];V[A].sizes[R][B]=B==="stock"?Number(j):j,e(U=>({...U,colorVariants:V}))},h=()=>{e(A=>({...A,colorVariants:[...A.colorVariants,{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}]}))},p=A=>{const R=[...n.colorVariants];R.splice(A,1),e(B=>({...B,colorVariants:R}))},g=A=>{const R=[...n.colorVariants];R[A].images.push(""),e(B=>({...B,colorVariants:R}))},_=(A,R)=>{const B=[...n.colorVariants];B[A].images.splice(R,1),e(j=>({...j,colorVariants:B}))},b=A=>{const R=[...n.colorVariants];R[A].sizes.push({size:"",stock:0}),e(B=>({...B,colorVariants:R}))},E=(A,R)=>{const B=[...n.colorVariants];B[A].sizes.splice(R,1),e(j=>({...j,colorVariants:B}))},T=(A,R)=>{const B=[...n.images];B[A]=R,e(j=>({...j,images:B}))},M=()=>{e(A=>({...A,images:[...A.images,""]}))},N=A=>{const R=[...n.images];R.splice(A,1),e(B=>({...B,images:R}))},O=async A=>{A.preventDefault();try{const R={available:n.available,category:n.category,categoryId:n.categoryId,description:n.description,detailsImage:n.detailsImage,name:n.name,price:n.price,productId:n.productId,regularPrice:n.regularPrice,slug:n.slug,stock:n.stock,subcategory:n.subcategory,tags:n.tags,discount:n.discount,gender:n.gender,mainImage:n.mainImage,isColorVariants:n.isColorVariant,createdAt:new Date,...n.isPreOrder&&{productType:"pre-order",preOrderDescription:n.preOrderDescription}};n.isColorVariant?R.colorVariants=n.colorVariants.map(j=>{const{isOutfit:V,sizes:U,...I}=j;return V?{...I,sizes:U}:I}):R.images=n.images;const B=Xc(ir,n.collectionName,n.documentName);await ZS(B,R),console.log("Document written with ID: ",n.documentName),alert("Product uploaded successfully!"),e(j=>({...j,available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:""}))}catch(R){console.error("Error adding document: ",R),alert("Error uploading product!")}};return v.jsxs("div",{className:"container mx-auto p-4",children:[v.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Upload Product to Firestore"}),v.jsxs("form",{onSubmit:O,className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Collection Name"}),v.jsx("input",{type:"text",name:"collectionName",value:n.collectionName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Document Name"}),v.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Name"}),v.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product ID"}),v.jsx("input",{type:"text",name:"productId",value:n.productId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),v.jsxs("select",{name:"gender",value:n.gender,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[v.jsx("option",{value:"",children:"Select Gender"}),v.jsx("option",{value:"men",children:"Men"}),v.jsx("option",{value:"women",children:"Women"}),v.jsx("option",{value:"unisex",children:"Unisex"}),v.jsx("option",{value:"kids",children:"Kids"})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Main Image URL"}),v.jsx("input",{type:"text",name:"mainImage",value:n.mainImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price"}),v.jsx("input",{type:"number",name:"price",value:n.price,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Regular Price"}),v.jsx("input",{type:"number",name:"regularPrice",value:n.regularPrice,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Discount (%)"}),v.jsx("input",{type:"number",name:"discount",value:n.discount,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),v.jsx("input",{type:"text",name:"category",value:n.category,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category ID"}),v.jsx("input",{type:"text",name:"categoryId",value:n.categoryId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subcategory (comma separated)"}),v.jsx("input",{type:"text",name:"subcategory",value:n.subcategory.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags (comma separated)"}),v.jsx("input",{type:"text",name:"tags",value:n.tags.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),v.jsx("textarea",{name:"description",value:n.description,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Details Image URL"}),v.jsx("input",{type:"text",name:"detailsImage",value:n.detailsImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Slug"}),v.jsx("input",{type:"text",name:"slug",value:n.slug,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),v.jsx("input",{type:"number",name:"stock",value:n.stock,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",name:"available",checked:n.available,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),v.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Available"})]})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",name:"isColorVariant",checked:n.isColorVariant,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),v.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Has Color Variants"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",name:"isPreOrder",checked:n.isPreOrder,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),v.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Pre-order Product"})]}),n.isPreOrder&&v.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Type"}),v.jsxs("select",{name:"productType",value:n.productType,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[v.jsx("option",{value:"",children:"Select Product Type"}),v.jsx("option",{value:"pre-order",children:"Pre-order"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pre-order Description"}),v.jsx("textarea",{name:"preOrderDescription",value:n.preOrderDescription,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]})]}),n.isColorVariant&&v.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[v.jsx("h3",{className:"text-lg font-medium",children:"Color Variants"}),n.colorVariants.map((A,R)=>v.jsxs("div",{className:"border p-4 rounded-lg space-y-3",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Color Name"}),v.jsx("input",{type:"text",value:A.colorName,onChange:B=>o(R,"colorName",B.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),v.jsx("input",{type:"number",value:A.stock,onChange:B=>o(R,"stock",B.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Thumbnail URL"}),v.jsx("input",{type:"text",value:A.thumbnail,onChange:B=>o(R,"thumbnail",B.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",checked:A.isOutfit,onChange:B=>o(R,"isOutfit",B.target.checked),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),v.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Is Outfit (has sizes)"})]}),A.isOutfit&&v.jsxs("div",{className:"space-y-3 mt-3",children:[v.jsx("h4",{className:"text-sm font-medium",children:"Sizes"}),A.sizes.map((B,j)=>v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Size"}),v.jsx("input",{type:"text",value:B.size,onChange:V=>d(R,j,"size",V.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),v.jsx("input",{type:"number",value:B.stock,onChange:V=>d(R,j,"stock",V.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),v.jsx("div",{className:"flex items-end",children:v.jsx("button",{type:"button",onClick:()=>E(R,j),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Size"})})]},j)),v.jsx("button",{type:"button",onClick:()=>b(R),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Size"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Images"}),A.images.map((B,j)=>v.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[v.jsx("input",{type:"text",value:B,onChange:V=>c(R,j,V.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),v.jsx("button",{type:"button",onClick:()=>_(R,j),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},j)),v.jsx("button",{type:"button",onClick:()=>g(R),className:"mt-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),v.jsx("button",{type:"button",onClick:()=>p(R),className:"mt-2 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Variant"})]},R)),v.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Add Color Variant"})]}),!n.isColorVariant&&v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-medium",children:"Images"}),n.images.map((A,R)=>v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"text",value:A,onChange:B=>T(R,B.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),v.jsx("button",{type:"button",onClick:()=>N(R),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},R)),v.jsx("button",{type:"button",onClick:M,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),v.jsx("div",{className:"pt-4",children:v.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Upload Product"})})]})]})},m5=()=>{const{gender:n}=pv(),e=2,t=async({pageParam:b=null})=>{const E=b?No(mi(ir,"products"),ya("gender","==",n),QS(b),jh(e)):No(mi(ir,"products"),ya("gender","==",n),jh(e)),T=await Vo(E),M=[];return T.forEach(N=>{const O=N.data();O.available&&O.stock>0&&M.push({id:N.id,...O})}),{products:M,lastVisible:T.docs[T.docs.length-1]}},{data:r,fetchNextPage:a,hasNextPage:o,isFetchingNextPage:c,isLoading:d,error:h}=KA({queryKey:["products",n],queryFn:t,getNextPageParam:b=>b.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),p=b=>{var M;const E=JSON.parse(localStorage.getItem("cart"))||[],T=E.find(N=>N.id===b.id);T?T.quantity+=1:E.push({id:b.id,productId:b.productId,name:b.name,price:b.discount?(b.price-b.price*(b.discount/100)).toFixed(2):b.price,image:b.mainImage||((M=b.images)==null?void 0:M[0]),quantity:1}),localStorage.setItem("cart",JSON.stringify(E)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},g=b=>{var T;b.isColorVariants&&((T=b.colorVariants)==null?void 0:T.length)>0?window.location.href=`/product/${b.productId||b.id}`:p(b)},_=(r==null?void 0:r.pages.flatMap(b=>b.products))||[];return d?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsxs("div",{className:"text-center",children:[v.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),v.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):h?v.jsx("div",{className:"text-center py-8",children:"Error loading products"}):v.jsxs("div",{className:"w-[100%] xl:w-[90%] mx-auto px-3 sm:px-0",children:[v.jsxs("h2",{className:"text-lg font-semibold mb-4",children:[n,"'s Collection"]}),_.length===0?v.jsx("p",{children:"No products found in this category."}):v.jsxs(v.Fragment,{children:[v.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-1 for_set-grid",children:_.map(b=>{var M,N;const E=b.discount&&b.discount>0,T=b.isColorVariants&&((M=b.colorVariants)==null?void 0:M.length)>0;return v.jsxs("li",{className:"border border-gray-400 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col mb-6",children:[v.jsxs("div",{className:"p-3 flex-grow flex flex-col",children:[v.jsxs(Bt,{to:`/product/${b.productId||b.id}`,className:"relative",children:[v.jsx("img",{src:b.mainImage||((N=b.images)==null?void 0:N[0]),alt:b.name,className:"w-full h-48 object-cover mb-2"}),E&&v.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[b.discount,"%"]})]}),v.jsx("h3",{className:"text-sm font-medium text-gray-800 line-clamp-2 mb-1",children:b.name}),v.jsx("div",{className:"mt-auto",children:v.jsxs("div",{className:"flex flex-row items-center gap-2 space-y-0",children:[v.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["৳",b.discount?(b.price-b.price*(b.discount/100)).toFixed(2):b.price]}),b.regularPrice&&v.jsx("div",{className:"text-xs text-gray-500",children:v.jsxs("del",{children:["৳",b.regularPrice]})}),v.jsx("div",{children:b.productType&&v.jsxs("p",{className:"text-red-400",children:["(",b.productType,")"]})})]})})]}),v.jsxs("div",{className:"p-3 pt-2 border-t border-gray-100 space-y-2",children:[v.jsxs("div",{className:"flex gap-2 mb-0",children:[v.jsx("button",{onClick:()=>g(b),className:"flex-1 border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:T?"View Options":"Add to Cart"}),v.jsx("button",{onClick:()=>{g(b),window.location.href="/checkout"},className:"flex-1 border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),v.jsxs("div",{className:"flex justify-between items-center pt-1",children:[v.jsx("span",{className:`text-xs font-medium ${b.stock>0?"text-green-600":"text-red-500"}`,children:b.stock>0?"In Stock":"Out of Stock"}),b.stock>0&&v.jsxs("span",{className:"text-xs text-gray-500",children:[b.stock," units available"]})]})]})]},b.id)})}),o&&v.jsx("div",{className:"mt-6 text-center",children:v.jsx("button",{onClick:()=>a(),disabled:c,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded inline-flex items-center",children:c?v.jsxs(v.Fragment,{children:[v.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More Products"})})]})]})},p5=()=>{const[n,e]=H.useState({collectionName:"menu-categories",documentName:"",order:0,type:"dropdown",items:[{name:"",path:""}],path:""}),[t,r]=H.useState("form"),a=p=>{const{name:g,value:_}=p.target;e(b=>({...b,[g]:_}))},o=(p,g)=>{const{name:_,value:b}=g.target,E=[...n.items];E[p]={...E[p],[_]:b},e(T=>({...T,items:E}))},c=()=>{e(p=>({...p,items:[...p.items,{name:"",path:""}]}))},d=p=>{const g=n.items.filter((_,b)=>b!==p);e(_=>({..._,items:g}))},h=async p=>{p.preventDefault();try{if(!n.documentName){alert("Please enter a document name");return}const g=Xc(ir,n.collectionName,n.documentName),_=await c4(g);let b={};_.exists()&&(b=_.data());const E={...b,type:n.type,updatedAt:p4()};if(n.type==="link"&&(E.order=Number(n.order)),n.type==="dropdown"){const T=b.items||[],M=n.items.filter(N=>N.name&&N.path);E.items=[...T,...M],E.path=null}else E.path=n.path,E.items=null;await ZS(g,E,{merge:!0}),alert("Category saved successfully!"),e(T=>({...T,order:0,type:"dropdown",items:[{name:"",path:""}],path:""}))}catch(g){console.error("Error saving document: ",g),alert(`Error saving category: ${g.message}`)}};return v.jsxs("div",{className:"container mx-auto px-4 py-8",children:[v.jsxs("div",{className:"flex border-b mb-6",children:[v.jsx("button",{className:`py-2 px-4 font-medium ${t==="form"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("form"),children:"Menu Form"}),v.jsx("button",{className:`py-2 px-4 font-medium ${t==="instructions"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("instructions"),children:"নির্দেশনা"})]}),t==="form"&&v.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:v.jsxs("div",{className:"p-6",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add/Edit Menu Category"}),v.jsxs("form",{onSubmit:h,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Document Name (ID):"}),v.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Type:"}),v.jsxs("select",{name:"type",value:n.type,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[v.jsx("option",{value:"dropdown",children:"Dropdown"}),v.jsx("option",{value:"link",children:"Link"})]})]}),n.type==="link"&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order:"}),v.jsx("input",{type:"number",name:"order",value:n.order,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),v.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Position in menu (0 = first item)"})]}),n.type==="dropdown"?v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Subcategories:"}),v.jsx("div",{className:"space-y-4",children:n.items.map((p,g)=>v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[v.jsx("div",{className:"flex-1",children:v.jsx("input",{type:"text",name:"name",placeholder:"Subcategory Name",value:p.name,onChange:_=>o(g,_),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),v.jsx("div",{className:"flex-1",children:v.jsx("input",{type:"text",name:"path",placeholder:"Path (e.g., /category/women)",value:p.path,onChange:_=>o(g,_),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),v.jsx("button",{type:"button",onClick:()=>d(g),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Remove"})]},g))}),v.jsx("button",{type:"button",onClick:c,className:"mt-3 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"+ Add Subcategory"})]}):v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Path:"}),v.jsx("input",{type:"text",name:"path",value:n.path,onChange:a,placeholder:"e.g., /about-us",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),v.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Format: /category/your-menu-name (use hyphens for spaces)"})]}),v.jsx("div",{className:"pt-4",children:v.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Save Category"})})]})]})}),t==="instructions"&&v.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:v.jsxs("div",{className:"p-6",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"মেনু ব্যবস্থাপনা নির্দেশনা"}),v.jsxs("div",{className:"space-y-8",children:[v.jsxs("section",{children:[v.jsxs("h3",{className:"text-xl font-semibold mb-4 text-red-500 flex items-center",children:[v.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"মেনু তৈরির নির্দেশনা"]}),v.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[v.jsxs("li",{className:"text-gray-700",children:[v.jsx("span",{className:"font-medium",children:"ডকুমেন্ট নাম:"}),' এটি হবে আপনার মেনুর নাম (যেমন: "নারী", "পুরুষ", "ইলেকট্রনিক্স")']}),v.jsxs("li",{className:"text-gray-700",children:[v.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' প্রধান মেনু আইটেমের জন্য "লিংক" নির্বাচন করুন']}),v.jsxs("li",{className:"text-gray-700",children:[v.jsx("span",{className:"font-medium",children:"অর্ডার নম্বর:"})," মেনুতে অবস্থান নির্ধারণ করে (0 = প্রথম আইটেম, 1 = দ্বিতীয় আইটেম, ইত্যাদি)"]}),v.jsxs("li",{className:"text-gray-700",children:[v.jsx("span",{className:"font-medium",children:"পাথ ফরম্যাট:"})," অবশ্যই ",v.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"/category/"})," দিয়ে শুরু করতে হবে এবং ছোট হাতের অক্ষরে লিখতে হবে",v.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[v.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/nari-fashion"}),v.jsx("p",{className:"text-sm font-mono",children:"ভুল: /nari-fashion বা /Category/NariFashion"})]})]}),v.jsxs("li",{className:"text-gray-700",children:[v.jsx("span",{className:"font-medium",children:"একাধিক শব্দ:"})," পাথে শব্দগুলির মধ্যে হাইফেন ব্যবহার করুন",v.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[v.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/purush-juta"}),v.jsx("p",{className:"text-sm font-mono",children:"ভুল: /category/purush juta বা /category/purushJuta"})]})]})]})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-xl font-semibold mb-4 text-blue-500 flex items-center",children:[v.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"সাবক্যাটেগরি তৈরির নির্দেশনা"]}),v.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[v.jsxs("li",{className:"text-gray-700",children:[v.jsx("span",{className:"font-medium",children:"মূল মেনু:"})," ডকুমেন্ট নামে একটি বিদ্যমান মেনুর নাম লিখুন"]}),v.jsxs("li",{className:"text-gray-700",children:[v.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' সাবক্যাটেগরির জন্য "ড্রপডাউন" নির্বাচন করুন']}),v.jsxs("li",{className:"text-gray-700",children:[v.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি নাম:"})," সাবমেনু আইটেমের প্রদর্শন নাম"]}),v.jsxs("li",{className:"text-gray-700",children:[v.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি পাথ:"})," প্রধান মেনুর মতই নিয়ম অনুসরণ করুন",v.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:v.jsx("p",{className:"text-sm font-mono",children:"উদাহরণ: /category/nari/juta"})})]}),v.jsxs("li",{className:"text-gray-700",children:[v.jsx("span",{className:"font-medium",children:"একাধিক সাবক্যাটেগরি:"}),' একাধিক সাবক্যাটেগরি যোগ করতে "+ Add Subcategory" বাটনে ক্লিক করুন']})]})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-xl font-semibold mb-4 text-green-500 flex items-center",children:[v.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"উদাহরণ"]}),v.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[v.jsx("h4",{className:"font-medium mb-2",children:"প্রধান মেনু:"}),v.jsxs("ul",{className:"space-y-2 text-sm",children:[v.jsxs("li",{children:[v.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Home ",v.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 0 ",v.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/home"]}),v.jsxs("li",{children:[v.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",v.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 1 ",v.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women"]})]}),v.jsx("h4",{className:"font-medium mt-4 mb-2",children:"সাবক্যাটেগরি:"}),v.jsxs("ul",{className:"space-y-2 text-sm",children:[v.jsxs("li",{children:[v.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",v.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Dresses ",v.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/dresses"]}),v.jsxs("li",{children:[v.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",v.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Tops ",v.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/tops"]})]})]})]})]})]})})]})},g5=()=>{const[n,e]=H.useState([]),[t,r]=H.useState("inside"),[a,o]=H.useState(0),[c,d]=H.useState(""),[h,p]=H.useState(0),[g,_]=H.useState(""),[b,E]=H.useState(!0);H.useEffect(()=>{const j=JSON.parse(localStorage.getItem("cart"))||[];e(j),T(),E(!1)},[]);const T=async()=>{try{await new Promise(V=>setTimeout(V,500));const j={coxbazar:50,outOfCoxbazar:100};o(t==="inside"?j.coxbazar:j.outOfCoxbazar)}catch(j){console.error("Error fetching shipping charges:",j),o(t==="inside"?50:100)}};H.useEffect(()=>{T()},[t]);const M=(j,V)=>{if(V<1)return;const U=n.map(I=>I.id===j?{...I,quantity:V}:I);localStorage.setItem("cart",JSON.stringify(U)),e(U),window.dispatchEvent(new Event("storage"))},N=j=>{const V=n.filter(U=>U.id!==j);localStorage.setItem("cart",JSON.stringify(V)),e(V),window.dispatchEvent(new Event("storage"))},O=()=>n.reduce((j,V)=>j+V.price*V.quantity,0),A=()=>(O()+a-h).toFixed(2),R=j=>{r(j.target.value)},B=async()=>{if(!c.trim()){_("Please enter a coupon code");return}E(!0);try{await new Promise(V=>setTimeout(V,800));const j={valid:c.toLowerCase()==="save20",discountAmount:c.toLowerCase()==="save20"?20:0,message:c.toLowerCase()==="save20"?"Coupon applied!":"Invalid coupon code"};j.valid?(p(j.discountAmount),_(`Coupon applied! Discount: ৳${j.discountAmount}`)):(p(0),_(j.message))}catch(j){console.error("Error applying coupon:",j),_("Failed to apply coupon. Please try again.")}finally{E(!1)}};return b&&n.length===0?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):v.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-7xl mx-auto",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Your Shopping Cart"}),v.jsxs("p",{className:"mt-2 text-sm sm:text-base text-gray-500",children:[n.length," ",n.length===1?"item":"items"," in your cart"]})]}),n.length===0?v.jsxs("div",{className:"text-center py-12",children:[v.jsx("svg",{className:"mx-auto h-20 w-20 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),v.jsx("h2",{className:"mt-4 text-xl font-medium text-gray-900",children:"Your cart is empty"}),v.jsx("p",{className:"mt-1 text-gray-500",children:"Start adding some items to your cart"}),v.jsx("div",{className:"mt-4",children:v.jsx(Bt,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Continue Shopping"})})]}):v.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-8 xl:gap-x-12",children:[v.jsx("div",{className:"lg:col-span-7",children:v.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:v.jsx("ul",{className:"divide-y divide-gray-200",children:n.map(j=>v.jsx("li",{className:"p-3 sm:p-4",children:v.jsxs("div",{className:"flex items-start sm:items-center",children:[v.jsx("div",{className:"flex-shrink-0 w-20 h-20 sm:w-24 sm:h-24 bg-gray-100 rounded-md overflow-hidden",children:v.jsx("img",{src:j.image,alt:j.name,className:"w-full h-full object-cover object-center"})}),v.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm sm:text-base font-medium text-gray-900 truncate",children:j.name}),v.jsxs("p",{className:"mt-1 text-sm font-semibold text-gray-900",children:["৳",j.price.toFixed(2)]})]}),v.jsx("button",{onClick:()=>N(j.id),className:"ml-2 text-gray-400 hover:text-red-500",children:v.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),v.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[v.jsxs("button",{onClick:()=>M(j.id,j.quantity-1),className:"px-2 py-1 sm:px-3 sm:py-1 text-gray-600 hover:text-gray-800",children:[v.jsx("span",{className:"sr-only",children:"Decrease quantity"}),v.jsx("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})]}),v.jsx("span",{className:"px-2 py-1 text-sm sm:text-base text-gray-900",children:j.quantity}),v.jsxs("button",{onClick:()=>M(j.id,j.quantity+1),className:"px-2 py-1 sm:px-3 sm:py-1 text-gray-600 hover:text-gray-800",children:[v.jsx("span",{className:"sr-only",children:"Increase quantity"}),v.jsx("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})]})]}),v.jsxs("div",{className:"text-sm sm:text-base font-medium text-gray-900",children:["৳",(j.price*j.quantity).toFixed(2)]})]})]})]})},j.id))})})}),v.jsx("div",{className:"mt-6 lg:mt-0 lg:col-span-5",children:v.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-5 sm:p-6",children:[v.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Subtotal"}),v.jsxs("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:["৳",O().toFixed(2)]})]}),v.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[v.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 mb-2",children:"Shipping Location"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{id:"inside",name:"shipping",type:"radio",value:"inside",checked:t==="inside",onChange:R,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),v.jsx("label",{htmlFor:"inside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Inside Cox's Bazar"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{id:"outside",name:"shipping",type:"radio",value:"outside",checked:t==="outside",onChange:R,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),v.jsx("label",{htmlFor:"outside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Outside Cox's Bazar"})]})]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Shipping"}),v.jsxs("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:["৳",a.toFixed(2)]})]}),v.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[v.jsx("label",{htmlFor:"coupon",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Coupon Code"}),v.jsxs("div",{className:"flex rounded-md shadow-sm",children:[v.jsx("input",{type:"text",id:"coupon",value:c,onChange:j=>d(j.target.value),className:"focus:ring-blue-500 focus:border-blue-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300 py-2 px-3 border text-xs sm:text-base",placeholder:"Enter coupon code"}),v.jsx("button",{onClick:B,disabled:b,className:"-ml-px relative inline-flex items-center space-x-2 px-3 sm:px-4 py-2 border border-gray-300 text-xs sm:text-sm font-medium rounded-r-md text-white bg-blue-600 hover:bg-blue-700",children:b?v.jsxs("svg",{className:"animate-spin h-3 w-3 sm:h-4 sm:w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Apply"})]}),g&&v.jsx("p",{className:`mt-1 text-xs sm:text-sm ${h>0?"text-green-600":"text-red-600"}`,children:g})]}),h>0&&v.jsxs("div",{className:"flex justify-between text-green-600 text-sm sm:text-base",children:[v.jsx("span",{children:"Discount"}),v.jsxs("span",{children:["-৳",h.toFixed(2)]})]}),v.jsx("div",{className:"border-t border-gray-200 pt-3",children:v.jsxs("div",{className:"flex justify-between text-base sm:text-lg font-bold text-gray-900",children:[v.jsx("span",{children:"Total"}),v.jsxs("span",{children:["৳",A()]})]})}),v.jsx("div",{className:"mt-4",children:v.jsx("button",{className:"w-full flex justify-center items-center px-4 py-2 sm:px-6 sm:py-3 border border-transparent rounded-md shadow-sm text-sm sm:text-base font-medium text-white bg-green-600 hover:bg-green-700",children:"Proceed to Checkout"})}),v.jsx("div",{className:"mt-4 flex justify-center text-xs sm:text-sm text-center text-gray-500",children:v.jsxs("p",{children:["or"," ",v.jsxs(Bt,{to:"/",className:"text-blue-600 font-medium hover:text-blue-500",children:["Continue Shopping",v.jsx("span",{"aria-hidden":"true",children:" →"})]})]})})]})]})})]})]})})},y5=KI([{path:"/",element:v.jsx(zL,{}),children:[{index:!0,element:v.jsx(hx,{})},{path:"/home",element:v.jsx(hx,{})},{path:"/category/:gender",element:v.jsx(m5,{})},{path:"/category/:gender/:category",element:v.jsx(mx,{})},{path:"/category/:gender",element:v.jsx(mx,{})},{path:"/all-categories",element:v.jsx(wV,{})},{path:"/product/:productId",element:v.jsx(f5,{})},{path:"/admin",element:v.jsx(bV,{})},{path:"/up-products",element:v.jsx(h5,{})},{path:"/up-categories",element:v.jsx(p5,{})},{path:"/cart",element:v.jsx(g5,{})}]}]);WR.createRoot(document.getElementById("root")).render(v.jsx(H.StrictMode,{children:v.jsx(_V,{children:v.jsx(lN,{router:y5})})}));
